/*
jQuery Waypoints - v2.0.2
Copyright (c) 2011-2013 Caleb Troughton
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/
(function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++){if(e in this&&this[e]===t)return e}return-1},e=[].slice;(function(t,e){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(n){return e(n,t)})}else{return e(t.jQuery,t)}})(this,function(n,r){var i,o,l,s,f,u,a,c,h,d,p,y,v,w,g,m;i=n(r);c=t.call(r,"ontouchstart")>=0;s={horizontal:{},vertical:{}};f=1;a={};u="waypoints-context-id";p="resize.waypoints";y="scroll.waypoints";v=1;w="waypoints-waypoint-ids";g="waypoint";m="waypoints";o=function(){function t(t){var e=this;this.$element=t;this.element=t[0];this.didResize=false;this.didScroll=false;this.id="context"+f++;this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()};this.waypoints={horizontal:{},vertical:{}};t.data(u,this.id);a[this.id]=this;t.bind(y,function(){var t;if(!(e.didScroll||c)){e.didScroll=true;t=function(){e.doScroll();return e.didScroll=false};return r.setTimeout(t,n[m].settings.scrollThrottle)}});t.bind(p,function(){var t;if(!e.didResize){e.didResize=true;t=function(){n[m]("refresh");return e.didResize=false};return r.setTimeout(t,n[m].settings.resizeThrottle)}})}t.prototype.doScroll=function(){var t,e=this;t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(c&&(!t.vertical.oldScroll||!t.vertical.newScroll)){n[m]("refresh")}n.each(t,function(t,r){var i,o,l;l=[];o=r.newScroll>r.oldScroll;i=o?r.forward:r.backward;n.each(e.waypoints[t],function(t,e){var n,i;if(r.oldScroll<(n=e.offset)&&n<=r.newScroll){return l.push(e)}else if(r.newScroll<(i=e.offset)&&i<=r.oldScroll){return l.push(e)}});l.sort(function(t,e){return t.offset-e.offset});if(!o){l.reverse()}return n.each(l,function(t,e){if(e.options.continuous||t===l.length-1){return e.trigger([i])}})});return this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}};t.prototype.refresh=function(){var t,e,r,i=this;r=n.isWindow(this.element);e=this.$element.offset();this.doScroll();t={horizontal:{contextOffset:r?0:e.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:e.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[m]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return n.each(t,function(t,e){return n.each(i.waypoints[t],function(t,r){var i,o,l,s,f;i=r.options.offset;l=r.offset;o=n.isWindow(r.element)?0:r.$element.offset()[e.offsetProp];if(n.isFunction(i)){i=i.apply(r.element)}else if(typeof i==="string"){i=parseFloat(i);if(r.options.offset.indexOf("%")>-1){i=Math.ceil(e.contextDimension*i/100)}}r.offset=o-e.contextOffset+e.contextScroll-i;if(r.options.onlyOnScroll&&l!=null||!r.enabled){return}if(l!==null&&l<(s=e.oldScroll)&&s<=r.offset){return r.trigger([e.backward])}else if(l!==null&&l>(f=e.oldScroll)&&f>=r.offset){return r.trigger([e.forward])}else if(l===null&&e.oldScroll>=r.offset){return r.trigger([e.forward])}})})};t.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([p,y].join(" "));return delete a[this.id]}};return t}();l=function(){function t(t,e,r){var i,o;r=n.extend({},n.fn[g].defaults,r);if(r.offset==="bottom-in-view"){r.offset=function(){var t;t=n[m]("viewportHeight");if(!n.isWindow(e.element)){t=e.$element.height()}return t-n(this).outerHeight()}}this.$element=t;this.element=t[0];this.axis=r.horizontal?"horizontal":"vertical";this.callback=r.handler;this.context=e;this.enabled=r.enabled;this.id="waypoints"+v++;this.offset=null;this.options=r;e.waypoints[this.axis][this.id]=this;s[this.axis][this.id]=this;i=(o=t.data(w))!=null?o:[];i.push(this.id);t.data(w,i)}t.prototype.trigger=function(t){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,t)}if(this.options.triggerOnce){return this.destroy()}};t.prototype.disable=function(){return this.enabled=false};t.prototype.enable=function(){this.context.refresh();return this.enabled=true};t.prototype.destroy=function(){delete s[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};t.getWaypointsByElement=function(t){var e,r;r=n(t).data(w);if(!r){return[]}e=n.extend({},s.horizontal,s.vertical);return n.map(r,function(t){return e[t]})};return t}();d={init:function(t,e){var r;if(e==null){e={}}if((r=e.handler)==null){e.handler=t}this.each(function(){var t,r,i,s;t=n(this);i=(s=e.context)!=null?s:n.fn[g].defaults.context;if(!n.isWindow(i)){i=t.closest(i)}i=n(i);r=a[i.data(u)];if(!r){r=new o(i)}return new l(t,r,e)});n[m]("refresh");return this},disable:function(){return d._invoke(this,"disable")},enable:function(){return d._invoke(this,"enable")},destroy:function(){return d._invoke(this,"destroy")},prev:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e>0){return t.push(n[e-1])}})},next:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e<n.length-1){return t.push(n[e+1])}})},_traverse:function(t,e,i){var o,l;if(t==null){t="vertical"}if(e==null){e=r}l=h.aggregate(e);o=[];this.each(function(){var e;e=n.inArray(this,l[t]);return i(o,e,l[t])});return this.pushStack(o)},_invoke:function(t,e){t.each(function(){var t;t=l.getWaypointsByElement(this);return n.each(t,function(t,n){n[e]();return true})});return this}};n.fn[g]=function(){var t,r;r=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(d[r]){return d[r].apply(this,t)}else if(n.isFunction(r)){return d.init.apply(this,arguments)}else if(n.isPlainObject(r)){return d.init.apply(this,[null,r])}else if(!r){return n.error("jQuery Waypoints needs a callback function or handler option.")}else{return n.error("The "+r+" method does not exist in jQuery Waypoints.")}};n.fn[g].defaults={context:r,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};h={refresh:function(){return n.each(a,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return(t=r.innerHeight)!=null?t:i.height()},aggregate:function(t){var e,r,i;e=s;if(t){e=(i=a[n(t).data(u)])!=null?i.waypoints:void 0}if(!e){return[]}r={horizontal:[],vertical:[]};n.each(r,function(t,i){n.each(e[t],function(t,e){return i.push(e)});i.sort(function(t,e){return t.offset-e.offset});r[t]=n.map(i,function(t){return t.element});return r[t]=n.unique(r[t])});return r},above:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(t,e){return d[t]=e},_invoke:function(t){var e;e=n.extend({},s.vertical,s.horizontal);return n.each(e,function(e,n){n[t]();return true})},_filter:function(t,e,r){var i,o;i=a[n(t).data(u)];if(!i){return[]}o=[];n.each(i.waypoints[e],function(t,e){if(r(i,e)){return o.push(e)}});o.sort(function(t,e){return t.offset-e.offset});return n.map(o,function(t){return t.element})}};n[m]=function(){var t,n;n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(h[n]){return h[n].apply(null,t)}else{return h.aggregate.call(null,n)}};n[m].settings={resizeThrottle:100,scrollThrottle:30};return i.load(function(){return n[m]("refresh")})})}).call(this);


/*
Sticky Elements Shortcut for jQuery Waypoints - v2.0.2
Copyright (c) 2011-2013 Caleb Troughton
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/
(function(){(function(t,n){if(typeof define==="function"&&define.amd){return define(["jquery","waypoints"],n)}else{return n(t.jQuery)}})(this,function(t){var n,e;n={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck"};e=function(n,e){n.wrap(e.wrapper);n.each(function(){var n;n=t(this);n.parent().height(n.outerHeight());return true});return n.parent()};return t.waypoints("extendFn","sticky",function(r){var i,a;r=t.extend({},t.fn.waypoint.defaults,n,r);i=e(this,r);a=r.handler;r.handler=function(n){var e,i;e=t(this).children(":first");i=n==="down"||n==="right";e.toggleClass(r.stuckClass,i);if(a!=null){return a.call(this,n)}};i.waypoint(r);return this})})}).call(this);


/* jquery.nicescroll
-- version 3.5.0 BETA5
-- copyright 2011-12-13 InuYaksa*2013
-- licensed under the MIT
--
-- http://areaaperta.com/nicescroll
-- https://github.com/inuyaksa/jquery.nicescroll
--
*/
(function(o){var h=false;var m=false;var b=false;var l=5000;var s=2000;var e=0;var f=o;function z(){var v=document.getElementsByTagName("script");var B=v[v.length-1].src.split("?")[0];return(B.split("/").length>0)?B.split("/").slice(0,-1).join("/")+"/":"";}var g=z();var y=["ms","moz","webkit","o"];var i=window.requestAnimationFrame||false;var k=window.cancelAnimationFrame||false;if(!i){for(var w in y){var p=y[w];if(!i){i=window[p+"RequestAnimationFrame"];}if(!k){k=window[p+"CancelAnimationFrame"]||window[p+"CancelRequestAnimationFrame"];}}}var r=window.MutationObserver||window.WebKitMutationObserver||false;var d={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:8*3,touchbehavior:false,hwacceleration:true,usetransition:true,boxzoom:false,dblclickzoom:true,gesturezoom:true,grabcursorenabled:true,autohidemode:true,background:"",iframeautoresize:true,cursorminheight:32,preservenativescrolling:true,railoffset:false,bouncescroll:true,spacebarenabled:true,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:true,horizrailenabled:true,railalign:"right",railvalign:"bottom",enabletranslate3d:true,enablemousewheel:true,enablekeyboard:true,smoothscroll:true,sensitiverail:true,enablemouselockapi:true,cursorfixedheight:false,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:true,enablescrollonselection:true,overflowx:true,overflowy:true,cursordragspeed:0.3,rtlmode:false,cursordragontouch:false,oneaxismousemode:"auto"};var j=false;var x=function(){if(j){return j;}var C=document.createElement("DIV");var F={};F.haspointerlock="pointerLockElement" in document||"mozPointerLockElement" in document||"webkitPointerLockElement" in document;F.isopera=("opera" in window);F.isopera12=(F.isopera&&("getUserMedia" in navigator));F.isoperamini=(Object.prototype.toString.call(window.operamini)==="[object OperaMini]");F.isie=(("all" in document)&&("attachEvent" in C)&&!F.isopera);F.isieold=(F.isie&&!("msInterpolationMode" in C.style));F.isie7=F.isie&&!F.isieold&&(!("documentMode" in document)||(document.documentMode==7));F.isie8=F.isie&&("documentMode" in document)&&(document.documentMode==8);F.isie9=F.isie&&("performance" in window)&&(document.documentMode>=9);F.isie10=F.isie&&("performance" in window)&&(document.documentMode>=10);F.isie9mobile=/iemobile.9/i.test(navigator.userAgent);if(F.isie9mobile){F.isie9=false;}F.isie7mobile=(!F.isie9mobile&&F.isie7)&&/iemobile/i.test(navigator.userAgent);F.ismozilla=("MozAppearance" in C.style);F.iswebkit=("WebkitAppearance" in C.style);F.ischrome=("chrome" in window);F.ischrome22=(F.ischrome&&F.haspointerlock);F.ischrome26=(F.ischrome&&("transition" in C.style));F.cantouch=("ontouchstart" in document.documentElement)||("ontouchstart" in window);F.hasmstouch=(window.navigator.msPointerEnabled||false);F.ismac=/^mac$/i.test(navigator.platform);F.isios=(F.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform));F.isios4=((F.isios)&&!("seal" in Object));F.isandroid=(/android/i.test(navigator.userAgent));F.trstyle=false;F.hastransform=false;F.hastranslate3d=false;F.transitionstyle=false;F.hastransition=false;F.transitionend=false;var B=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(var v=0;v<B.length;v++){if(typeof C.style[B[v]]!="undefined"){F.trstyle=B[v];break;}}F.hastransform=(F.trstyle!=false);if(F.hastransform){C.style[F.trstyle]="translate3d(1px,2px,3px)";F.hastranslate3d=/translate3d/.test(C.style[F.trstyle]);}F.transitionstyle=false;F.prefixstyle="";F.transitionend=false;var B=["transition","webkitTransition","MozTransition","OTransition","OTransition","msTransition","KhtmlTransition"];var E=["","-webkit-","-moz-","-o-","-o","-ms-","-khtml-"];var D=["transitionend","webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd","msTransitionEnd","KhtmlTransitionEnd"];for(var v=0;v<B.length;v++){if(B[v] in C.style){F.transitionstyle=B[v];F.prefixstyle=E[v];F.transitionend=D[v];break;}}if(F.ischrome26){F.prefixstyle=E[1];}F.hastransition=(F.transitionstyle);function G(){var H=["-moz-grab","-webkit-grab","grab"];if((F.ischrome&&!F.ischrome22)||F.isie){H=[];}for(var I=0;I<H.length;I++){var J=H[I];C.style.cursor=J;if(C.style.cursor==J){return J;}}return"url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize";}F.cursorgrabvalue=G();F.hasmousecapture=("setCapture" in C);F.hasMutationObserver=(r!==false);C=null;j=F;return F;};var c=function(B,F){var J=this;this.version="3.5.0 BETA5";this.name="nicescroll";this.me=F;this.opt={doc:f("body"),win:false};f.extend(this.opt,d);this.opt.snapbackspeed=80;if(B||false){for(var G in J.opt){if(typeof B[G]!="undefined"){J.opt[G]=B[G];}}}this.doc=J.opt.doc;this.iddoc=(this.doc&&this.doc[0])?this.doc[0].id||"":"";this.ispage=/BODY|HTML/.test((J.opt.win)?J.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=(J.opt.win!==false);this.win=J.opt.win||(this.ispage?f(window):this.doc);this.docscroll=(this.ispage&&!this.haswrapper)?f(window):this.win;this.body=f("body");this.viewport=false;this.isfixed=false;this.iframe=false;this.isiframe=((this.doc[0].nodeName=="IFRAME")&&(this.win[0].nodeName=="IFRAME"));this.istextarea=(this.win[0].nodeName=="TEXTAREA");this.forcescreen=false;this.canshowonmouseevent=(J.opt.autohidemode!="scroll");this.onmousedown=false;this.onmouseup=false;this.onmousemove=false;this.onmousewheel=false;this.onkeypress=false;this.ongesturezoom=false;this.onclick=false;this.onscrollstart=false;this.onscrollend=false;this.onscrollcancel=false;this.onzoomin=false;this.onzoomout=false;this.view=false;this.page=false;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.checkrtlmode=false;this.scrollrunning=false;this.scrollmom=false;this.observer=false;this.observerremover=false;do{this.id="ascrail"+(s++);}while(document.getElementById(this.id));this.rail=false;this.cursor=false;this.cursorfreezed=false;this.selectiondrag=false;this.zoom=false;this.zoomactive=false;this.hasfocus=false;this.hasmousefocus=false;this.visibility=true;this.locked=false;this.hidden=false;this.cursoractive=true;this.overflowx=J.opt.overflowx;this.overflowy=J.opt.overflowy;this.nativescrollingarea=false;this.checkarea=0;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltax=0;this.lastdeltay=0;this.detected=x();var I=f.extend({},this.detected);this.canhwscroll=(I.hastransform&&J.opt.hwacceleration);this.ishwscroll=(this.canhwscroll&&J.haswrapper);this.istouchcapable=false;if(I.cantouch&&I.ischrome&&!I.isios&&!I.isandroid){this.istouchcapable=true;I.cantouch=false;}if(I.cantouch&&I.ismozilla&&!I.isios&&!I.isandroid){this.istouchcapable=true;I.cantouch=false;}if(!J.opt.enablemouselockapi){I.hasmousecapture=false;I.haspointerlock=false;}this.delayed=function(O,Q,N,P){var L=J.delaylist[O];var M=(new Date()).getTime();if(!P&&L&&L.tt){return false;}if(L&&L.tt){clearTimeout(L.tt);}if(L&&L.last+N>M&&!L.tt){J.delaylist[O]={last:M+N,tt:setTimeout(function(){J.delaylist[O].tt=0;Q.call();},N)};}else{if(!L||!L.tt){J.delaylist[O]={last:M,tt:0};setTimeout(function(){Q.call();},0);}}};this.debounced=function(O,P,N){var L=J.delaylist[O];var M=(new Date()).getTime();J.delaylist[O]=P;if(!L){setTimeout(function(){var Q=J.delaylist[O];J.delaylist[O]=false;Q.call();},N);}};this.synched=function(M,N){function L(){if(J.onsync){return;}i(function(){J.onsync=false;for(M in J.synclist){var O=J.synclist[M];if(O){O.call(J);}J.synclist[M]=false;}});J.onsync=true;}J.synclist[M]=N;L();return M;};this.unsynched=function(L){if(J.synclist[L]){J.synclist[L]=false;}};this.css=function(M,L){for(var N in L){J.saved.css.push([M,N,M.css(N)]);M.css(N,L[N]);}};this.scrollTop=function(L){return(typeof L=="undefined")?J.getScrollTop():J.setScrollTop(L);};this.scrollLeft=function(L){return(typeof L=="undefined")?J.getScrollLeft():J.setScrollLeft(L);};BezierClass=function(M,L,N,R,Q,P,O){this.st=M;this.ed=L;this.spd=N;this.p1=R||0;this.p2=Q||1;this.p3=P||0;this.p4=O||1;this.ts=(new Date()).getTime();this.df=this.ed-this.st;};BezierClass.prototype={B2:function(L){return 3*L*L*(1-L);},B3:function(L){return 3*L*(1-L)*(1-L);},B4:function(L){return(1-L)*(1-L)*(1-L);},getNow:function(){var L=(new Date()).getTime();var M=1-((L-this.ts)/this.spd);var N=this.B2(M)+this.B3(M)+this.B4(M);return(M<0)?this.ed:this.st+Math.round(this.df*N);},update:function(L,M){this.st=this.getNow();this.ed=L;this.spd=M;this.ts=(new Date()).getTime();this.df=this.ed-this.st;return this;}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};if(I.hastranslate3d&&I.isios){this.doc.css("-webkit-backface-visibility","hidden");}function K(){var L=J.doc.css(I.trstyle);if(L&&(L.substr(0,6)=="matrix")){return L.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/);}return false;}this.getScrollTop=function(M){if(!M){var L=K();if(L){return(L.length==16)?-L[13]:-L[5];}if(J.timerscroll&&J.timerscroll.bz){return J.timerscroll.bz.getNow();}}return J.doc.translate.y;};this.getScrollLeft=function(M){if(!M){var L=K();if(L){return(L.length==16)?-L[12]:-L[4];}if(J.timerscroll&&J.timerscroll.bh){return J.timerscroll.bh.getNow();}}return J.doc.translate.x;};if(document.createEvent){this.notifyScrollEvent=function(L){var M=document.createEvent("UIEvents");M.initUIEvent("scroll",false,true,window,1);L.dispatchEvent(M);};}else{if(document.fireEvent){this.notifyScrollEvent=function(L){var M=document.createEventObject();L.fireEvent("onscroll");M.cancelBubble=true;};}else{this.notifyScrollEvent=function(L,M){};}}if(I.hastranslate3d&&J.opt.enabletranslate3d){this.setScrollTop=function(M,L){J.doc.translate.y=M;J.doc.translate.ty=(M*-1)+"px";J.doc.css(I.trstyle,"translate3d("+J.doc.translate.tx+","+J.doc.translate.ty+",0px)");if(!L){J.notifyScrollEvent(J.win[0]);}};this.setScrollLeft=function(M,L){J.doc.translate.x=M;J.doc.translate.tx=(M*-1)+"px";J.doc.css(I.trstyle,"translate3d("+J.doc.translate.tx+","+J.doc.translate.ty+",0px)");if(!L){J.notifyScrollEvent(J.win[0]);}};}else{this.setScrollTop=function(M,L){J.doc.translate.y=M;J.doc.translate.ty=(M*-1)+"px";J.doc.css(I.trstyle,"translate("+J.doc.translate.tx+","+J.doc.translate.ty+")");if(!L){J.notifyScrollEvent(J.win[0]);}};this.setScrollLeft=function(M,L){J.doc.translate.x=M;J.doc.translate.tx=(M*-1)+"px";J.doc.css(I.trstyle,"translate("+J.doc.translate.tx+","+J.doc.translate.ty+")");if(!L){J.notifyScrollEvent(J.win[0]);}};}}else{this.getScrollTop=function(){return J.docscroll.scrollTop();};this.setScrollTop=function(L){return J.docscroll.scrollTop(L);};this.getScrollLeft=function(){return J.docscroll.scrollLeft();};this.setScrollLeft=function(L){return J.docscroll.scrollLeft(L);};}this.getTarget=function(L){if(!L){return false;}if(L.target){return L.target;}if(L.srcElement){return L.srcElement;}return false;};this.hasParent=function(M,N){if(!M){return false;}var L=M.target||M.srcElement||M||false;while(L&&L.id!=N){L=L.parentNode||false;}return(L!==false);};function C(){var M=J.win;if("zIndex" in M){return M.zIndex();}while(M.length>0){if(M[0].nodeType==9){return false;}var L=M.css("zIndex");if(!isNaN(L)&&L!=0){return parseInt(L);}M=M.parent();}return false;}var H={thin:1,medium:3,thick:5};function E(O,Q,N){var M=O.css(Q);var L=parseFloat(M);if(isNaN(L)){L=H[M]||0;var P=(L==3)?((N)?(J.win.outerHeight()-J.win.innerHeight()):(J.win.outerWidth()-J.win.innerWidth())):1;if(J.isie8&&L){L+=1;}return(P)?L:0;}return L;}this.getOffset=function(){if(J.isfixed){return{top:parseFloat(J.win.css("top")),left:parseFloat(J.win.css("left"))};}if(!J.viewport){return J.win.offset();}var M=J.win.offset();var L=J.viewport.offset();return{top:M.top-L.top+J.viewport.scrollTop(),left:M.left-L.left+J.viewport.scrollLeft()};};this.updateScrollBar=function(M){if(J.ishwscroll){J.rail.css({height:J.win.innerHeight()});if(J.railh){J.railh.css({width:J.win.innerWidth()});}}else{var N=J.getOffset();var R={top:N.top,left:N.left};R.top+=E(J.win,"border-top-width",true);var Q=(J.win.outerWidth()-J.win.innerWidth())/2;R.left+=(J.rail.align)?J.win.outerWidth()-E(J.win,"border-right-width")-J.rail.width:E(J.win,"border-left-width");var O=J.opt.railoffset;if(O){if(O.top){R.top+=O.top;}if(J.rail.align&&O.left){R.left+=O.left;}}if(!J.locked){J.rail.css({top:R.top,left:R.left,height:(M)?M.h:J.win.innerHeight()});}if(J.zoom){J.zoom.css({top:R.top+1,left:(J.rail.align==1)?R.left-20:R.left+J.rail.width+4});}if(J.railh&&!J.locked){var R={top:N.top,left:N.left};var P=(J.railh.align)?R.top+E(J.win,"border-top-width",true)+J.win.innerHeight()-J.railh.height:R.top+E(J.win,"border-top-width",true);var L=R.left+E(J.win,"border-left-width");J.railh.css({top:P,left:L,width:J.railh.width});}}};this.doRailClick=function(O,N,M){var L,R,P,Q;if(J.locked){return;}J.cancelEvent(O);if(N){L=(M)?J.doScrollLeft:J.doScrollTop;P=(M)?((O.pageX-J.railh.offset().left-(J.cursorwidth/2))*J.scrollratio.x):((O.pageY-J.rail.offset().top-(J.cursorheight/2))*J.scrollratio.y);L(P);}else{L=(M)?J.doScrollLeftBy:J.doScrollBy;P=(M)?J.scroll.x:J.scroll.y;Q=(M)?O.pageX-J.railh.offset().left:O.pageY-J.rail.offset().top;R=(M)?J.view.w:J.view.h;(P>=Q)?L(R):L(-R);}};J.hasanimationframe=(i);J.hascancelanimationframe=(k);if(!J.hasanimationframe){i=function(L){return setTimeout(L,15-Math.floor((+new Date)/1000)%16);};k=clearInterval;}else{if(!J.hascancelanimationframe){k=function(){J.cancelAnimationFrame=true;};}}this.init=function(){J.saved.css=[];if(I.isie7mobile){return true;}if(I.isoperamini){return true;}if(I.hasmstouch){J.css((J.ispage)?f("html"):J.win,{"-ms-touch-action":"none"});}J.zindex="auto";if(!J.ispage&&J.opt.zindex=="auto"){J.zindex=C()||"auto";}else{J.zindex=J.opt.zindex;}if(!J.ispage&&J.zindex!="auto"){if(J.zindex>e){e=J.zindex;}}if(J.isie&&J.zindex==0&&J.opt.zindex=="auto"){J.zindex="auto";}if(!J.ispage||(!I.cantouch&&!I.isieold&&!I.isie9mobile)){var P=J.docscroll;if(J.ispage){P=(J.haswrapper)?J.win:J.doc;}if(!I.isie9mobile){J.css(P,{"overflow-y":"hidden"});}if(J.ispage&&I.isie7){if(J.doc[0].nodeName=="BODY"){J.css(f("html"),{"overflow-y":"hidden"});}else{if(J.doc[0].nodeName=="HTML"){J.css(f("body"),{"overflow-y":"hidden"});}}}if(I.isios&&!J.ispage&&!J.haswrapper){J.css(f("body"),{"-webkit-overflow-scrolling":"touch"});}var Q=f(document.createElement("div"));Q.css({position:"relative",top:0,"float":"right",width:J.opt.cursorwidth,height:"0px","background-color":J.opt.cursorcolor,border:J.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":J.opt.cursorborderradius,"-moz-border-radius":J.opt.cursorborderradius,"border-radius":J.opt.cursorborderradius});Q.hborder=parseFloat(Q.outerHeight()-Q.innerHeight());J.cursor=Q;var O=f(document.createElement("div"));O.attr("id",J.id);O.addClass("nicescroll-rails");var U,aa,M=["left","right"];for(var W in M){aa=M[W];U=J.opt.railpadding[aa];(U)?O.css("padding-"+aa,U+"px"):J.opt.railpadding[aa]=0;}O.append(Q);O.width=Math.max(parseFloat(J.opt.cursorwidth),Q.outerWidth())+J.opt.railpadding.left+J.opt.railpadding.right;O.css({width:O.width+"px",zIndex:J.zindex,background:J.opt.background,cursor:"default"});O.visibility=true;O.scrollable=true;O.align=(J.opt.railalign=="left")?0:1;J.rail=O;J.rail.drag=false;var L=false;if(J.opt.boxzoom&&!J.ispage&&!I.isieold){L=document.createElement("div");J.bind(L,"click",J.doZoom);J.zoom=f(L);J.zoom.css({cursor:"pointer","z-index":J.zindex,backgroundImage:"url("+g+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"});if(J.opt.dblclickzoom){J.bind(J.win,"dblclick",J.doZoom);}if(I.cantouch&&J.opt.gesturezoom){J.ongesturezoom=function(ad){if(ad.scale>1.5){J.doZoomIn(ad);}if(ad.scale<0.8){J.doZoomOut(ad);}return J.cancelEvent(ad);};J.bind(J.win,"gestureend",J.ongesturezoom);}}J.railh=false;if(J.opt.horizrailenabled){J.css(P,{"overflow-x":"hidden"});var Q=f(document.createElement("div"));Q.css({position:"relative",top:0,height:J.opt.cursorwidth,width:"0px","background-color":J.opt.cursorcolor,border:J.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":J.opt.cursorborderradius,"-moz-border-radius":J.opt.cursorborderradius,"border-radius":J.opt.cursorborderradius});Q.wborder=parseFloat(Q.outerWidth()-Q.innerWidth());J.cursorh=Q;var T=f(document.createElement("div"));T.attr("id",J.id+"-hr");T.addClass("nicescroll-rails");T.height=Math.max(parseFloat(J.opt.cursorwidth),Q.outerHeight());T.css({height:T.height+"px",zIndex:J.zindex,background:J.opt.background});T.append(Q);T.visibility=true;T.scrollable=true;T.align=(J.opt.railvalign=="top")?0:1;J.railh=T;J.railh.drag=false;}if(J.ispage){O.css({position:"fixed",top:"0px",height:"100%"});(O.align)?O.css({right:"0px"}):O.css({left:"0px"});J.body.append(O);if(J.railh){T.css({position:"fixed",left:"0px",width:"100%"});(T.align)?T.css({bottom:"0px"}):T.css({top:"0px"});J.body.append(T);}}else{if(J.ishwscroll){if(J.win.css("position")=="static"){J.css(J.win,{position:"relative"});}var R=(J.win[0].nodeName=="HTML")?J.body:J.win;if(J.zoom){J.zoom.css({position:"absolute",top:1,right:0,"margin-right":O.width+4});R.append(J.zoom);}O.css({position:"absolute",top:0});(O.align)?O.css({right:0}):O.css({left:0});R.append(O);if(T){T.css({position:"absolute",left:0,bottom:0});(T.align)?T.css({bottom:0}):T.css({top:0});R.append(T);}}else{J.isfixed=(J.win.css("position")=="fixed");var X=(J.isfixed)?"fixed":"absolute";if(!J.isfixed){J.viewport=J.getViewport(J.win[0]);}if(J.viewport){J.body=J.viewport;if((/relative|absolute/.test(J.viewport.css("position")))==false){J.css(J.viewport,{position:"relative"});}}O.css({position:X});if(J.zoom){J.zoom.css({position:X});}J.updateScrollBar();J.body.append(O);if(J.zoom){J.body.append(J.zoom);}if(J.railh){T.css({position:X});J.body.append(T);}}if(I.isios){J.css(J.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"});}if(I.isie&&J.opt.disableoutline){J.win.attr("hideFocus","true");}if(I.iswebkit&&J.opt.disableoutline){J.win.css({outline:"none"});}}if(J.opt.autohidemode===false){J.autohidedom=false;J.rail.css({opacity:J.opt.cursoropacitymax});if(J.railh){J.railh.css({opacity:J.opt.cursoropacitymax});}}else{if(J.opt.autohidemode===true){J.autohidedom=f().add(J.rail);if(I.isie8){J.autohidedom=J.autohidedom.add(J.cursor);}if(J.railh){J.autohidedom=J.autohidedom.add(J.railh);}if(J.railh&&I.isie8){J.autohidedom=J.autohidedom.add(J.cursorh);}}else{if(J.opt.autohidemode=="scroll"){J.autohidedom=f().add(J.rail);if(J.railh){J.autohidedom=J.autohidedom.add(J.railh);}}else{if(J.opt.autohidemode=="cursor"){J.autohidedom=f().add(J.cursor);if(J.railh){J.autohidedom=J.autohidedom.add(J.cursorh);}}else{if(J.opt.autohidemode=="hidden"){J.autohidedom=false;J.hide();J.locked=false;}}}}}if(I.isie9mobile){J.scrollmom=new u(J);J.onmangotouch=function(af){var ai=J.getScrollTop();var aj=J.getScrollLeft();if((ai==J.scrollmom.lastscrolly)&&(aj==J.scrollmom.lastscrollx)){return true;}var an=ai-J.mangotouch.sy;var ad=aj-J.mangotouch.sx;var ah=Math.round(Math.sqrt(Math.pow(ad,2)+Math.pow(an,2)));if(ah==0){return;}var ak=(an<0)?-1:1;var al=(ad<0)?-1:1;var am=+new Date();if(J.mangotouch.lazy){clearTimeout(J.mangotouch.lazy);}if(((am-J.mangotouch.tm)>80)||(J.mangotouch.dry!=ak)||(J.mangotouch.drx!=al)){J.scrollmom.stop();J.scrollmom.reset(aj,ai);J.mangotouch.sy=ai;J.mangotouch.ly=ai;J.mangotouch.sx=aj;J.mangotouch.lx=aj;J.mangotouch.dry=ak;J.mangotouch.drx=al;J.mangotouch.tm=am;}else{J.scrollmom.stop();J.scrollmom.update(J.mangotouch.sx-ad,J.mangotouch.sy-an);var ag=am-J.mangotouch.tm;J.mangotouch.tm=am;var ae=Math.max(Math.abs(J.mangotouch.ly-ai),Math.abs(J.mangotouch.lx-aj));J.mangotouch.ly=ai;J.mangotouch.lx=aj;if(ae>2){J.mangotouch.lazy=setTimeout(function(){J.mangotouch.lazy=false;J.mangotouch.dry=0;J.mangotouch.drx=0;J.mangotouch.tm=0;J.scrollmom.doMomentum(30);},100);}}};var V=J.getScrollTop();var ab=J.getScrollLeft();J.mangotouch={sy:V,ly:V,dry:0,sx:ab,lx:ab,drx:0,lazy:false,tm:0};J.bind(J.docscroll,"scroll",J.onmangotouch);}else{if(I.cantouch||J.istouchcapable||J.opt.touchbehavior||I.hasmstouch){J.scrollmom=new u(J);J.ontouchstart=function(ai){if(ai.pointerType&&ai.pointerType!=2){return false;}if(!J.locked){if(I.hasmstouch){var ae=(ai.target)?ai.target:false;while(ae){var ag=f(ae).getNiceScroll();if((ag.length>0)&&(ag[0].me==J.me)){break;}if(ag.length>0){return false;}if((ae.nodeName=="DIV")&&(ae.id==J.id)){break;}ae=(ae.parentNode)?ae.parentNode:false;}}J.cancelScroll();var ae=J.getTarget(ai);if(ae){var an=(/INPUT/i.test(ae.nodeName))&&(/range/i.test(ae.type));if(an){return J.stopPropagation(ai);}}if(!("clientX" in ai)&&("changedTouches" in ai)){ai.clientX=ai.changedTouches[0].clientX;ai.clientY=ai.changedTouches[0].clientY;}if(J.forcescreen){var ad=ai;var ai={original:(ai.original)?ai.original:ai};ai.clientX=ad.screenX;ai.clientY=ad.screenY;}J.rail.drag={x:ai.clientX,y:ai.clientY,sx:J.scroll.x,sy:J.scroll.y,st:J.getScrollTop(),sl:J.getScrollLeft(),pt:2,dl:false};if(J.ispage||!J.opt.directionlockdeadzone){J.rail.drag.dl="f";}else{var am={w:f(window).width(),h:f(window).height()};var aj={w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)};var af=Math.max(0,aj.h-am.h);var al=Math.max(0,aj.w-am.w);if(!J.rail.scrollable&&J.railh.scrollable){J.rail.drag.ck=(af>0)?"v":false;}else{if(J.rail.scrollable&&!J.railh.scrollable){J.rail.drag.ck=(al>0)?"h":false;}else{J.rail.drag.ck=false;}}if(!J.rail.drag.ck){J.rail.drag.dl="f";}}if(J.opt.touchbehavior&&J.isiframe&&I.isie){var ak=J.win.position();J.rail.drag.x+=ak.left;J.rail.drag.y+=ak.top;}J.hasmoving=false;J.lastmouseup=false;J.scrollmom.reset(ai.clientX,ai.clientY);if(!I.cantouch&&!this.istouchcapable&&!I.hasmstouch){var ah=(ae)?/INPUT|SELECT|TEXTAREA/i.test(ae.nodeName):false;if(!ah){if(!J.ispage&&I.hasmousecapture){ae.setCapture();}return(J.opt.touchbehavior)?J.cancelEvent(ai):J.stopPropagation(ai);}if(/SUBMIT|CANCEL|BUTTON/i.test(f(ae).attr("type"))){pc={tg:ae,click:false};J.preventclick=pc;}}}};J.ontouchend=function(ad){if(ad.pointerType&&ad.pointerType!=2){return false;}if(J.rail.drag&&(J.rail.drag.pt==2)){J.scrollmom.doMomentum();J.rail.drag=false;if(J.hasmoving){J.hasmoving=false;J.lastmouseup=true;J.hideCursor();if(I.hasmousecapture){document.releaseCapture();}if(!I.cantouch){return J.cancelEvent(ad);}}}};var Z=(J.opt.touchbehavior&&J.isiframe&&!I.hasmousecapture);J.ontouchmove=function(al,ah){if(al.pointerType&&al.pointerType!=2){return false;}if(J.rail.drag&&(J.rail.drag.pt==2)){if(I.cantouch&&(typeof al.original=="undefined")){return true;}J.hasmoving=true;if(J.preventclick&&!J.preventclick.click){J.preventclick.click=J.preventclick.tg.onclick||false;J.preventclick.tg.onclick=J.onpreventclick;}var am=f.extend({original:al},al);al=am;if(("changedTouches" in al)){al.clientX=al.changedTouches[0].clientX;al.clientY=al.changedTouches[0].clientY;}if(J.forcescreen){var ae=al;var al={original:(al.original)?al.original:al};al.clientX=ae.screenX;al.clientY=ae.screenY;}var ai=ofy=0;if(Z&&!ah){var an=J.win.position();ai=-an.left;ofy=-an.top;}var af=al.clientY+ofy;var ap=(af-J.rail.drag.y);var ag=al.clientX+ai;var aq=(ag-J.rail.drag.x);var aj=J.rail.drag.st-ap;if(J.ishwscroll&&J.opt.bouncescroll){if(aj<0){aj=Math.round(aj/2);}else{if(aj>J.page.maxh){aj=J.page.maxh+Math.round((aj-J.page.maxh)/2);}}}else{if(aj<0){aj=0;af=0;}if(aj>J.page.maxh){aj=J.page.maxh;af=0;}}if(J.railh&&J.railh.scrollable){var ak=J.rail.drag.sl-aq;if(J.ishwscroll&&J.opt.bouncescroll){if(ak<0){ak=Math.round(ak/2);}else{if(ak>J.page.maxw){ak=J.page.maxw+Math.round((ak-J.page.maxw)/2);}}}else{if(ak<0){ak=0;ag=0;}if(ak>J.page.maxw){ak=J.page.maxw;ag=0;}}}var ao=false;if(J.rail.drag.dl){ao=true;if(J.rail.drag.dl=="v"){ak=J.rail.drag.sl;}else{if(J.rail.drag.dl=="h"){aj=J.rail.drag.st;}}}else{var at=Math.abs(ap);var ad=Math.abs(aq);var ar=J.opt.directionlockdeadzone;if(J.rail.drag.ck=="v"){if(at>ar&&(ad<=(at*0.3))){J.rail.drag=false;return true;}else{if(ad>ar){J.rail.drag.dl="f";f("body").scrollTop(f("body").scrollTop());}}}else{if(J.rail.drag.ck=="h"){if(ad>ar&&(at<=(ad*0.3))){J.rail.drag=false;return true;}else{if(at>ar){J.rail.drag.dl="f";f("body").scrollLeft(f("body").scrollLeft());}}}}}J.synched("touchmove",function(){if(J.rail.drag&&(J.rail.drag.pt==2)){if(J.prepareTransition){J.prepareTransition(0);}if(J.rail.scrollable){J.setScrollTop(aj);}J.scrollmom.update(ag,af);if(J.railh&&J.railh.scrollable){J.setScrollLeft(ak);J.showCursor(aj,ak);}else{J.showCursor(aj);}if(I.isie10){document.selection.clear();}}});if(I.ischrome&&J.istouchcapable){ao=false;}if(ao){return J.cancelEvent(al);}}};}J.onmousedown=function(af,ad){if(J.rail.drag&&J.rail.drag.pt!=1){return;}if(J.locked){return J.cancelEvent(af);}J.cancelScroll();J.rail.drag={x:af.clientX,y:af.clientY,sx:J.scroll.x,sy:J.scroll.y,pt:1,hr:(!!ad)};var ae=J.getTarget(af);if(!J.ispage&&I.hasmousecapture){ae.setCapture();}if(J.isiframe&&!I.hasmousecapture){J.saved.csspointerevents=J.doc.css("pointer-events");J.css(J.doc,{"pointer-events":"none"});}return J.cancelEvent(af);};J.onmouseup=function(ad){if(J.rail.drag){if(I.hasmousecapture){document.releaseCapture();}if(J.isiframe&&!I.hasmousecapture){J.doc.css("pointer-events",J.saved.csspointerevents);}if(J.rail.drag.pt!=1){return;}J.rail.drag=false;return J.cancelEvent(ad);}};J.onmousemove=function(ae){if(J.rail.drag){if(J.rail.drag.pt!=1){return;}if(I.ischrome&&ae.which==0){return J.onmouseup(ae);}J.cursorfreezed=true;if(J.rail.drag.hr){J.scroll.x=J.rail.drag.sx+(ae.clientX-J.rail.drag.x);if(J.scroll.x<0){J.scroll.x=0;}var af=J.scrollvaluemaxw;if(J.scroll.x>af){J.scroll.x=af;}}else{J.scroll.y=J.rail.drag.sy+(ae.clientY-J.rail.drag.y);if(J.scroll.y<0){J.scroll.y=0;}var ad=J.scrollvaluemax;if(J.scroll.y>ad){J.scroll.y=ad;}}J.synched("mousemove",function(){if(J.rail.drag&&(J.rail.drag.pt==1)){J.showCursor();if(J.rail.drag.hr){J.doScrollLeft(Math.round(J.scroll.x*J.scrollratio.x),J.opt.cursordragspeed);}else{J.doScrollTop(Math.round(J.scroll.y*J.scrollratio.y),J.opt.cursordragspeed);}}});return J.cancelEvent(ae);}};if(I.cantouch||J.opt.touchbehavior){J.onpreventclick=function(ad){if(J.preventclick){J.preventclick.tg.onclick=J.preventclick.click;J.preventclick=false;return J.cancelEvent(ad);}};J.bind(J.win,"mousedown",J.ontouchstart);J.onclick=(I.isios)?false:function(ad){if(J.lastmouseup){J.lastmouseup=false;return J.cancelEvent(ad);}else{return true;}};if(J.opt.grabcursorenabled&&I.cursorgrabvalue){J.css((J.ispage)?J.doc:J.win,{cursor:I.cursorgrabvalue});J.css(J.rail,{cursor:I.cursorgrabvalue});}}else{function N(af){if(!J.selectiondrag){return;}if(af){var ae=J.win.outerHeight();var ag=(af.pageY-J.selectiondrag.top);if(ag>0&&ag<ae){ag=0;}if(ag>=ae){ag-=ae;}J.selectiondrag.df=ag;}if(J.selectiondrag.df==0){return;}var ad=-Math.floor(J.selectiondrag.df/6)*2;J.doScrollBy(ad);J.debounced("doselectionscroll",function(){N();},50);}if("getSelection" in document){J.hasTextSelected=function(){return(document.getSelection().rangeCount>0);};}else{if("selection" in document){J.hasTextSelected=function(){return(document.selection.type!="None");};}else{J.hasTextSelected=function(){return false;};}}J.onselectionstart=function(ad){if(J.ispage){return;}J.selectiondrag=J.win.offset();};J.onselectionend=function(ad){J.selectiondrag=false;};J.onselectiondrag=function(ad){if(!J.selectiondrag){return;}if(J.hasTextSelected()){J.debounced("selectionscroll",function(){N(ad);},250);}};}if(I.hasmstouch){J.css(J.rail,{"-ms-touch-action":"none"});J.css(J.cursor,{"-ms-touch-action":"none"});J.bind(J.win,"MSPointerDown",J.ontouchstart);J.bind(document,"MSPointerUp",J.ontouchend);J.bind(document,"MSPointerMove",J.ontouchmove);J.bind(J.cursor,"MSGestureHold",function(ad){ad.preventDefault();});J.bind(J.cursor,"contextmenu",function(ad){ad.preventDefault();});}if(this.istouchcapable){J.bind(J.win,"touchstart",J.ontouchstart);J.bind(document,"touchend",J.ontouchend);J.bind(document,"touchcancel",J.ontouchend);J.bind(document,"touchmove",J.ontouchmove);}J.bind(J.cursor,"mousedown",J.onmousedown);J.bind(J.cursor,"mouseup",J.onmouseup);if(J.railh){J.bind(J.cursorh,"mousedown",function(ad){J.onmousedown(ad,true);});J.bind(J.cursorh,"mouseup",function(ad){if(J.rail.drag&&J.rail.drag.pt==2){return;}J.rail.drag=false;J.hasmoving=false;J.hideCursor();if(I.hasmousecapture){document.releaseCapture();}return J.cancelEvent(ad);});}if(J.opt.cursordragontouch||!I.cantouch&&!J.opt.touchbehavior){J.rail.css({cursor:"default"});J.railh&&J.railh.css({cursor:"default"});J.jqbind(J.rail,"mouseenter",function(){if(J.canshowonmouseevent){J.showCursor();}J.rail.active=true;});J.jqbind(J.rail,"mouseleave",function(){J.rail.active=false;if(!J.rail.drag){J.hideCursor();}});if(J.opt.sensitiverail){J.bind(J.rail,"click",function(ad){J.doRailClick(ad,false,false);});J.bind(J.rail,"dblclick",function(ad){J.doRailClick(ad,true,false);});J.bind(J.cursor,"click",function(ad){J.cancelEvent(ad);});J.bind(J.cursor,"dblclick",function(ad){J.cancelEvent(ad);});}if(J.railh){J.jqbind(J.railh,"mouseenter",function(){if(J.canshowonmouseevent){J.showCursor();}J.rail.active=true;});J.jqbind(J.railh,"mouseleave",function(){J.rail.active=false;if(!J.rail.drag){J.hideCursor();}});if(J.opt.sensitiverail){J.bind(J.railh,"click",function(ad){J.doRailClick(ad,false,true);});J.bind(J.railh,"dblclick",function(ad){J.doRailClick(ad,true,true);});J.bind(J.cursorh,"click",function(ad){J.cancelEvent(ad);});J.bind(J.cursorh,"dblclick",function(ad){J.cancelEvent(ad);});}}}if(!I.cantouch&&!J.opt.touchbehavior){J.bind((I.hasmousecapture)?J.win:document,"mouseup",J.onmouseup);J.bind(document,"mousemove",J.onmousemove);if(J.onclick){J.bind(document,"click",J.onclick);}if(!J.ispage&&J.opt.enablescrollonselection){J.bind(J.win[0],"mousedown",J.onselectionstart);J.bind(document,"mouseup",J.onselectionend);J.bind(J.cursor,"mouseup",J.onselectionend);if(J.cursorh){J.bind(J.cursorh,"mouseup",J.onselectionend);}J.bind(document,"mousemove",J.onselectiondrag);}if(J.zoom){J.jqbind(J.zoom,"mouseenter",function(){if(J.canshowonmouseevent){J.showCursor();}J.rail.active=true;});J.jqbind(J.zoom,"mouseleave",function(){J.rail.active=false;if(!J.rail.drag){J.hideCursor();}});}}else{J.bind((I.hasmousecapture)?J.win:document,"mouseup",J.ontouchend);J.bind(document,"mousemove",J.ontouchmove);if(J.onclick){J.bind(document,"click",J.onclick);}if(J.opt.cursordragontouch){J.bind(J.cursor,"mousedown",J.onmousedown);J.bind(J.cursor,"mousemove",J.onmousemove);J.cursorh&&J.bind(J.cursorh,"mousedown",J.onmousedown);J.cursorh&&J.bind(J.cursorh,"mousemove",J.onmousemove);}}if(J.opt.enablemousewheel){if(!J.isiframe){J.bind((I.isie&&J.ispage)?document:J.win,"mousewheel",J.onmousewheel);}J.bind(J.rail,"mousewheel",J.onmousewheel);if(J.railh){J.bind(J.railh,"mousewheel",J.onmousewheelhr);}}if(!J.ispage&&!I.cantouch&&!(/HTML|BODY/.test(J.win[0].nodeName))){if(!J.win.attr("tabindex")){J.win.attr({tabindex:l++});}J.jqbind(J.win,"focus",function(ad){h=(J.getTarget(ad)).id||true;J.hasfocus=true;if(J.canshowonmouseevent){J.noticeCursor();}});J.jqbind(J.win,"blur",function(ad){h=false;J.hasfocus=false;});J.jqbind(J.win,"mouseenter",function(ad){m=(J.getTarget(ad)).id||true;J.hasmousefocus=true;if(J.canshowonmouseevent){J.noticeCursor();}});J.jqbind(J.win,"mouseleave",function(){m=false;J.hasmousefocus=false;});}}J.onkeypress=function(ai){if(J.locked&&J.page.maxh==0){return true;}ai=(ai)?ai:window.e;var ah=J.getTarget(ai);if(ah&&/INPUT|TEXTAREA|SELECT|OPTION/.test(ah.nodeName)){var aj=ah.getAttribute("type")||ah.type||false;if((!aj)||!(/submit|button|cancel/i.tp)){return true;}}if(J.hasfocus||(J.hasmousefocus&&!h)||(J.ispage&&!h&&!m)){var af=ai.keyCode;if(J.locked&&af!=27){return J.cancelEvent(ai);}var ag=ai.ctrlKey||false;var ad=ai.shiftKey||false;var ae=false;switch(af){case 38:case 63233:J.doScrollBy(24*3);ae=true;break;case 40:case 63235:J.doScrollBy(-24*3);ae=true;break;case 37:case 63232:if(J.railh){(ag)?J.doScrollLeft(0):J.doScrollLeftBy(24*3);ae=true;}break;case 39:case 63234:if(J.railh){(ag)?J.doScrollLeft(J.page.maxw):J.doScrollLeftBy(-24*3);ae=true;}break;case 33:case 63276:J.doScrollBy(J.view.h);ae=true;break;case 34:case 63277:J.doScrollBy(-J.view.h);ae=true;break;case 36:case 63273:(J.railh&&ag)?J.doScrollPos(0,0):J.doScrollTo(0);ae=true;break;case 35:case 63275:(J.railh&&ag)?J.doScrollPos(J.page.maxw,J.page.maxh):J.doScrollTo(J.page.maxh);ae=true;break;case 32:if(J.opt.spacebarenabled){(ad)?J.doScrollBy(J.view.h):J.doScrollBy(-J.view.h);ae=true;}break;case 27:if(J.zoomactive){J.doZoom();ae=true;}break;}if(ae){return J.cancelEvent(ai);}}};if(J.opt.enablekeyboard){J.bind(document,(I.isopera&&!I.isopera12)?"keypress":"keydown",J.onkeypress);}J.bind(window,"resize",J.lazyResize);J.bind(window,"orientationchange",J.lazyResize);J.bind(window,"load",J.lazyResize);if(I.ischrome&&!J.ispage&&!J.haswrapper){var Y=J.win.attr("style");var ac=parseFloat(J.win.css("width"))+1;J.win.css("width",ac);J.synched("chromefix",function(){J.win.attr("style",Y);});}J.onAttributeChange=function(ad){J.lazyResize(250);};if(!J.ispage&&!J.haswrapper){if(r!==false){J.observer=new r(function(ad){ad.forEach(J.onAttributeChange);});J.observer.observe(J.win[0],{childList:true,characterData:false,attributes:true,subtree:false});J.observerremover=new r(function(ad){ad.forEach(function(af){if(af.removedNodes.length>0){for(var ae in af.removedNodes){if(af.removedNodes[ae]==J.win[0]){return J.remove();}}}});});J.observerremover.observe(J.win[0].parentNode,{childList:true,characterData:false,attributes:false,subtree:false});}else{J.bind(J.win,(I.isie&&!I.isie9)?"propertychange":"DOMAttrModified",J.onAttributeChange);if(I.isie9){J.win[0].attachEvent("onpropertychange",J.onAttributeChange);}J.bind(J.win,"DOMNodeRemoved",function(ad){if(ad.target==J.win[0]){J.remove();}});}}if(!J.ispage&&J.opt.boxzoom){J.bind(window,"resize",J.resizeZoom);}if(J.istextarea){J.bind(J.win,"mouseup",J.lazyResize);}J.checkrtlmode=true;J.lazyResize(30);}if(this.doc[0].nodeName=="IFRAME"){function S(ag){J.iframexd=false;try{var af="contentDocument" in this?this.contentDocument:this.contentWindow.document;var ad=af.domain;}catch(ag){J.iframexd=true;af=false;}if(J.iframexd){if("console" in window){console.log("NiceScroll error: policy restriced iframe");}return true;}J.forcescreen=true;if(J.isiframe){J.iframe={doc:f(af),html:J.doc.contents().find("html")[0],body:J.doc.contents().find("body")[0]};J.getContentSize=function(){return{w:Math.max(J.iframe.html.scrollWidth,J.iframe.body.scrollWidth),h:Math.max(J.iframe.html.scrollHeight,J.iframe.body.scrollHeight)};};J.docscroll=f(J.iframe.body);}if(!I.isios&&J.opt.iframeautoresize&&!J.isiframe){J.win.scrollTop(0);J.doc.height("");var ae=Math.max(af.getElementsByTagName("html")[0].scrollHeight,af.body.scrollHeight);J.doc.height(ae);}J.lazyResize(30);if(I.isie7){J.css(f(J.iframe.html),{"overflow-y":"hidden"});}J.css(f(J.iframe.body),{"overflow-y":"hidden"});if(I.isios&&J.haswrapper){J.css(f(af.body),{"-webkit-transform":"translate3d(0,0,0)"});console.log(1);}if("contentWindow" in this){J.bind(this.contentWindow,"scroll",J.onscroll);}else{J.bind(af,"scroll",J.onscroll);}if(J.opt.enablemousewheel){J.bind(af,"mousewheel",J.onmousewheel);}if(J.opt.enablekeyboard){J.bind(af,(I.isopera)?"keypress":"keydown",J.onkeypress);}if(I.cantouch||J.opt.touchbehavior){J.bind(af,"mousedown",J.ontouchstart);J.bind(af,"mousemove",function(ah){J.ontouchmove(ah,true);});if(J.opt.grabcursorenabled&&I.cursorgrabvalue){J.css(f(af.body),{cursor:I.cursorgrabvalue});}}J.bind(af,"mouseup",J.ontouchend);if(J.zoom){if(J.opt.dblclickzoom){J.bind(af,"dblclick",J.doZoom);}if(J.ongesturezoom){J.bind(af,"gestureend",J.ongesturezoom);}}}if(this.doc[0].readyState&&this.doc[0].readyState=="complete"){setTimeout(function(){S.call(J.doc[0],false);},500);}J.bind(this.doc,"load",S);}};this.showCursor=function(L,M){if(J.cursortimeout){clearTimeout(J.cursortimeout);J.cursortimeout=0;}if(!J.rail){return;}if(J.autohidedom){J.autohidedom.stop().css({opacity:J.opt.cursoropacitymax});J.cursoractive=true;}if(!J.rail.drag||J.rail.drag.pt!=1){if((typeof L!="undefined")&&(L!==false)){J.scroll.y=Math.round(L*1/J.scrollratio.y);}if(typeof M!="undefined"){J.scroll.x=Math.round(M*1/J.scrollratio.x);}}J.cursor.css({height:J.cursorheight,top:J.scroll.y});if(J.cursorh){(!J.rail.align&&J.rail.visibility)?J.cursorh.css({width:J.cursorwidth,left:J.scroll.x+J.rail.width}):J.cursorh.css({width:J.cursorwidth,left:J.scroll.x});J.cursoractive=true;}if(J.zoom){J.zoom.stop().css({opacity:J.opt.cursoropacitymax});}};this.hideCursor=function(L){if(J.cursortimeout){return;}if(!J.rail){return;}if(!J.autohidedom){return;}J.cursortimeout=setTimeout(function(){if(!J.rail.active||!J.showonmouseevent){J.autohidedom.stop().animate({opacity:J.opt.cursoropacitymin});if(J.zoom){J.zoom.stop().animate({opacity:J.opt.cursoropacitymin});}J.cursoractive=false;}J.cursortimeout=0;},L||J.opt.hidecursordelay);};this.noticeCursor=function(L,M,N){J.showCursor(M,N);if(!J.rail.active){J.hideCursor(L);}};this.getContentSize=(J.ispage)?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)};}:(J.haswrapper)?function(){return{w:J.doc.outerWidth()+parseInt(J.win.css("paddingLeft"))+parseInt(J.win.css("paddingRight")),h:J.doc.outerHeight()+parseInt(J.win.css("paddingTop"))+parseInt(J.win.css("paddingBottom"))};}:function(){return{w:J.docscroll[0].scrollWidth,h:J.docscroll[0].scrollHeight};};this.onResize=function(P,N){if(!J.win){return false;}if(!J.haswrapper&&!J.ispage){if(J.win.css("display")=="none"){if(J.visibility){J.hideRail().hideRailHr();}return false;}else{if(!J.hidden&&!J.visibility){J.showRail().showRailHr();}}}var S=J.page.maxh;var M=J.page.maxw;var O={h:J.view.h,w:J.view.w};J.view={w:(J.ispage)?J.win.width():parseInt(J.win[0].clientWidth),h:(J.ispage)?J.win.height():parseInt(J.win[0].clientHeight)};J.page=(N)?N:J.getContentSize();J.page.maxh=Math.max(0,J.page.h-J.view.h);J.page.maxw=Math.max(0,J.page.w-J.view.w);if((J.page.maxh==S)&&(J.page.maxw==M)&&(J.view.w==O.w)){if(!J.ispage){var R=J.win.offset();if(J.lastposition){var L=J.lastposition;if((L.top==R.top)&&(L.left==R.left)){return J;}}J.lastposition=R;}else{return J;}}if(J.page.maxh==0){J.hideRail();J.scrollvaluemax=0;J.scroll.y=0;J.scrollratio.y=0;J.cursorheight=0;J.setScrollTop(0);J.rail.scrollable=false;}else{J.rail.scrollable=true;}if(J.page.maxw==0){J.hideRailHr();J.scrollvaluemaxw=0;J.scroll.x=0;J.scrollratio.x=0;J.cursorwidth=0;J.setScrollLeft(0);J.railh.scrollable=false;}else{J.railh.scrollable=true;}J.locked=(J.page.maxh==0)&&(J.page.maxw==0);if(J.locked){if(!J.ispage){J.updateScrollBar(J.view);}return false;}if(!J.hidden&&!J.visibility){J.showRail().showRailHr();}else{if(!J.hidden&&!J.railh.visibility){J.showRailHr();}}if(J.istextarea&&J.win.css("resize")&&J.win.css("resize")!="none"){J.view.h-=20;}J.cursorheight=Math.min(J.view.h,Math.round(J.view.h*(J.view.h/J.page.h)));J.cursorheight=(J.opt.cursorfixedheight)?J.opt.cursorfixedheight:Math.max(J.opt.cursorminheight,J.cursorheight);J.cursorwidth=Math.min(J.view.w,Math.round(J.view.w*(J.view.w/J.page.w)));J.cursorwidth=(J.opt.cursorfixedheight)?J.opt.cursorfixedheight:Math.max(J.opt.cursorminheight,J.cursorwidth);J.scrollvaluemax=J.view.h-J.cursorheight-J.cursor.hborder;if(J.railh){J.railh.width=(J.page.maxh>0)?(J.view.w-J.rail.width):J.view.w;J.scrollvaluemaxw=J.railh.width-J.cursorwidth-J.cursorh.wborder;}if(J.checkrtlmode&&J.railh){J.checkrtlmode=false;if(J.opt.rtlmode&&J.scroll.x==0){J.setScrollLeft(J.page.maxw);}}if(!J.ispage){J.updateScrollBar(J.view);}J.scrollratio={x:(J.page.maxw/J.scrollvaluemaxw),y:(J.page.maxh/J.scrollvaluemax)};var Q=J.getScrollTop();if(Q>J.page.maxh){J.doScrollTop(J.page.maxh);}else{J.scroll.y=Math.round(J.getScrollTop()*(1/J.scrollratio.y));J.scroll.x=Math.round(J.getScrollLeft()*(1/J.scrollratio.x));if(J.cursoractive){J.noticeCursor();}}if(J.scroll.y&&(J.getScrollTop()==0)){J.doScrollTo(Math.floor(J.scroll.y*J.scrollratio.y));}return J;};this.resize=J.onResize;this.lazyResize=function(L){L=(isNaN(L))?30:L;J.delayed("resize",J.resize,L);return J;};function v(O,M,N,L){J._bind(O,M,function(Q){var Q=(Q)?Q:window.event;var P={original:Q,target:Q.target||Q.srcElement,type:"wheel",deltaMode:Q.type=="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0,preventDefault:function(){Q.preventDefault?Q.preventDefault():Q.returnValue=false;return false;},stopImmediatePropagation:function(){(Q.stopImmediatePropagation)?Q.stopImmediatePropagation():Q.cancelBubble=true;}};if(M=="mousewheel"){P.deltaY=-1/40*Q.wheelDelta;Q.wheelDeltaX&&(P.deltaX=-1/40*Q.wheelDeltaX);}else{P.deltaY=Q.detail;}return N.call(O,P);},L);}this._bind=function(O,M,N,L){J.events.push({e:O,n:M,f:N,b:L,q:false});if(O.addEventListener){O.addEventListener(M,N,L||false);}else{if(O.attachEvent){O.attachEvent("on"+M,N);}else{O["on"+M]=N;}}};this.jqbind=function(N,L,M){J.events.push({e:N,n:L,f:M,q:true});f(N).bind(L,M);};this.bind=function(R,N,Q,L){var P=("jquery" in R)?R[0]:R;if(N=="mousewheel"){if("onwheel" in J.win){J._bind(P,"wheel",Q,L||false);}else{var M=(typeof document.onmousewheel!="undefined")?"mousewheel":"DOMMouseScroll";v(P,M,Q,L||false);if(M=="DOMMouseScroll"){v(P,"MozMousePixelScroll",Q,L||false);}}}else{if(P.addEventListener){if(I.cantouch&&/mouseup|mousedown|mousemove/.test(N)){var O=(N=="mousedown")?"touchstart":(N=="mouseup")?"touchend":"touchmove";J._bind(P,O,function(T){if(T.touches){if(T.touches.length<2){var S=(T.touches.length)?T.touches[0]:T;S.original=T;Q.call(this,S);}}else{if(T.changedTouches){var S=T.changedTouches[0];S.original=T;Q.call(this,S);}}},L||false);}J._bind(P,N,Q,L||false);if(I.cantouch&&N=="mouseup"){J._bind(P,"touchcancel",Q,L||false);}}else{J._bind(P,N,function(S){S=S||window.event||false;if(S){if(S.srcElement){S.target=S.srcElement;}}if(!("pageY" in S)){S.pageX=S.clientX+document.documentElement.scrollLeft;S.pageY=S.clientY+document.documentElement.scrollTop;}return((Q.call(P,S)===false)||L===false)?J.cancelEvent(S):true;});}}};this._unbind=function(N,L,M,O){if(N.removeEventListener){N.removeEventListener(L,M,O);}else{if(N.detachEvent){N.detachEvent("on"+L,M);}else{N["on"+L]=false;}}};this.unbindAll=function(){for(var L=0;L<J.events.length;L++){var M=J.events[L];(M.q)?M.e.unbind(M.n,M.f):J._unbind(M.e,M.n,M.f,M.b);}};this.cancelEvent=function(L){var L=(L.original)?L.original:(L)?L:window.event||false;if(!L){return false;}if(L.preventDefault){L.preventDefault();}if(L.stopPropagation){L.stopPropagation();}if(L.preventManipulation){L.preventManipulation();}L.cancelBubble=true;L.cancel=true;L.returnValue=false;return false;};this.stopPropagation=function(L){var L=(L.original)?L.original:(L)?L:window.event||false;if(!L){return false;}if(L.stopPropagation){return L.stopPropagation();}if(L.cancelBubble){L.cancelBubble=true;}return false;};this.showRail=function(){if((J.page.maxh!=0)&&(J.ispage||J.win.css("display")!="none")){J.visibility=true;J.rail.visibility=true;J.rail.css("display","block");}return J;};this.showRailHr=function(){if(!J.railh){return J;}if((J.page.maxw!=0)&&(J.ispage||J.win.css("display")!="none")){J.railh.visibility=true;J.railh.css("display","block");}return J;};this.hideRail=function(){J.visibility=false;J.rail.visibility=false;J.rail.css("display","none");return J;};this.hideRailHr=function(){if(!J.railh){return J;}J.railh.visibility=false;J.railh.css("display","none");return J;};this.show=function(){J.hidden=false;J.locked=false;return J.showRail().showRailHr();};this.hide=function(){J.hidden=true;J.locked=true;return J.hideRail().hideRailHr();};this.toggle=function(){return(J.hidden)?J.show():J.hide();};this.remove=function(){J.stop();if(J.cursortimeout){clearTimeout(J.cursortimeout);}J.doZoomOut();J.unbindAll();if(I.isie9){J.win[0].detachEvent("onpropertychange",J.onAttributeChange);}if(J.observer!==false){J.observer.disconnect();}if(J.observerremover!==false){J.observerremover.disconnect();}J.events=null;if(J.cursor){J.cursor.remove();}if(J.cursorh){J.cursorh.remove();}if(J.rail){J.rail.remove();}if(J.railh){J.railh.remove();}if(J.zoom){J.zoom.remove();}for(var M=0;M<J.saved.css.length;M++){var O=J.saved.css[M];O[0].css(O[1],(typeof O[2]=="undefined")?"":O[2]);}J.saved=false;J.me.data("__nicescroll","");var L=f.nicescroll;L.each(function(Q){if(!this){return;}if(this.id===J.id){delete L[Q];for(var P=++Q;P<L.length;P++,Q++){L[Q]=L[P];}L.length--;if(L.length){delete L[L.length];}}});for(var N in J){J[N]=null;delete J[N];}J=null;};this.scrollstart=function(L){this.onscrollstart=L;return J;};this.scrollend=function(L){this.onscrollend=L;return J;};this.scrollcancel=function(L){this.onscrollcancel=L;return J;};this.zoomin=function(L){this.onzoomin=L;return J;};this.zoomout=function(L){this.onzoomout=L;return J;};this.isScrollable=function(N){var O=(N.target)?N.target:N;if(O.nodeName=="OPTION"){return true;}while(O&&(O.nodeType==1)&&!(/BODY|HTML/.test(O.nodeName))){var L=f(O);var M=L.css("overflowY")||L.css("overflowX")||L.css("overflow")||"";if(/scroll|auto/.test(M)){return(O.clientHeight!=O.scrollHeight);}O=(O.parentNode)?O.parentNode:false;}return false;};this.getViewport=function(N){var O=(N&&N.parentNode)?N.parentNode:false;while(O&&(O.nodeType==1)&&!(/BODY|HTML/.test(O.nodeName))){var L=f(O);var M=L.css("overflowY")||L.css("overflowX")||L.css("overflow")||"";if((/scroll|auto/.test(M))&&(O.clientHeight!=O.scrollHeight)){return L;}if(L.getNiceScroll().length>0){return L;}O=(O.parentNode)?O.parentNode:false;}return false;};function D(Q,O,P){var N,M;var L=1;if(Q.deltaMode==0){N=-Math.floor(Q.deltaX*(J.opt.mousescrollstep/(18*3)));M=-Math.floor(Q.deltaY*(J.opt.mousescrollstep/(18*3)));}else{if(Q.deltaMode==1){N=-Math.floor(Q.deltaX*J.opt.mousescrollstep);M=-Math.floor(Q.deltaY*J.opt.mousescrollstep);}}if(O&&J.opt.oneaxismousemode&&(N==0)&&M){N=M;M=0;}if(N){if(J.scrollmom){J.scrollmom.stop();}J.lastdeltax+=N;J.debounced("mousewheelx",function(){var R=J.lastdeltax;J.lastdeltax=0;if(!J.rail.drag){J.doScrollLeftBy(R);}},120);}if(M){if(J.opt.nativeparentscrolling&&P&&!J.ispage&&!J.zoomactive){if(M<0){if(J.getScrollTop()>=J.page.maxh){return true;}}else{if(J.getScrollTop()<=0){return true;}}}if(J.scrollmom){J.scrollmom.stop();}J.lastdeltay+=M;J.debounced("mousewheely",function(){var R=J.lastdeltay;J.lastdeltay=0;if(!J.rail.drag){J.doScrollBy(R);}},120);}Q.stopImmediatePropagation();return Q.preventDefault();}this.onmousewheel=function(O){if(J.locked){J.debounced("checkunlock",J.resize,250);return true;}if(J.rail.drag){return J.cancelEvent(O);}if(J.opt.oneaxismousemode=="auto"&&O.deltaX!=0){J.opt.oneaxismousemode=false;}if(J.opt.oneaxismousemode&&O.deltaX==0){if(!J.rail.scrollable){if(J.railh&&J.railh.scrollable){return J.onmousewheelhr(O);}else{return true;}}}var M=+(new Date());var L=false;if(J.opt.preservenativescrolling&&((J.checkarea+600)<M)){J.nativescrollingarea=J.isScrollable(O);L=true;}J.checkarea=M;if(J.nativescrollingarea){return true;}var N=D(O,false,L);if(N){J.checkarea=0;}return N;};this.onmousewheelhr=function(N){if(J.locked||!J.railh.scrollable){return true;}if(J.rail.drag){return J.cancelEvent(N);}var M=+(new Date());var L=false;if(J.opt.preservenativescrolling&&((J.checkarea+600)<M)){J.nativescrollingarea=J.isScrollable(N);L=true;}J.checkarea=M;if(J.nativescrollingarea){return true;}if(J.locked){return J.cancelEvent(N);}return D(N,true,L);};this.stop=function(){J.cancelScroll();if(J.scrollmon){J.scrollmon.stop();}J.cursorfreezed=false;J.scroll.y=Math.round(J.getScrollTop()*(1/J.scrollratio.y));J.noticeCursor();return J;};this.getTransitionSpeed=function(M){var N=Math.round(J.opt.scrollspeed*10);var L=Math.min(N,Math.round((M/20)*J.opt.scrollspeed));return(L>20)?L:0;};if(!J.opt.smoothscroll){this.doScrollLeft=function(L,M){var N=J.getScrollTop();J.doScrollPos(L,N,M);};this.doScrollTop=function(N,M){var L=J.getScrollLeft();J.doScrollPos(L,N,M);};this.doScrollPos=function(M,P,N){var L=(M>J.page.maxw)?J.page.maxw:M;if(L<0){L=0;}var O=(P>J.page.maxh)?J.page.maxh:P;if(O<0){O=0;}J.synched("scroll",function(){J.setScrollTop(O);J.setScrollLeft(L);});};this.cancelScroll=function(){};}else{if(J.ishwscroll&&I.hastransition&&J.opt.usetransition){this.prepareTransition=function(O,L){var N=(L)?((O>20)?O:0):J.getTransitionSpeed(O);var M=(N)?I.prefixstyle+"transform "+N+"ms ease-out":"";if(!J.lasttransitionstyle||J.lasttransitionstyle!=M){J.lasttransitionstyle=M;J.doc.css(I.transitionstyle,M);}return N;};this.doScrollLeft=function(L,M){var N=(J.scrollrunning)?J.newscrolly:J.getScrollTop();J.doScrollPos(L,N,M);};this.doScrollTop=function(N,M){var L=(J.scrollrunning)?J.newscrollx:J.getScrollLeft();J.doScrollPos(L,N,M);};this.doScrollPos=function(L,P,O){var M=J.getScrollTop();var N=J.getScrollLeft();if(((J.newscrolly-M)*(P-M)<0)||((J.newscrollx-N)*(L-N)<0)){J.cancelScroll();}if(J.opt.bouncescroll==false){if(P<0){P=0;}else{if(P>J.page.maxh){P=J.page.maxh;}}if(L<0){L=0;}else{if(L>J.page.maxw){L=J.page.maxw;}}}if(J.scrollrunning&&L==J.newscrollx&&P==J.newscrolly){return false;}J.newscrolly=P;J.newscrollx=L;J.newscrollspeed=O||false;if(J.timer){return false;}J.timer=setTimeout(function(){var W=J.getScrollTop();var U=J.getScrollLeft();var X={};X.x=L-U;X.y=P-W;X.px=U;X.py=W;var Q=Math.round(Math.sqrt(Math.pow(X.x,2)+Math.pow(X.y,2)));var S=(J.newscrollspeed&&J.newscrollspeed>1)?J.newscrollspeed:J.getTransitionSpeed(Q);if(J.newscrollspeed&&J.newscrollspeed<=1){S*=J.newscrollspeed;}J.prepareTransition(S,true);if(J.timerscroll&&J.timerscroll.tm){clearInterval(J.timerscroll.tm);}if(S>0){if(!J.scrollrunning&&J.onscrollstart){var V={type:"scrollstart",current:{x:U,y:W},request:{x:L,y:P},end:{x:J.newscrollx,y:J.newscrolly},speed:S};J.onscrollstart.call(J,V);}if(I.transitionend){if(!J.scrollendtrapped){J.scrollendtrapped=true;J.bind(J.doc,I.transitionend,J.onScrollEnd,false);}}else{if(J.scrollendtrapped){clearTimeout(J.scrollendtrapped);}J.scrollendtrapped=setTimeout(J.onScrollEnd,S);}var R=W;var T=U;J.timerscroll={bz:new BezierClass(R,J.newscrolly,S,0,0,0.58,1),bh:new BezierClass(T,J.newscrollx,S,0,0,0.58,1)};if(!J.cursorfreezed){J.timerscroll.tm=setInterval(function(){J.showCursor(J.getScrollTop(),J.getScrollLeft());},60);}}J.synched("doScroll-set",function(){J.timer=0;if(J.scrollendtrapped){J.scrollrunning=true;}J.setScrollTop(J.newscrolly);J.setScrollLeft(J.newscrollx);if(!J.scrollendtrapped){J.onScrollEnd();}});},50);};this.cancelScroll=function(){if(!J.scrollendtrapped){return true;}var L=J.getScrollTop();var M=J.getScrollLeft();J.scrollrunning=false;if(!I.transitionend){clearTimeout(I.transitionend);}J.scrollendtrapped=false;J._unbind(J.doc,I.transitionend,J.onScrollEnd);J.prepareTransition(0);J.setScrollTop(L);if(J.railh){J.setScrollLeft(M);}if(J.timerscroll&&J.timerscroll.tm){clearInterval(J.timerscroll.tm);}J.timerscroll=false;J.cursorfreezed=false;J.showCursor(L,M);return J;};this.onScrollEnd=function(){if(J.scrollendtrapped){J._unbind(J.doc,I.transitionend,J.onScrollEnd);}J.scrollendtrapped=false;J.prepareTransition(0);if(J.timerscroll&&J.timerscroll.tm){clearInterval(J.timerscroll.tm);}J.timerscroll=false;var L=J.getScrollTop();var M=J.getScrollLeft();J.setScrollTop(L);if(J.railh){J.setScrollLeft(M);}J.noticeCursor(false,L,M);J.cursorfreezed=false;if(L<0){L=0;}else{if(L>J.page.maxh){L=J.page.maxh;}}if(M<0){M=0;}else{if(M>J.page.maxw){M=J.page.maxw;}}if((L!=J.newscrolly)||(M!=J.newscrollx)){return J.doScrollPos(M,L,J.opt.snapbackspeed);}if(J.onscrollend&&J.scrollrunning){var N={type:"scrollend",current:{x:M,y:L},end:{x:J.newscrollx,y:J.newscrolly}};J.onscrollend.call(J,N);}J.scrollrunning=false;};}else{this.doScrollLeft=function(L,M){var N=(J.scrollrunning)?J.newscrolly:J.getScrollTop();J.doScrollPos(L,N,M);};this.doScrollTop=function(N,M){var L=(J.scrollrunning)?J.newscrollx:J.getScrollLeft();J.doScrollPos(L,N,M);};this.doScrollPos=function(U,S,Q){var S=((typeof S=="undefined")||(S===false))?J.getScrollTop(true):S;if((J.timer)&&(J.newscrolly==S)&&(J.newscrollx==U)){return true;}if(J.timer){k(J.timer);}J.timer=0;var T=J.getScrollTop();var W=J.getScrollLeft();if(((J.newscrolly-T)*(S-T)<0)||((J.newscrollx-W)*(U-W)<0)){J.cancelScroll();}J.newscrolly=S;J.newscrollx=U;if(!J.bouncescroll||!J.rail.visibility){if(J.newscrolly<0){J.newscrolly=0;}else{if(J.newscrolly>J.page.maxh){J.newscrolly=J.page.maxh;}}}if(!J.bouncescroll||!J.railh.visibility){if(J.newscrollx<0){J.newscrollx=0;}else{if(J.newscrollx>J.page.maxw){J.newscrollx=J.page.maxw;}}}J.dst={};J.dst.x=U-W;J.dst.y=S-T;J.dst.px=W;J.dst.py=T;var P=Math.round(Math.sqrt(Math.pow(J.dst.x,2)+Math.pow(J.dst.y,2)));J.dst.ax=J.dst.x/P;J.dst.ay=J.dst.y/P;var V=0;var O=P;if(J.dst.x==0){V=T;O=S;J.dst.ay=1;J.dst.py=0;}else{if(J.dst.y==0){V=W;O=U;J.dst.ax=1;J.dst.px=0;}}var L=J.getTransitionSpeed(P);if(Q&&Q<=1){L*=Q;}if(L>0){J.bzscroll=(J.bzscroll)?J.bzscroll.update(O,L):new BezierClass(V,O,L,0,1,0,1);}else{J.bzscroll=false;}if(J.timer){return;}if((T==J.page.maxh&&S>=J.page.maxh)||(W==J.page.maxw&&U>=J.page.maxw)){J.checkContentSize();}var R=1;function N(){if(J.cancelAnimationFrame){return true;}J.scrollrunning=true;R=1-R;if(R){return(J.timer=i(N)||1);}var X=0;var ab=sy=J.getScrollTop();if(J.dst.ay){ab=(J.bzscroll)?J.dst.py+(J.bzscroll.getNow()*J.dst.ay):J.newscrolly;var aa=ab-sy;if((aa<0&&ab<J.newscrolly)||(aa>0&&ab>J.newscrolly)){ab=J.newscrolly;}J.setScrollTop(ab);if(ab==J.newscrolly){X=1;}}else{X=1;}var Y=sx=J.getScrollLeft();if(J.dst.ax){Y=(J.bzscroll)?J.dst.px+(J.bzscroll.getNow()*J.dst.ax):J.newscrollx;var aa=Y-sx;if((aa<0&&Y<J.newscrollx)||(aa>0&&Y>J.newscrollx)){Y=J.newscrollx;}J.setScrollLeft(Y);if(Y==J.newscrollx){X+=1;}}else{X+=1;}if(X==2){J.timer=0;J.cursorfreezed=false;J.bzscroll=false;J.scrollrunning=false;if(ab<0){ab=0;}else{if(ab>J.page.maxh){ab=J.page.maxh;}}if(Y<0){Y=0;}else{if(Y>J.page.maxw){Y=J.page.maxw;}}if((Y!=J.newscrollx)||(ab!=J.newscrolly)){J.doScrollPos(Y,ab);}else{if(J.onscrollend){var Z={type:"scrollend",current:{x:sx,y:sy},end:{x:J.newscrollx,y:J.newscrolly}};J.onscrollend.call(J,Z);}}}else{J.timer=i(N)||1;}}J.cancelAnimationFrame=false;J.timer=1;if(J.onscrollstart&&!J.scrollrunning){var M={type:"scrollstart",current:{x:W,y:T},request:{x:U,y:S},end:{x:J.newscrollx,y:J.newscrolly},speed:L};J.onscrollstart.call(J,M);}N();if((T==J.page.maxh&&S>=T)||(W==J.page.maxw&&U>=W)){J.checkContentSize();}J.noticeCursor();};this.cancelScroll=function(){if(J.timer){k(J.timer);}J.timer=0;J.bzscroll=false;J.scrollrunning=false;return J;};}}this.doScrollBy=function(L,N){var P=0;if(N){P=Math.floor((J.scroll.y-L)*J.scrollratio.y);}else{var O=(J.timer)?J.newscrolly:J.getScrollTop(true);P=O-L;}if(J.bouncescroll){var M=Math.round(J.view.h/2);if(P<-M){P=-M;}else{if(P>(J.page.maxh+M)){P=(J.page.maxh+M);}}}J.cursorfreezed=false;py=J.getScrollTop(true);if(P<0&&py<=0){return J.noticeCursor();}else{if(P>J.page.maxh&&py>=J.page.maxh){J.checkContentSize();return J.noticeCursor();}}J.doScrollTop(P);};this.doScrollLeftBy=function(M,O){var L=0;if(O){L=Math.floor((J.scroll.x-M)*J.scrollratio.x);}else{var P=(J.timer)?J.newscrollx:J.getScrollLeft(true);L=P-M;}if(J.bouncescroll){var N=Math.round(J.view.w/2);if(L<-N){L=-N;}else{if(L>(J.page.maxw+N)){L=(J.page.maxw+N);}}}J.cursorfreezed=false;px=J.getScrollLeft(true);if(L<0&&px<=0){return J.noticeCursor();}else{if(L>J.page.maxw&&px>=J.page.maxw){return J.noticeCursor();}}J.doScrollLeft(L);};this.doScrollTo=function(N,L){var M=(L)?Math.round(N*J.scrollratio.y):N;if(M<0){M=0;}else{if(M>J.page.maxh){M=J.page.maxh;}}J.cursorfreezed=false;J.doScrollTop(N);};this.checkContentSize=function(){var L=J.getContentSize();if((L.h!=J.page.h)||(L.w!=J.page.w)){J.resize(false,L);}};J.onscroll=function(L){if(J.rail.drag){return;}if(!J.cursorfreezed){J.synched("scroll",function(){J.scroll.y=Math.round(J.getScrollTop()*(1/J.scrollratio.y));if(J.railh){J.scroll.x=Math.round(J.getScrollLeft()*(1/J.scrollratio.x));}J.noticeCursor();});}};J.bind(J.docscroll,"scroll",J.onscroll);this.doZoomIn=function(Q){if(J.zoomactive){return;}J.zoomactive=true;J.zoomrestore={style:{}};var L=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"];var P=J.win[0].style;for(var N in L){var M=L[N];J.zoomrestore.style[M]=(typeof P[M]!="undefined")?P[M]:"";}J.zoomrestore.style.width=J.win.css("width");J.zoomrestore.style.height=J.win.css("height");J.zoomrestore.padding={w:J.win.outerWidth()-J.win.width(),h:J.win.outerHeight()-J.win.height()};if(I.isios4){J.zoomrestore.scrollTop=f(window).scrollTop();f(window).scrollTop(0);}J.win.css({position:(I.isios4)?"absolute":"fixed",top:0,left:0,"z-index":e+100,margin:"0px"});var O=J.win.css("backgroundColor");if(O==""||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(O)){J.win.css("backgroundColor","#fff");}J.rail.css({"z-index":e+101});J.zoom.css({"z-index":e+102});J.zoom.css("backgroundPosition","0px -18px");J.resizeZoom();if(J.onzoomin){J.onzoomin.call(J);}return J.cancelEvent(Q);};this.doZoomOut=function(L){if(!J.zoomactive){return;}J.zoomactive=false;J.win.css("margin","");J.win.css(J.zoomrestore.style);if(I.isios4){f(window).scrollTop(J.zoomrestore.scrollTop);}J.rail.css({"z-index":J.zindex});J.zoom.css({"z-index":J.zindex});J.zoomrestore=false;J.zoom.css("backgroundPosition","0px 0px");J.onResize();if(J.onzoomout){J.onzoomout.call(J);}return J.cancelEvent(L);};this.doZoom=function(L){return(J.zoomactive)?J.doZoomOut(L):J.doZoomIn(L);};this.resizeZoom=function(){if(!J.zoomactive){return;}var L=J.getScrollTop();J.win.css({width:f(window).width()-J.zoomrestore.padding.w+"px",height:f(window).height()-J.zoomrestore.padding.h+"px"});J.onResize();J.setScrollTop(Math.min(J.page.maxh,L));};this.init();f.nicescroll.push(this);};var u=function(B){var v=this;this.nc=B;this.lastx=0;this.lasty=0;this.speedx=0;this.speedy=0;this.lasttime=0;this.steptime=0;this.snapx=false;this.snapy=false;this.demulx=0;this.demuly=0;this.lastscrollx=-1;this.lastscrolly=-1;this.chkx=0;this.chky=0;this.timer=0;this.time=function(){return +new Date();};this.reset=function(E,D){v.stop();var C=v.time();v.steptime=0;v.lasttime=C;v.speedx=0;v.speedy=0;v.lastx=E;v.lasty=D;v.lastscrollx=-1;v.lastscrolly=-1;};this.update=function(I,H){var C=v.time();v.steptime=C-v.lasttime;v.lasttime=C;var J=H-v.lasty;var K=I-v.lastx;var F=v.nc.getScrollTop();var G=v.nc.getScrollLeft();var D=F+J;var E=G+K;v.snapx=(E<0)||(E>v.nc.page.maxw);v.snapy=(D<0)||(D>v.nc.page.maxh);v.speedx=K;v.speedy=J;v.lastx=I;v.lasty=H;};this.stop=function(){v.nc.unsynched("domomentum2d");if(v.timer){clearTimeout(v.timer);}v.timer=0;v.lastscrollx=-1;v.lastscrolly=-1;};this.doSnapy=function(D,E){var C=false;if(E<0){E=0;C=true;}else{if(E>v.nc.page.maxh){E=v.nc.page.maxh;C=true;}}if(D<0){D=0;C=true;}else{if(D>v.nc.page.maxw){D=v.nc.page.maxw;C=true;}}if(C){v.nc.doScrollPos(D,E,v.nc.opt.snapbackspeed);}};this.doMomentum=function(D){var P=v.time();var E=(D)?P+D:v.lasttime;var F=v.nc.getScrollLeft();var Q=v.nc.getScrollTop();var L=v.nc.page.maxh;var C=v.nc.page.maxw;v.speedx=(C>0)?Math.min(60,v.speedx):0;v.speedy=(L>0)?Math.min(60,v.speedy):0;var K=E&&(P-E)<=60;if((Q<0)||(Q>L)||(F<0)||(F>C)){K=false;}var M=(v.speedy&&K)?v.speedy:false;var N=(v.speedx&&K)?v.speedx:false;if(M||N){var O=Math.max(16,v.steptime);if(O>50){var I=O/50;v.speedx*=I;v.speedy*=I;O=50;}v.demulxy=0;v.lastscrollx=v.nc.getScrollLeft();v.chkx=v.lastscrollx;v.lastscrolly=v.nc.getScrollTop();v.chky=v.lastscrolly;var H=v.lastscrollx;var G=v.lastscrolly;var J=function(){var R=((v.time()-P)>600)?0.04:0.02;if(v.speedx){H=Math.floor(v.lastscrollx-(v.speedx*(1-v.demulxy)));v.lastscrollx=H;if((H<0)||(H>C)){R=0.1;}}if(v.speedy){G=Math.floor(v.lastscrolly-(v.speedy*(1-v.demulxy)));v.lastscrolly=G;if((G<0)||(G>L)){R=0.1;}}v.demulxy=Math.min(1,v.demulxy+R);v.nc.synched("domomentum2d",function(){if(v.speedx){var T=v.nc.getScrollLeft();if(T!=v.chkx){v.stop();}v.chkx=H;v.nc.setScrollLeft(H);}if(v.speedy){var S=v.nc.getScrollTop();if(S!=v.chky){v.stop();}v.chky=G;v.nc.setScrollTop(G);}if(!v.timer){v.nc.hideCursor();v.doSnapy(H,G);}});if(v.demulxy<1){v.timer=setTimeout(J,O);}else{v.stop();v.nc.hideCursor();v.doSnapy(H,G);}};J();}else{v.doSnapy(v.nc.getScrollLeft(),v.nc.getScrollTop());}};};var n=o.fn.scrollTop;o.cssHooks.pageYOffset={get:function(D,C,v){var B=f.data(D,"__nicescroll")||false;return(B&&B.ishwscroll)?B.getScrollTop():n.call(D);},set:function(B,C){var v=f.data(B,"__nicescroll")||false;(v&&v.ishwscroll)?v.setScrollTop(parseInt(C)):n.call(B,C);return this;}};o.fn.scrollTop=function(B){if(typeof B=="undefined"){var v=(this[0])?f.data(this[0],"__nicescroll")||false:false;return(v&&v.ishwscroll)?v.getScrollTop():n.call(this);}else{return this.each(function(){var C=f.data(this,"__nicescroll")||false;(C&&C.ishwscroll)?C.setScrollTop(parseInt(B)):n.call(f(this),B);});}};var t=o.fn.scrollLeft;f.cssHooks.pageXOffset={get:function(D,C,v){var B=f.data(D,"__nicescroll")||false;return(B&&B.ishwscroll)?B.getScrollLeft():t.call(D);},set:function(B,C){var v=f.data(B,"__nicescroll")||false;(v&&v.ishwscroll)?v.setScrollLeft(parseInt(C)):t.call(B,C);return this;}};o.fn.scrollLeft=function(B){if(typeof B=="undefined"){var v=(this[0])?f.data(this[0],"__nicescroll")||false:false;return(v&&v.ishwscroll)?v.getScrollLeft():t.call(this);}else{return this.each(function(){var C=f.data(this,"__nicescroll")||false;(C&&C.ishwscroll)?C.setScrollLeft(parseInt(B)):t.call(f(this),B);});}};var A=function(C){var v=this;this.length=0;this.name="nicescrollarray";this.each=function(F){for(var D=0,E=0;D<v.length;D++){F.call(v[D],E++);}return v;};this.push=function(D){v[v.length]=D;v.length++;};this.eq=function(D){return v[D];};if(C){for(a=0;a<C.length;a++){var B=f.data(C[a],"__nicescroll")||false;if(B){this[this.length]=B;this.length++;}}}return this;};function q(D,v,C){for(var B=0;B<v.length;B++){C(D,v[B]);}}q(A.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(v,B){v[B]=function(){var C=arguments;return this.each(function(){this[B].apply(this,C);});};});o.fn.getNiceScroll=function(v){if(typeof v=="undefined"){return new A(this);}else{var B=this[v]&&f.data(this[v],"__nicescroll")||false;return B;}};o.extend(o.expr[":"],{nicescroll:function(v){return(f.data(v,"__nicescroll"))?true:false;}});f.fn.niceScroll=function(D,B){if(typeof B=="undefined"){if((typeof D=="object")&&!("jquery" in D)){B=D;D=false;}}var v=new A();if(typeof B=="undefined"){B={};}if(D||false){B.doc=f(D);B.win=f(this);}var C=!("doc" in B);if(!C&&!("win" in B)){B.win=f(this);}this.each(function(){var E=f(this).data("__nicescroll")||false;if(!E){B.doc=(C)?f(this):B.doc;E=new c(B,f(this));f(this).data("__nicescroll",E);}v.push(E);});return(v.length==1)?v[0]:v;};window.NiceScroll={getjQuery:function(){return o;}};if(!f.nicescroll){f.nicescroll=new A();f.nicescroll.options=d;}})(jQuery);


/* jquery.nicescroll.plus
-- the addon for nicescroll
-- version 1.0.0 BETA
-- copyright 13 InuYaksa*2013
-- licensed under the MIT
--
-- http://areaaperta.com/nicescroll
-- https://github.com/inuyaksa/jquery.nicescroll
--
*/
(function(e){var d=e;if(!d||!("nicescroll" in d)){return;}d.extend(d.nicescroll.options,{styler:false});var a={niceScroll:d.fn.niceScroll,getNiceScroll:d.fn.getNiceScroll};d.fn.niceScroll=function(i,g){if(!(typeof i=="undefined")){if(typeof i=="object"){g=i;i=false;}}var h=(g&&g.styler)||d.nicescroll.options.styler||false;if(h){nw=c(h);d.extend(nw,g);g=nw;}var f=a.niceScroll.call(this,i,g);if(h){b(h,f);}f.scrollTo=function(j){var l=this.win.position();var m=this.win.find(j).position();if(m){var k=Math.floor(m.top-l.top+this.scrollTop());this.doScrollTop(k);}};return f;};d.fn.getNiceScroll=function(g){var f=a.getNiceScroll.call(this,g);f.scrollTo=function(h){this.each(function(){this.scrollTo.call(this,h);});};return f;};function c(g){var f={};switch(g){case"fb":f.autohidemode=false;f.cursorcolor="#7B7C7E";f.railcolor="";f.cursoropacitymax=0.8;f.cursorwidth=10;f.cursorborder="1px solid #868688";f.cursorborderradius="10px";break;}return f;}function b(f,i){if(!i.rail){return;}switch(f){case"fb":i.rail.css({"-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"});i.cursor.css({width:3});var g=(i.ispage)?i.rail:i.win;function h(){i._stylerfbstate=false;i.rail.css({backgroundColor:""});i.cursor.stop().animate({width:3},200);}g.hover(function(){i._stylerfbstate=true;i.rail.css({backgroundColor:"transparent"});i.cursor.stop().css({width:10});},function(){if(i.rail.drag){return;}h();});d(document).mouseup(function(){if(i._stylerfbstate){h();}});break;}}})(jQuery);


/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - EASING EQUATIONS
 * 
 * Open source under the BSD License. 
 * 
 * Copyright © 2001 Robert Penner
 * All rights reserved.
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright © 2008 George McGinley Smith
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/
jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});


/**
 * jQuery.ScrollTo - Easy element scrolling using jQuery.
 * Copyright (c) 2007-2009 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 * Date: 5/25/2009
 * @author Ariel Flesler
 * @version 1.4.2
 *
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 */
;(function(d){var k=d.scrollTo=function(a,i,e){d(window).scrollTo(a,i,e)};k.defaults={axis:'xy',duration:parseFloat(d.fn.jquery)>=1.3?0:1};k.window=function(a){return d(window)._scrollable()};d.fn._scrollable=function(){return this.map(function(){var a=this,i=!a.nodeName||d.inArray(a.nodeName.toLowerCase(),['iframe','#document','html','body'])!=-1;if(!i)return a;var e=(a.contentWindow||a).document||a.ownerDocument||a;return d.browser.safari||e.compatMode=='BackCompat'?e.body:e.documentElement})};d.fn.scrollTo=function(n,j,b){if(typeof j=='object'){b=j;j=0}if(typeof b=='function')b={onAfter:b};if(n=='max')n=9e9;b=d.extend({},k.defaults,b);j=j||b.speed||b.duration;b.queue=b.queue&&b.axis.length>1;if(b.queue)j/=2;b.offset=p(b.offset);b.over=p(b.over);return this._scrollable().each(function(){var q=this,r=d(q),f=n,s,g={},u=r.is('html,body');switch(typeof f){case'number':case'string':if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(f)){f=p(f);break}f=d(f,this);case'object':if(f.is||f.style)s=(f=d(f)).offset()}d.each(b.axis.split(''),function(a,i){var e=i=='x'?'Left':'Top',h=e.toLowerCase(),c='scroll'+e,l=q[c],m=k.max(q,i);if(s){g[c]=s[h]+(u?0:l-r.offset()[h]);if(b.margin){g[c]-=parseInt(f.css('margin'+e))||0;g[c]-=parseInt(f.css('border'+e+'Width'))||0}g[c]+=b.offset[h]||0;if(b.over[h])g[c]+=f[i=='x'?'width':'height']()*b.over[h]}else{var o=f[h];g[c]=o.slice&&o.slice(-1)=='%'?parseFloat(o)/100*m:o}if(/^\d+$/.test(g[c]))g[c]=g[c]<=0?0:Math.min(g[c],m);if(!a&&b.queue){if(l!=g[c])t(b.onAfterFirst);delete g[c]}});t(b.onAfter);function t(a){r.animate(g,j,b.easing,a&&function(){a.call(this,n,b)})}}).end()};k.max=function(a,i){var e=i=='x'?'Width':'Height',h='scroll'+e;if(!d(a).is('html,body'))return a[h]-d(a)[e.toLowerCase()]();var c='client'+e,l=a.ownerDocument.documentElement,m=a.ownerDocument.body;return Math.max(l[h],m[h])-Math.min(l[c],m[c])};function p(a){return typeof a=='object'?a:{top:a,left:a}}})(jQuery);


/*! http://mths.be/placeholder v2.0.7 by @mathias */
;(function(f,h,$){var a='placeholder' in h.createElement('input'),d='placeholder' in h.createElement('textarea'),i=$.fn,c=$.valHooks,k,j;if(a&&d){j=i.placeholder=function(){return this};j.input=j.textarea=true}else{j=i.placeholder=function(){var l=this;l.filter((a?'textarea':':input')+'[placeholder]').not('.placeholder').bind({'focus.placeholder':b,'blur.placeholder':e}).data('placeholder-enabled',true).trigger('blur.placeholder');return l};j.input=a;j.textarea=d;k={get:function(m){var l=$(m);return l.data('placeholder-enabled')&&l.hasClass('placeholder')?'':m.value},set:function(m,n){var l=$(m);if(!l.data('placeholder-enabled')){return m.value=n}if(n==''){m.value=n;if(m!=h.activeElement){e.call(m)}}else{if(l.hasClass('placeholder')){b.call(m,true,n)||(m.value=n)}else{m.value=n}}return l}};a||(c.input=k);d||(c.textarea=k);$(function(){$(h).delegate('form','submit.placeholder',function(){var l=$('.placeholder',this).each(b);setTimeout(function(){l.each(e)},10)})});$(f).bind('beforeunload.placeholder',function(){$('.placeholder').each(function(){this.value=''})})}function g(m){var l={},n=/^jQuery\d+$/;$.each(m.attributes,function(p,o){if(o.specified&&!n.test(o.name)){l[o.name]=o.value}});return l}function b(m,n){var l=this,o=$(l);if(l.value==o.attr('placeholder')&&o.hasClass('placeholder')){if(o.data('placeholder-password')){o=o.hide().next().show().attr('id',o.removeAttr('id').data('placeholder-id'));if(m===true){return o[0].value=n}o.focus()}else{l.value='';o.removeClass('placeholder');l==h.activeElement&&l.select()}}}function e(){var q,l=this,p=$(l),m=p,o=this.id;if(l.value==''){if(l.type=='password'){if(!p.data('placeholder-textinput')){try{q=p.clone().attr({type:'text'})}catch(n){q=$('<input>').attr($.extend(g(this),{type:'text'}))}q.removeAttr('name').data({'placeholder-password':true,'placeholder-id':o}).bind('focus.placeholder',b);p.data({'placeholder-textinput':q,'placeholder-id':o}).before(q)}p=p.removeAttr('id').hide().prev().attr('id',o).show()}p.addClass('placeholder');p[0].value=p.attr('placeholder')}else{p.removeClass('placeholder')}}}(this,document,jQuery));


// retina.js, a high-resolution image swapper (http://retinajs.com), v0.0.2
(function(){function t(e){this.path=e;var t=this.path.split("."),n=t.slice(0,t.length-1).join("."),r=t[t.length-1];this.at_2x_path=n+"@2x."+r}function n(e){this.el=e,this.path=new t(this.el.getAttribute("src"));var n=this;this.path.check_2x_variant(function(e){e&&n.swap()})}var e=typeof exports=="undefined"?window:exports;e.RetinaImagePath=t,t.confirmed_paths=[],t.prototype.is_external=function(){return!!this.path.match(/^https?\:/i)&&!this.path.match("//"+document.domain)},t.prototype.check_2x_variant=function(e){var n,r=this;if(this.is_external())return e(!1);if(this.at_2x_path in t.confirmed_paths)return e(!0);n=new XMLHttpRequest,n.open("HEAD",this.at_2x_path),n.onreadystatechange=function(){return n.readyState!=4?e(!1):n.status>=200&&n.status<=399?(t.confirmed_paths.push(r.at_2x_path),e(!0)):e(!1)},n.send()},e.RetinaImage=n,n.prototype.swap=function(e){function n(){t.el.complete?(t.el.setAttribute("width",t.el.offsetWidth),t.el.setAttribute("height",t.el.offsetHeight),t.el.setAttribute("src",e)):setTimeout(n,5)}typeof e=="undefined"&&(e=this.path.at_2x_path);var t=this;n()},e.devicePixelRatio>1&&(window.onload=function(){var e=document.getElementsByTagName("img"),t=[],r,i;for(r=0;r<e.length;r++)i=e[r],t.push(new n(i))})})();


// $('img.photo',this).imagesLoaded(myFunction)
// execute a callback when all images have loaded.
// needed because .load() doesn't work on cached images

// Modified with a two-pass approach to changing image
// src. First, the proxy imagedata is set, which leads
// to the first callback being triggered, which resets
// imagedata to the original src, which fires the final,
// user defined callback.

// modified by yiannis chatzikonstantinou.

// original:
// mit license. paul irish. 2010.
// webkit fix from Oren Solomianik. thx!

// callback function is passed the last image to load
//   as an argument, and the collection as `this`
$.fn.imagesLoaded=function(callback){var elems=this.find('img'),elems_src=[],self=this,len=elems.length;if(!elems.length){callback.call(this);return this}elems.one('load error',function(){if(--len===0){len=elems.length;elems.one('load error',function(){if(--len===0){callback.call(self)}}).each(function(){this.src=elems_src.shift()})}}).each(function(){elems_src.push(this.src);this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="});return this};

/*!
jQuery wookmark plugin
@name jquery.wookmark.js
@author Christoph Ono (chri@sto.ph or @gbks)
@author Sebastian Helzle (sebastian@helzle.net or @sebobo)
@version 1.2.3
@date 06/14/2013
@category jQuery plugin
@copyright (c) 2009-2013 Christoph Ono (www.wookmark.com)
@license Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
*/
(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){var e,s,h;h=function(t,i){return function(){return t.apply(i,arguments)}},s={align:"center",container:t("body"),offset:2,autoResize:!1,itemWidth:0,flexibleWidth:0,resizeDelay:50,onLayoutChanged:void 0},e=function(){function e(i,e){this.handler=i,this.columns=this.containerWidth=this.resizeTimer=null,this.activeItemCount=0,this.direction="left",this.itemHeightsDirty=!0,t.extend(!0,this,s,e),this.update=h(this.update,this),this.onResize=h(this.onResize,this),this.onRefresh=h(this.onRefresh,this),this.getItemWidth=h(this.getItemWidth,this),this.layout=h(this.layout,this),this.layoutFull=h(this.layoutFull,this),this.layoutColumns=h(this.layoutColumns,this),this.filter=h(this.filter,this),this.clear=h(this.clear,this),this.getActiveItems=h(this.getActiveItems,this);for(var o,n=j=0,r={};i.length>n;n++)if($item=i.eq(n),o=$item.data("filterClass"),"object"==typeof o&&o.length>0)for(j=0;o.length>j;j++)filterClass=t.trim(o[j]).toLowerCase(),filterClass in r||(r[filterClass]=[]),r[filterClass].push($item[0]);this.filterClasses=r,this.autoResize&&t(window).bind("resize.wookmark",this.onResize),this.container.bind("refreshWookmark",this.onRefresh)}return e.prototype.update=function(i){this.itemHeightsDirty=!0,t.extend(!0,this,i)},e.prototype.onResize=function(){clearTimeout(this.resizeTimer),this.itemHeightsDirty=0!=this.flexibleWidth,this.resizeTimer=setTimeout(this.layout,this.resizeDelay)},e.prototype.onRefresh=function(){this.itemHeightsDirty=!0,this.layout()},e.prototype.filter=function(i,e){var s,h,o,n,r,a=[],l=t();if(i=i||[],e=e||"or",i.length){for(h=0;i.length>h;h++)r=t.trim(i[h].toLowerCase()),r in this.filterClasses&&a.push(this.filterClasses[r]);if(s=a.length,"or"==e||1==s)for(h=0;s>h;h++)l=l.add(a[h]);else if("and"==e){var u,f,m,d=a[0],c=!0;for(h=1;s>h;h++)a[h].length<d.length&&(d=a[h]);for(h=0;d.length>h;h++){for(f=d[h],c=!0,o=0;a.length>o&&c;o++)if(m=a[o],d!=m){for(n=0,u=!1;m.length>n&&!u;n++)u=m[n]==f;c&=u}c&&l.push(d[h])}}this.handler.not(l).addClass("inactive")}else l=this.handler;l.removeClass("inactive"),this.columns=null,this.layout()},e.prototype.getActiveItems=function(){return this.handler.not(".inactive")},e.prototype.getItemWidth=function(){var t=this.itemWidth,i=this.container.width(),e=this.handler.eq(0),s=this.flexibleWidth;if(void 0===this.itemWidth||0===this.itemWidth&&!this.flexibleWidth?t=e.outerWidth():"string"==typeof this.itemWidth&&this.itemWidth.indexOf("%")>=0&&(t=parseFloat(this.itemWidth)/100*i),s){"string"==typeof s&&s.indexOf("%")>=0&&(s=parseFloat(s)/100*i-e.outerWidth()+e.innerWidth());var h=~~(1+i/(s+this.offset)),o=(i-(h-1)*this.offset)/h;t=Math.max(t,~~o),this.handler.css("width",t)}return t},e.prototype.layout=function(){if(this.container.is(":visible")){var t,e=this.getItemWidth()+this.offset,s=this.container.width(),h=~~((s+this.offset)/e),o=maxHeight=i=0,n=this.getActiveItems(),r=n.length;if(this.itemHeightsDirty){for(;r>i;i++)t=n.eq(i),t.data("outerHeight",t.outerHeight());this.itemHeightsDirty=!1}h=Math.max(1,Math.min(h,r)),o="left"==this.align||"right"==this.align?~~(h/e+this.offset>>1):~~(.5+(s-(h*e-this.offset))>>1),this.direction="right"==this.align?"right":"left",maxHeight=null!=this.columns&&this.columns.length==h&&this.activeItemCount==r?this.layoutColumns(e,o):this.layoutFull(e,h,o),this.activeItemCount=r,this.container.css("height",maxHeight),void 0!==this.onLayoutChanged&&"function"==typeof this.onLayoutChanged&&this.onLayoutChanged()}},e.prototype.layoutFull=function(t,i,e){var s,h=0,o=0,n=this.getActiveItems(),r=n.length,a=null,l=null,u={position:"absolute"},f=[],m="left"==this.align?!0:!1;for(this.columns=[];i>f.length;)f.push(0),this.columns.push([]);for(;r>h;h++){for($item=n.eq(h),a=f[0],l=0,o=0;i>o;o++)a>f[o]&&(a=f[o],l=o);s=0==l&&m?0:l*t+e,u[this.direction]=s,u.top=a,$item.css(u),f[l]+=$item.data("outerHeight")+this.offset,this.columns[l].push($item)}return Math.max.apply(Math,f)},e.prototype.layoutColumns=function(t,i){for(var e,s,h,o=[],n=0,r=0;this.columns.length>n;n++)for(o.push(0),e=this.columns[n],h=n*t+i,r=0;e.length>r;r++)$item=e[r],s={top:o[n]},s[this.direction]=h,$item.css(s),o[n]+=$item.data("outerHeight")+this.offset;return Math.max.apply(Math,o)},e.prototype.clear=function(){clearTimeout(this.resizeTimer),t(window).unbind("resize.wookmark",this.onResize),this.container.unbind("refreshWookmark",this.onRefresh)},e}(),t.fn.wookmark=function(t){return this.wookmarkInstance?this.wookmarkInstance.update(t||{}):this.wookmarkInstance=new e(this,t||{}),this.wookmarkInstance.layout(),this.show()}});


/*
	Supersized - Fullscreen Slideshow jQuery Plugin
	Version : 3.2.7
	Site	: www.buildinternet.com/project/supersized
	
	Author	: Sam Dunn
	Company : One Mighty Roar (www.onemightyroar.com)
	License : MIT License / GPL License
	
*/(function(e){e(document).ready(function(){e("body").append('<div id="supersized-loader"></div><ul id="supersized"></ul>')});e.supersized=function(t){var n="#supersized",r=this;r.$el=e(n);r.el=n;vars=e.supersized.vars;r.$el.data("supersized",r);api=r.$el.data("supersized");r.init=function(){e.supersized.vars=e.extend(e.supersized.vars,e.supersized.themeVars);e.supersized.vars.options=e.extend({},e.supersized.defaultOptions,e.supersized.themeOptions,t);r.options=e.supersized.vars.options;r._build()};r._build=function(){var t=0,n="",i="",s,o="",u;while(t<=r.options.slides.length-1){switch(r.options.slide_links){case"num":s=t;break;case"name":s=r.options.slides[t].title;break;case"blank":s=""}n=n+'<li class="slide-'+t+'"></li>';if(t==r.options.start_slide-1){r.options.slide_links&&(i=i+'<li class="slide-link-'+t+' current-slide"><a>'+s+"</a></li>");if(r.options.thumb_links){r.options.slides[t].thumb?u=r.options.slides[t].thumb:u=r.options.slides[t].image;o=o+'<li class="thumb'+t+' current-thumb"><img src="'+u+'"/></li>'}}else{r.options.slide_links&&(i=i+'<li class="slide-link-'+t+'" ><a>'+s+"</a></li>");if(r.options.thumb_links){r.options.slides[t].thumb?u=r.options.slides[t].thumb:u=r.options.slides[t].image;o=o+'<li class="thumb'+t+'"><img src="'+u+'"/></li>'}}t++}r.options.slide_links&&e(vars.slide_list).html(i);r.options.thumb_links&&vars.thumb_tray.length&&e(vars.thumb_tray).append('<ul id="'+vars.thumb_list.replace("#","")+'">'+o+"</ul>");e(r.el).append(n);if(r.options.thumbnail_navigation){vars.current_slide-1<0?prevThumb=r.options.slides.length-1:prevThumb=vars.current_slide-1;e(vars.prev_thumb).show().html(e("<img/>").attr("src",r.options.slides[prevThumb].image));vars.current_slide==r.options.slides.length-1?nextThumb=0:nextThumb=vars.current_slide+1;e(vars.next_thumb).show().html(e("<img/>").attr("src",r.options.slides[nextThumb].image))}r._start()};r._start=function(){r.options.start_slide?vars.current_slide=r.options.start_slide-1:vars.current_slide=Math.floor(Math.random()*r.options.slides.length);var t=r.options.new_window?' target="_blank"':"";r.options.performance==3?r.$el.addClass("speed"):(r.options.performance==1||r.options.performance==2)&&r.$el.addClass("quality");if(r.options.random){arr=r.options.slides;for(var n,i,s=arr.length;s;n=parseInt(Math.random()*s),i=arr[--s],arr[s]=arr[n],arr[n]=i);r.options.slides=arr}if(r.options.slides.length>1){if(r.options.slides.length>2){vars.current_slide-1<0?loadPrev=r.options.slides.length-1:loadPrev=vars.current_slide-1;var o=r.options.slides[loadPrev].url?"href='"+r.options.slides[loadPrev].url+"'":"",u=e('<img src="'+r.options.slides[loadPrev].image+'"/>'),a=r.el+" li:eq("+loadPrev+")";u.appendTo(a).wrap("<a "+o+t+"></a>").parent().parent().addClass("image-loading prevslide");u.load(function(){e(this).data("origWidth",e(this).width()).data("origHeight",e(this).height());r.resizeNow()})}}else r.options.slideshow=0;o=api.getField("url")?"href='"+api.getField("url")+"'":"";var f=e('<img src="'+api.getField("image")+'"/>'),l=r.el+" li:eq("+vars.current_slide+")";f.appendTo(l).wrap("<a "+o+t+"></a>").parent().parent().addClass("image-loading activeslide");f.load(function(){r._origDim(e(this));r.resizeNow();r.launch();typeof theme!="undefined"&&typeof theme._init=="function"&&theme._init()});if(r.options.slides.length>1){vars.current_slide==r.options.slides.length-1?loadNext=0:loadNext=vars.current_slide+1;o=r.options.slides[loadNext].url?"href='"+r.options.slides[loadNext].url+"'":"";var c=e('<img src="'+r.options.slides[loadNext].image+'"/>'),h=r.el+" li:eq("+loadNext+")";c.appendTo(h).wrap("<a "+o+t+"></a>").parent().parent().addClass("image-loading");c.load(function(){e(this).data("origWidth",e(this).width()).data("origHeight",e(this).height());r.resizeNow()})}r.$el.css("visibility","hidden");e(".load-item").hide()};r.launch=function(){r.$el.css("visibility","visible");e("#supersized-loader").remove();typeof theme!="undefined"&&typeof theme.beforeAnimation=="function"&&theme.beforeAnimation("next");e(".load-item").show();r.options.keyboard_nav&&e(document.documentElement).keyup(function(e){if(vars.in_animation)return!1;if(e.keyCode==37||e.keyCode==40){clearInterval(vars.slideshow_interval);r.prevSlide()}else if(e.keyCode==39||e.keyCode==38){clearInterval(vars.slideshow_interval);r.nextSlide()}else if(e.keyCode==32&&!vars.hover_pause){clearInterval(vars.slideshow_interval);r.playToggle()}});r.options.slideshow&&r.options.pause_hover&&e(r.el).hover(function(){if(vars.in_animation)return!1;vars.hover_pause=!0;if(!vars.is_paused){vars.hover_pause="resume";r.playToggle()}},function(){if(vars.hover_pause=="resume"){r.playToggle();vars.hover_pause=!1}});r.options.slide_links&&e(vars.slide_list+"> li").click(function(){index=e(vars.slide_list+"> li").index(this);targetSlide=index+1;r.goTo(targetSlide);return!1});r.options.thumb_links&&e(vars.thumb_list+"> li").click(function(){index=e(vars.thumb_list+"> li").index(this);targetSlide=index+1;api.goTo(targetSlide);return!1});if(r.options.slideshow&&r.options.slides.length>1){r.options.autoplay&&r.options.slides.length>1?vars.slideshow_interval=setInterval(r.nextSlide,r.options.slide_interval):vars.is_paused=!0;e(".load-item img").bind("contextmenu mousedown",function(){return!1})}e(window).resize(function(){r.resizeNow()})};r.resizeNow=function(){return r.$el.each(function(){e("img",r.el).each(function(){function o(e){if(e){if(thisSlide.width()<n||thisSlide.width()<r.options.min_width)if(thisSlide.width()*t>=r.options.min_height){thisSlide.width(r.options.min_width);thisSlide.height(thisSlide.width()*t)}else u()}else if(r.options.min_height>=i&&!r.options.fit_landscape){if(n*t>=r.options.min_height||n*t>=r.options.min_height&&t<=1){thisSlide.width(n);thisSlide.height(n*t)}else if(t>1){thisSlide.height(r.options.min_height);thisSlide.width(thisSlide.height()/t)}else if(thisSlide.width()<n){thisSlide.width(n);thisSlide.height(thisSlide.width()*t)}}else{thisSlide.width(n);thisSlide.height(n*t)}}function u(e){if(e){if(thisSlide.height()<i)if(thisSlide.height()/t>=r.options.min_width){thisSlide.height(r.options.min_height);thisSlide.width(thisSlide.height()/t)}else o(!0)}else if(r.options.min_width>=n){if(i/t>=r.options.min_width||t>1){thisSlide.height(i);thisSlide.width(i/t)}else if(t<=1){thisSlide.width(r.options.min_width);thisSlide.height(thisSlide.width()*t)}}else{thisSlide.height(i);thisSlide.width(i/t)}}thisSlide=e(this);var t=(thisSlide.data("origHeight")/thisSlide.data("origWidth")).toFixed(2),n=r.$el.width(),i=r.$el.height(),s;r.options.fit_always?i/n>t?o():u():i<=r.options.min_height&&n<=r.options.min_width?i/n>t?r.options.fit_landscape&&t<1?o(!0):u(!0):r.options.fit_portrait&&t>=1?u(!0):o(!0):n<=r.options.min_width?i/n>t?r.options.fit_landscape&&t<1?o(!0):u():r.options.fit_portrait&&t>=1?u():o(!0):i<=r.options.min_height?i/n>t?r.options.fit_landscape&&t<1?o():u(!0):r.options.fit_portrait&&t>=1?u(!0):o():i/n>t?r.options.fit_landscape&&t<1?o():u():r.options.fit_portrait&&t>=1?u():o();thisSlide.parents("li").hasClass("image-loading")&&e(".image-loading").removeClass("image-loading");r.options.horizontal_center&&e(this).css("left",(n-e(this).width())/2);r.options.vertical_center&&e(this).css("top",(i-e(this).height())/2)});r.options.image_protect&&e("img",r.el).bind("contextmenu mousedown",function(){return!1});return!1})};r.nextSlide=function(){if(vars.in_animation||!api.options.slideshow)return!1;vars.in_animation=!0;clearInterval(vars.slideshow_interval);var t=r.options.slides,n=r.$el.find(".activeslide");e(".prevslide").removeClass("prevslide");n.removeClass("activeslide").addClass("prevslide");vars.current_slide+1==r.options.slides.length?vars.current_slide=0:vars.current_slide++;var i=e(r.el+" li:eq("+vars.current_slide+")"),s=r.$el.find(".prevslide");r.options.performance==1&&r.$el.removeClass("quality").addClass("speed");loadSlide=!1;vars.current_slide==r.options.slides.length-1?loadSlide=0:loadSlide=vars.current_slide+1;var o=r.el+" li:eq("+loadSlide+")";if(!e(o).html()){var u=r.options.new_window?' target="_blank"':"";imageLink=r.options.slides[loadSlide].url?"href='"+r.options.slides[loadSlide].url+"'":"";var a=e('<img src="'+r.options.slides[loadSlide].image+'"/>');a.appendTo(o).wrap("<a "+imageLink+u+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden");a.load(function(){r._origDim(e(this));r.resizeNow()})}if(r.options.thumbnail_navigation==1){vars.current_slide-1<0?prevThumb=r.options.slides.length-1:prevThumb=vars.current_slide-1;e(vars.prev_thumb).html(e("<img/>").attr("src",r.options.slides[prevThumb].image));nextThumb=loadSlide;e(vars.next_thumb).html(e("<img/>").attr("src",r.options.slides[nextThumb].image))}typeof theme!="undefined"&&typeof theme.beforeAnimation=="function"&&theme.beforeAnimation("next");if(r.options.slide_links){e(".current-slide").removeClass("current-slide");e(vars.slide_list+"> li").eq(vars.current_slide).addClass("current-slide")}i.css("visibility","hidden").addClass("activeslide");switch(r.options.transition){case 0:case"none":i.css("visibility","visible");vars.in_animation=!1;r.afterAnimation();break;case 1:case"fade":i.css({opacity:0,visibility:"visible"}).animate({opacity:1,avoidTransforms:!1},r.options.transition_speed,function(){r.afterAnimation()});break;case 2:case"slideTop":i.css({top:-r.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},r.options.transition_speed,function(){r.afterAnimation()});break;case 3:case"slideRight":i.css({left:r.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},r.options.transition_speed,function(){r.afterAnimation()});break;case 4:case"slideBottom":i.css({top:r.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},r.options.transition_speed,function(){r.afterAnimation()});break;case 5:case"slideLeft":i.css({left:-r.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},r.options.transition_speed,function(){r.afterAnimation()});break;case 6:case"carouselRight":i.css({left:r.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},r.options.transition_speed,function(){r.afterAnimation()});n.animate({left:-r.$el.width(),avoidTransforms:!1},r.options.transition_speed);break;case 7:case"carouselLeft":i.css({left:-r.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},r.options.transition_speed,function(){r.afterAnimation()});n.animate({left:r.$el.width(),avoidTransforms:!1},r.options.transition_speed)}return!1};r.prevSlide=function(){if(vars.in_animation||!api.options.slideshow)return!1;vars.in_animation=!0;clearInterval(vars.slideshow_interval);var t=r.options.slides,n=r.$el.find(".activeslide");e(".prevslide").removeClass("prevslide");n.removeClass("activeslide").addClass("prevslide");vars.current_slide==0?vars.current_slide=r.options.slides.length-1:vars.current_slide--;var i=e(r.el+" li:eq("+vars.current_slide+")"),s=r.$el.find(".prevslide");r.options.performance==1&&r.$el.removeClass("quality").addClass("speed");loadSlide=vars.current_slide;var o=r.el+" li:eq("+loadSlide+")";if(!e(o).html()){var u=r.options.new_window?' target="_blank"':"";imageLink=r.options.slides[loadSlide].url?"href='"+r.options.slides[loadSlide].url+"'":"";var a=e('<img src="'+r.options.slides[loadSlide].image+'"/>');a.appendTo(o).wrap("<a "+imageLink+u+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden");a.load(function(){r._origDim(e(this));r.resizeNow()})}if(r.options.thumbnail_navigation==1){loadSlide==0?prevThumb=r.options.slides.length-1:prevThumb=loadSlide-1;e(vars.prev_thumb).html(e("<img/>").attr("src",r.options.slides[prevThumb].image));vars.current_slide==r.options.slides.length-1?nextThumb=0:nextThumb=vars.current_slide+1;e(vars.next_thumb).html(e("<img/>").attr("src",r.options.slides[nextThumb].image))}typeof theme!="undefined"&&typeof theme.beforeAnimation=="function"&&theme.beforeAnimation("prev");if(r.options.slide_links){e(".current-slide").removeClass("current-slide");e(vars.slide_list+"> li").eq(vars.current_slide).addClass("current-slide")}i.css("visibility","hidden").addClass("activeslide");switch(r.options.transition){case 0:case"none":i.css("visibility","visible");vars.in_animation=!1;r.afterAnimation();break;case 1:case"fade":i.css({opacity:0,visibility:"visible"}).animate({opacity:1,avoidTransforms:!1},r.options.transition_speed,function(){r.afterAnimation()});break;case 2:case"slideTop":i.css({top:r.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},r.options.transition_speed,function(){r.afterAnimation()});break;case 3:case"slideRight":i.css({left:-r.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},r.options.transition_speed,function(){r.afterAnimation()});break;case 4:case"slideBottom":i.css({top:-r.$el.height(),visibility:"visible"}).animate({top:0,avoidTransforms:!1},r.options.transition_speed,function(){r.afterAnimation()});break;case 5:case"slideLeft":i.css({left:r.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},r.options.transition_speed,function(){r.afterAnimation()});break;case 6:case"carouselRight":i.css({left:-r.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},r.options.transition_speed,function(){r.afterAnimation()});n.css({left:0}).animate({left:r.$el.width(),avoidTransforms:!1},r.options.transition_speed);break;case 7:case"carouselLeft":i.css({left:r.$el.width(),visibility:"visible"}).animate({left:0,avoidTransforms:!1},r.options.transition_speed,function(){r.afterAnimation()});n.css({left:0}).animate({left:-r.$el.width(),avoidTransforms:!1},r.options.transition_speed)}return!1};r.playToggle=function(){if(vars.in_animation||!api.options.slideshow)return!1;if(vars.is_paused){vars.is_paused=!1;typeof theme!="undefined"&&typeof theme.playToggle=="function"&&theme.playToggle("play");vars.slideshow_interval=setInterval(r.nextSlide,r.options.slide_interval)}else{vars.is_paused=!0;typeof theme!="undefined"&&typeof theme.playToggle=="function"&&theme.playToggle("pause");clearInterval(vars.slideshow_interval)}return!1};r.goTo=function(t){if(vars.in_animation||!api.options.slideshow)return!1;var n=r.options.slides.length;t<0?t=n:t>n&&(t=1);t=n-t+1;clearInterval(vars.slideshow_interval);typeof theme!="undefined"&&typeof theme.goTo=="function"&&theme.goTo();if(vars.current_slide==n-t){vars.is_paused||(vars.slideshow_interval=setInterval(r.nextSlide,r.options.slide_interval));return!1}if(n-t>vars.current_slide){vars.current_slide=n-t-1;vars.update_images="next";r._placeSlide(vars.update_images)}else if(n-t<vars.current_slide){vars.current_slide=n-t+1;vars.update_images="prev";r._placeSlide(vars.update_images)}if(r.options.slide_links){e(vars.slide_list+"> .current-slide").removeClass("current-slide");e(vars.slide_list+"> li").eq(n-t).addClass("current-slide")}if(r.options.thumb_links){e(vars.thumb_list+"> .current-thumb").removeClass("current-thumb");e(vars.thumb_list+"> li").eq(n-t).addClass("current-thumb")}};r._placeSlide=function(t){var n=r.options.new_window?' target="_blank"':"";loadSlide=!1;if(t=="next"){vars.current_slide==r.options.slides.length-1?loadSlide=0:loadSlide=vars.current_slide+1;var i=r.el+" li:eq("+loadSlide+")";if(!e(i).html()){var n=r.options.new_window?' target="_blank"':"";imageLink=r.options.slides[loadSlide].url?"href='"+r.options.slides[loadSlide].url+"'":"";var s=e('<img src="'+r.options.slides[loadSlide].image+'"/>');s.appendTo(i).wrap("<a "+imageLink+n+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden");s.load(function(){r._origDim(e(this));r.resizeNow()})}r.nextSlide()}else if(t=="prev"){vars.current_slide-1<0?loadSlide=r.options.slides.length-1:loadSlide=vars.current_slide-1;var i=r.el+" li:eq("+loadSlide+")";if(!e(i).html()){var n=r.options.new_window?' target="_blank"':"";imageLink=r.options.slides[loadSlide].url?"href='"+r.options.slides[loadSlide].url+"'":"";var s=e('<img src="'+r.options.slides[loadSlide].image+'"/>');s.appendTo(i).wrap("<a "+imageLink+n+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden");s.load(function(){r._origDim(e(this));r.resizeNow()})}r.prevSlide()}};r._origDim=function(e){e.data("origWidth",e.width()).data("origHeight",e.height())};r.afterAnimation=function(){r.options.performance==1&&r.$el.removeClass("speed").addClass("quality");if(vars.update_images){vars.current_slide-1<0?setPrev=r.options.slides.length-1:setPrev=vars.current_slide-1;vars.update_images=!1;e(".prevslide").removeClass("prevslide");e(r.el+" li:eq("+setPrev+")").addClass("prevslide")}vars.in_animation=!1;if(!vars.is_paused&&r.options.slideshow){vars.slideshow_interval=setInterval(r.nextSlide,r.options.slide_interval);r.options.stop_loop&&vars.current_slide==r.options.slides.length-1&&r.playToggle()}typeof theme!="undefined"&&typeof theme.afterAnimation=="function"&&theme.afterAnimation();return!1};r.getField=function(e){return r.options.slides[vars.current_slide][e]};r.init()};e.supersized.vars={thumb_tray:"#thumb-tray",thumb_list:"#thumb-list",slide_list:"#slide-list",current_slide:0,in_animation:!1,is_paused:!1,hover_pause:!1,slideshow_interval:!1,update_images:!1,options:{}};e.supersized.defaultOptions={slideshow:1,autoplay:1,start_slide:1,stop_loop:0,random:0,slide_interval:5e3,transition:1,transition_speed:750,new_window:1,pause_hover:0,keyboard_nav:1,performance:1,image_protect:1,fit_always:0,fit_landscape:0,fit_portrait:1,min_width:0,min_height:0,horizontal_center:1,vertical_center:1,slide_links:1,thumb_links:1,thumbnail_navigation:0};e.fn.supersized=function(t){return this.each(function(){new e.supersized(t)})}})(jQuery);

/*
	Supersized - Fullscreen Slideshow jQuery Plugin
	Version : 3.2.7
	Theme 	: Shutter 1.1
	
	Site	: www.buildinternet.com/project/supersized
	Author	: Sam Dunn
	Company : One Mighty Roar (www.onemightyroar.com)
	License : MIT License / GPL License

*/(function(e){theme={_init:function(){api.options.slide_links&&e(vars.slide_list).css("margin-left",-e(vars.slide_list).width()/2);if(api.options.autoplay)api.options.progress_bar&&theme.progressBar();else{e(vars.play_button).attr("src")&&e(vars.play_button).attr("src",vars.image_path+"play.png");api.options.progress_bar&&e(vars.progress_bar).stop().css({left:-e(window).width()})}e(vars.thumb_tray).css({bottom:-e(vars.thumb_tray).height()});e(vars.tray_button).toggle(function(){e(vars.thumb_tray).stop().animate({bottom:0,avoidTransforms:!0},300);e(vars.tray_arrow).attr("src")&&e(vars.tray_arrow).attr("src",vars.image_path+"button-tray-down.png");return!1},function(){e(vars.thumb_tray).stop().animate({bottom:-e(vars.thumb_tray).height(),avoidTransforms:!0},300);e(vars.tray_arrow).attr("src")&&e(vars.tray_arrow).attr("src",vars.image_path+"button-tray-up.png");return!1});e(vars.thumb_list).width(e("> li",vars.thumb_list).length*e("> li",vars.thumb_list).outerWidth(!0));e(vars.slide_total).length&&e(vars.slide_total).html(api.options.slides.length);if(api.options.thumb_links){e(vars.thumb_list).width()<=e(vars.thumb_tray).width()&&e(vars.thumb_back+","+vars.thumb_forward).fadeOut(0);vars.thumb_interval=Math.floor(e(vars.thumb_tray).width()/e("> li",vars.thumb_list).outerWidth(!0))*e("> li",vars.thumb_list).outerWidth(!0);vars.thumb_page=0;e(vars.thumb_forward).click(function(){if(vars.thumb_page-vars.thumb_interval<=-e(vars.thumb_list).width()){vars.thumb_page=0;e(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"})}else{vars.thumb_page=vars.thumb_page-vars.thumb_interval;e(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"})}});e(vars.thumb_back).click(function(){if(vars.thumb_page+vars.thumb_interval>0){vars.thumb_page=Math.floor(e(vars.thumb_list).width()/vars.thumb_interval)*-vars.thumb_interval;e(vars.thumb_list).width()<=-vars.thumb_page&&(vars.thumb_page=vars.thumb_page+vars.thumb_interval);e(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"})}else{vars.thumb_page=vars.thumb_page+vars.thumb_interval;e(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"})}})}e(vars.next_slide).click(function(){api.nextSlide()});e(vars.prev_slide).click(function(){api.prevSlide()});jQuery.support.opacity&&e(vars.prev_slide+","+vars.next_slide).mouseover(function(){e(this).stop().animate({opacity:1},100)}).mouseout(function(){e(this).stop().animate({opacity:.6},100)});if(api.options.thumbnail_navigation){e(vars.next_thumb).click(function(){api.nextSlide()});e(vars.prev_thumb).click(function(){api.prevSlide()})}e(vars.play_button).click(function(){api.playToggle()});api.options.mouse_scrub&&e(vars.thumb_tray).mousemove(function(t){var n=e(vars.thumb_tray).width(),r=e(vars.thumb_list).width();if(r>n){var i=1,s=t.pageX-i;if(s>10||s<-10){i=t.pageX;newX=(n-r)*(t.pageX/n);s=parseInt(Math.abs(parseInt(e(vars.thumb_list).css("left"))-newX)).toFixed(0);e(vars.thumb_list).stop().animate({left:newX},{duration:s*3,easing:"easeOutExpo"})}}});e(window).resize(function(){if(api.options.progress_bar&&!vars.in_animation){vars.slideshow_interval&&clearInterval(vars.slideshow_interval);api.options.slides.length-1>0&&clearInterval(vars.slideshow_interval);e(vars.progress_bar).stop().css({left:-e(window).width()});!vars.progressDelay&&api.options.slideshow&&(vars.progressDelay=setTimeout(function(){if(!vars.is_paused){theme.progressBar();vars.slideshow_interval=setInterval(api.nextSlide,api.options.slide_interval)}vars.progressDelay=!1},1e3))}if(api.options.thumb_links&&vars.thumb_tray.length){vars.thumb_page=0;vars.thumb_interval=Math.floor(e(vars.thumb_tray).width()/e("> li",vars.thumb_list).outerWidth(!0))*e("> li",vars.thumb_list).outerWidth(!0);if(e(vars.thumb_list).width()>e(vars.thumb_tray).width()){e(vars.thumb_back+","+vars.thumb_forward).fadeIn("fast");e(vars.thumb_list).stop().animate({left:0},200)}else e(vars.thumb_back+","+vars.thumb_forward).fadeOut("fast")}})},goTo:function(){if(api.options.progress_bar&&!vars.is_paused){e(vars.progress_bar).stop().css({left:-e(window).width()});theme.progressBar()}},playToggle:function(t){if(t=="play"){e(vars.play_button).attr("src")&&e(vars.play_button).attr("src",vars.image_path+"pause.png");api.options.progress_bar&&!vars.is_paused&&theme.progressBar()}else if(t=="pause"){e(vars.play_button).attr("src")&&e(vars.play_button).attr("src",vars.image_path+"play.png");api.options.progress_bar&&vars.is_paused&&e(vars.progress_bar).stop().css({left:-e(window).width()})}},beforeAnimation:function(t){api.options.progress_bar&&!vars.is_paused&&e(vars.progress_bar).stop().css({left:-e(window).width()});e(vars.slide_caption).length&&(api.getField("title")?e(vars.slide_caption).html(api.getField("title")):e(vars.slide_caption).html(""));vars.slide_current.length&&e(vars.slide_current).html(vars.current_slide+1);if(api.options.thumb_links){e(".current-thumb").removeClass("current-thumb");e("li",vars.thumb_list).eq(vars.current_slide).addClass("current-thumb");if(e(vars.thumb_list).width()>e(vars.thumb_tray).width())if(t=="next"){if(vars.current_slide==0){vars.thumb_page=0;e(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"})}else if(e(".current-thumb").offset().left-e(vars.thumb_tray).offset().left>=vars.thumb_interval){vars.thumb_page=vars.thumb_page-vars.thumb_interval;e(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"})}}else if(t=="prev")if(vars.current_slide==api.options.slides.length-1){vars.thumb_page=Math.floor(e(vars.thumb_list).width()/vars.thumb_interval)*-vars.thumb_interval;e(vars.thumb_list).width()<=-vars.thumb_page&&(vars.thumb_page=vars.thumb_page+vars.thumb_interval);e(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"})}else if(e(".current-thumb").offset().left-e(vars.thumb_tray).offset().left<0){if(vars.thumb_page+vars.thumb_interval>0)return!1;vars.thumb_page=vars.thumb_page+vars.thumb_interval;e(vars.thumb_list).stop().animate({left:vars.thumb_page},{duration:500,easing:"easeOutExpo"})}}},afterAnimation:function(){api.options.progress_bar&&!vars.is_paused&&theme.progressBar()},progressBar:function(){e(vars.progress_bar).stop().css({left:-e(window).width()}).animate({left:0},api.options.slide_interval)}};e.supersized.themeVars={progress_delay:!1,thumb_page:!1,thumb_interval:!1,image_path:"img/",play_button:"#pauseplay",next_slide:"#nextslide",prev_slide:"#prevslide",next_thumb:"#nextthumb",prev_thumb:"#prevthumb",slide_caption:"#slidecaption",slide_current:".slidenumber",slide_total:".totalslides",slide_list:"#slide-list",thumb_tray:"#thumb-tray",thumb_list:"#thumb-list",thumb_forward:"#thumb-forward",thumb_back:"#thumb-back",tray_arrow:"#tray-arrow",tray_button:"#tray-button",progress_bar:"#progress-bar"};e.supersized.themeOptions={progress_bar:1,mouse_scrub:0}})(jQuery);


/*
 * jPlayer Plugin for jQuery JavaScript Library
 * http://www.jplayer.org
 *
 * Copyright (c) 2009 - 2011 Happyworm Ltd
 * Dual licensed under the MIT and GPL licenses.
 *  - http://www.opensource.org/licenses/mit-license.php
 *  - http://www.gnu.org/copyleft/gpl.html
 *
 * Author: Mark J Panaghiston
 * Version: 2.0.22
 * Date: 13th July 2011
 */

/* Code verified using http://www.jshint.com/ */
/*jshint asi:false, bitwise:false, boss:false, browser:true, curly:true, debug:false, eqeqeq:true, eqnull:false, evil:false, forin:false, immed:false, jquery:true, laxbreak:false, newcap:true, noarg:true, noempty:true, nonew:true, nomem:false, onevar:false, passfail:false, plusplus:false, regexp:false, undef:true, sub:false, strict:false, white:false */
/*global jQuery:false, ActiveXObject:false, alert:false */
(function($,undefined){$.fn.jPlayer=function(options){var name="jPlayer";var isMethodCall=typeof options==="string",args=Array.prototype.slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.extend.apply(null,[true,options].concat(args)):options;if(isMethodCall&&options.charAt(0)==="_"){return returnValue}if(isMethodCall){this.each(function(){var instance=$.data(this,name),methodValue=instance&&$.isFunction(instance[options])?instance[options].apply(instance,args):instance;if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue;return false}})}else{this.each(function(){var instance=$.data(this,name);if(instance){instance.option(options||{})}else{$.data(this,name,new $.jPlayer(options,this))}})}return returnValue};$.jPlayer=function(options,element){if(arguments.length){this.element=$(element);this.options=$.extend(true,{},this.options,options);var self=this;this.element.bind("remove.jPlayer",function(){self.destroy()});this._init()}};$.jPlayer.emulateMethods="load play pause";$.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate";$.jPlayer.emulateOptions="muted volume";$.jPlayer.reservedEvent="ready flashreset resize repeat error warning";$.jPlayer.event={ready:"jPlayer_ready",flashreset:"jPlayer_flashreset",resize:"jPlayer_resize",repeat:"jPlayer_repeat",error:"jPlayer_error",warning:"jPlayer_warning",loadstart:"jPlayer_loadstart",progress:"jPlayer_progress",suspend:"jPlayer_suspend",abort:"jPlayer_abort",emptied:"jPlayer_emptied",stalled:"jPlayer_stalled",play:"jPlayer_play",pause:"jPlayer_pause",loadedmetadata:"jPlayer_loadedmetadata",loadeddata:"jPlayer_loadeddata",waiting:"jPlayer_waiting",playing:"jPlayer_playing",canplay:"jPlayer_canplay",canplaythrough:"jPlayer_canplaythrough",seeking:"jPlayer_seeking",seeked:"jPlayer_seeked",timeupdate:"jPlayer_timeupdate",ended:"jPlayer_ended",ratechange:"jPlayer_ratechange",durationchange:"jPlayer_durationchange",volumechange:"jPlayer_volumechange"};$.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","ratechange"];$.jPlayer.pause=function(){$.each($.jPlayer.prototype.instances,function(i,element){if(element.data("jPlayer").status.srcSet){element.jPlayer("pause")}})};$.jPlayer.timeFormat={showHour:false,showMin:true,showSec:true,padHour:false,padMin:true,padSec:true,sepHour:":",sepMin:":",sepSec:""};$.jPlayer.convertTime=function(s){var myTime=new Date(s*1000);var hour=myTime.getUTCHours();var min=myTime.getUTCMinutes();var sec=myTime.getUTCSeconds();var strHour=($.jPlayer.timeFormat.padHour&&hour<10)?"0"+hour:hour;var strMin=($.jPlayer.timeFormat.padMin&&min<10)?"0"+min:min;var strSec=($.jPlayer.timeFormat.padSec&&sec<10)?"0"+sec:sec;return(($.jPlayer.timeFormat.showHour)?strHour+$.jPlayer.timeFormat.sepHour:"")+(($.jPlayer.timeFormat.showMin)?strMin+$.jPlayer.timeFormat.sepMin:"")+(($.jPlayer.timeFormat.showSec)?strSec+$.jPlayer.timeFormat.sepSec:"")};$.jPlayer.uaBrowser=function(userAgent){var ua=userAgent.toLowerCase();var rwebkit=/(webkit)[ \/]([\w.]+)/;var ropera=/(opera)(?:.*version)?[ \/]([\w.]+)/;var rmsie=/(msie) ([\w.]+)/;var rmozilla=/(mozilla)(?:.*? rv:([\w.]+))?/;var match=rwebkit.exec(ua)||ropera.exec(ua)||rmsie.exec(ua)||ua.indexOf("compatible")<0&&rmozilla.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}};$.jPlayer.uaPlatform=function(userAgent){var ua=userAgent.toLowerCase();var rplatform=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/;var rtablet=/(ipad|playbook)/;var randroid=/(android)/;var rmobile=/(mobile)/;var platform=rplatform.exec(ua)||[];var tablet=rtablet.exec(ua)||!rmobile.exec(ua)&&randroid.exec(ua)||[];return{platform:platform[1]||"",tablet:tablet[1]||""}};$.jPlayer.browser={};$.jPlayer.platform={};var browserMatch=$.jPlayer.uaBrowser(navigator.userAgent);if(browserMatch.browser){$.jPlayer.browser[browserMatch.browser]=true;$.jPlayer.browser.version=browserMatch.version}var platformMatch=$.jPlayer.uaPlatform(navigator.userAgent);if(platformMatch.platform){$.jPlayer.platform[platformMatch.platform]=true;$.jPlayer.platform.mobile=!platformMatch.tablet;$.jPlayer.platform.tablet=!!platformMatch.tablet}$.jPlayer.prototype={count:0,version:{script:"2.0.22",needFlash:"2.0.9",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",preload:'metadata',volume:0.8,muted:false,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",currentTime:".jp-current-time",duration:".jp-duration",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui"},fullScreen:false,autohide:{restored:false,full:true,fadeIn:200,fadeOut:600,hold:1000},loop:false,repeat:function(event){if(event.jPlayer.options.loop){$(this).unbind(".jPlayerRepeat").bind($.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){$(this).jPlayer("play")})}else{$(this).unbind(".jPlayerRepeat")}},idPrefix:"jp",noConflict:"jQuery",emulateHtml:false,errorAlerts:false,warningAlerts:false},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:true,format:{},formatType:"",waitForPlay:true,waitForLoad:true,srcSet:false,video:false,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:false},solution:{html:true,flash:true},format:{mp3:{codec:'audio/mpeg; codecs="mp3"',flashCanPlay:true,media:'audio'},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:true,media:'audio'},oga:{codec:'audio/ogg; codecs="vorbis"',flashCanPlay:false,media:'audio'},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:false,media:'audio'},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:false,media:'audio'},fla:{codec:'audio/x-flv',flashCanPlay:true,media:'audio'},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:true,media:'video'},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:false,media:'video'},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:false,media:'video'},flv:{codec:'video/x-flv',flashCanPlay:true,media:'video'}},_init:function(){var self=this;this.element.empty();this.status=$.extend({},this.status);this.internal=$.extend({},this.internal);this.internal.domNode=this.element.get(0);this.formats=[];this.solutions=[];this.require={};this.htmlElement={};this.html={};this.html.audio={};this.html.video={};this.flash={};this.css={};this.css.cs={};this.css.jq={};this.ancestorJq=[];this.options.volume=this._limitValue(this.options.volume,0,1);$.each(this.options.supplied.toLowerCase().split(","),function(index1,value1){var format=value1.replace(/^\s+|\s+$/g,"");if(self.format[format]){var dupFound=false;$.each(self.formats,function(index2,value2){if(format===value2){dupFound=true;return false}});if(!dupFound){self.formats.push(format)}}});$.each(this.options.solution.toLowerCase().split(","),function(index1,value1){var solution=value1.replace(/^\s+|\s+$/g,"");if(self.solution[solution]){var dupFound=false;$.each(self.solutions,function(index2,value2){if(solution===value2){dupFound=true;return false}});if(!dupFound){self.solutions.push(solution)}}});this.internal.instance="jp_"+this.count;this.instances[this.internal.instance]=this.element;if(!this.element.attr("id")){this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count)}this.internal.self=$.extend({},{id:this.element.attr("id"),jq:this.element});this.internal.audio=$.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:undefined});this.internal.video=$.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:undefined});this.internal.flash=$.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:undefined,swf:this.options.swfPath+((this.options.swfPath!==""&&this.options.swfPath.slice(-1)!=="/")?"/":"")+"Jplayer.swf"});this.internal.poster=$.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:undefined});$.each($.jPlayer.event,function(eventName,eventType){if(self.options[eventName]!==undefined){self.element.bind(eventType+".jPlayer",self.options[eventName]);self.options[eventName]=undefined}});this.require.audio=false;this.require.video=false;$.each(this.formats,function(priority,format){self.require[self.format[format].media]=true});if(this.require.video){this.options=$.extend(true,{},this.optionsVideo,this.options)}else{this.options=$.extend(true,{},this.optionsAudio,this.options)}this._setSize();this.htmlElement.poster=document.createElement('img');this.htmlElement.poster.id=this.internal.poster.id;this.htmlElement.poster.onload=function(){if(!self.status.video||self.status.waitForPlay){self.internal.poster.jq.show()}};this.element.append(this.htmlElement.poster);this.internal.poster.jq=$("#"+this.internal.poster.id);this.internal.poster.jq.css({'width':this.status.width,'height':this.status.height});this.internal.poster.jq.hide();this.html.audio.available=false;if(this.require.audio){this.htmlElement.audio=document.createElement('audio');this.htmlElement.audio.id=this.internal.audio.id;this.html.audio.available=!!this.htmlElement.audio.canPlayType}this.html.video.available=false;if(this.require.video){this.htmlElement.video=document.createElement('video');this.htmlElement.video.id=this.internal.video.id;this.html.video.available=!!this.htmlElement.video.canPlayType}this.flash.available=this._checkForFlash(10);this.html.canPlay={};this.flash.canPlay={};$.each(this.formats,function(priority,format){self.html.canPlay[format]=self.html[self.format[format].media].available&&""!==self.htmlElement[self.format[format].media].canPlayType(self.format[format].codec);self.flash.canPlay[format]=self.format[format].flashCanPlay&&self.flash.available});this.html.desired=false;this.flash.desired=false;$.each(this.solutions,function(solutionPriority,solution){if(solutionPriority===0){self[solution].desired=true}else{var audioCanPlay=false;var videoCanPlay=false;$.each(self.formats,function(formatPriority,format){if(self[self.solutions[0]].canPlay[format]){if(self.format[format].media==='video'){videoCanPlay=true}else{audioCanPlay=true}}});self[solution].desired=(self.require.audio&&!audioCanPlay)||(self.require.video&&!videoCanPlay)}});this.html.support={};this.flash.support={};$.each(this.formats,function(priority,format){self.html.support[format]=self.html.canPlay[format]&&self.html.desired;self.flash.support[format]=self.flash.canPlay[format]&&self.flash.desired});this.html.used=false;this.flash.used=false;$.each(this.solutions,function(solutionPriority,solution){$.each(self.formats,function(formatPriority,format){if(self[solution].support[format]){self[solution].used=true;return false}})});this.html.active=false;this.html.audio.gate=false;this.html.video.gate=false;this.flash.active=false;this.flash.gate=false;this._cssSelectorAncestor(this.options.cssSelectorAncestor);if(!(this.html.used||this.flash.used)){this._error({type:$.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:$.jPlayer.errorMsg.NO_SOLUTION,hint:$.jPlayer.errorHint.NO_SOLUTION})}if(this.flash.used){var htmlObj,flashVars='jQuery='+encodeURI(this.options.noConflict)+'&id='+encodeURI(this.internal.self.id)+'&vol='+this.options.volume+'&muted='+this.options.muted;if($.browser.msie&&Number($.browser.version)<=8){var objStr='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0"></object>';var paramStr=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+flashVars+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];htmlObj=document.createElement(objStr);for(var i=0;i<paramStr.length;i++){htmlObj.appendChild(document.createElement(paramStr[i]))}}else{var createParam=function(el,n,v){var p=document.createElement("param");p.setAttribute("name",n);p.setAttribute("value",v);el.appendChild(p)};htmlObj=document.createElement("object");htmlObj.setAttribute("id",this.internal.flash.id);htmlObj.setAttribute("data",this.internal.flash.swf);htmlObj.setAttribute("type","application/x-shockwave-flash");htmlObj.setAttribute("width","1");htmlObj.setAttribute("height","1");createParam(htmlObj,"flashvars",flashVars);createParam(htmlObj,"allowscriptaccess","always");createParam(htmlObj,"bgcolor",this.options.backgroundColor);createParam(htmlObj,"wmode",this.options.wmode)}this.element.append(htmlObj);this.internal.flash.jq=$(htmlObj)}if(this.html.used){if(this.html.audio.available){this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio);this.element.append(this.htmlElement.audio);this.internal.audio.jq=$("#"+this.internal.audio.id)}if(this.html.video.available){this._addHtmlEventListeners(this.htmlElement.video,this.html.video);this.element.append(this.htmlElement.video);this.internal.video.jq=$("#"+this.internal.video.id);this.internal.video.jq.css({'width':'0px','height':'0px'})}}if(this.options.emulateHtml){this._emulateHtmlBridge()}if(this.html.used&&!this.flash.used){setTimeout(function(){self.internal.ready=true;self.version.flash="n/a";self._trigger($.jPlayer.event.repeat);self._trigger($.jPlayer.event.ready)},100)}this._updateInterface();this._updateButtons(false);this._updateAutohide();this._updateVolume(this.options.volume);this._updateMute(this.options.muted);if(this.css.jq.videoPlay.length){this.css.jq.videoPlay.hide()}$.jPlayer.prototype.count++},destroy:function(){this._resetStatus();this._updateInterface();this._seeked();if(this.css.jq.currentTime.length){this.css.jq.currentTime.text("")}if(this.css.jq.duration.length){this.css.jq.duration.text("")}if(this.status.srcSet){this.pause()}$.each(this.css.jq,function(fn,jq){if(jq.length){jq.unbind(".jPlayer")}});if(this.options.emulateHtml){this._destroyHtmlBridge()}this.element.removeData("jPlayer");this.element.unbind(".jPlayer");this.element.empty();this.instances[this.internal.instance]=undefined},enable:function(){},disable:function(){},_addHtmlEventListeners:function(mediaElement,entity){var self=this;mediaElement.preload=this.options.preload;mediaElement.muted=this.options.muted;mediaElement.volume=this.options.volume;mediaElement.addEventListener("progress",function(){if(entity.gate&&!self.status.waitForLoad){self._getHtmlStatus(mediaElement);self._updateInterface();self._trigger($.jPlayer.event.progress)}},false);mediaElement.addEventListener("timeupdate",function(){if(entity.gate&&!self.status.waitForLoad){self._getHtmlStatus(mediaElement);self._updateInterface();self._trigger($.jPlayer.event.timeupdate)}},false);mediaElement.addEventListener("durationchange",function(){if(entity.gate&&!self.status.waitForLoad){self.status.duration=this.duration;self._getHtmlStatus(mediaElement);self._updateInterface();self._trigger($.jPlayer.event.durationchange)}},false);mediaElement.addEventListener("play",function(){if(entity.gate&&!self.status.waitForLoad){self._updateButtons(true);self._trigger($.jPlayer.event.play)}},false);mediaElement.addEventListener("playing",function(){if(entity.gate&&!self.status.waitForLoad){self._updateButtons(true);self._seeked();self._trigger($.jPlayer.event.playing)}},false);mediaElement.addEventListener("pause",function(){if(entity.gate&&!self.status.waitForLoad){self._updateButtons(false);self._trigger($.jPlayer.event.pause)}},false);mediaElement.addEventListener("waiting",function(){if(entity.gate&&!self.status.waitForLoad){self._seeking();self._trigger($.jPlayer.event.waiting)}},false);mediaElement.addEventListener("seeking",function(){if(entity.gate&&!self.status.waitForLoad){self._seeking();self._trigger($.jPlayer.event.seeking)}},false);mediaElement.addEventListener("seeked",function(){if(entity.gate&&!self.status.waitForLoad){self._seeked();self._trigger($.jPlayer.event.seeked)}},false);mediaElement.addEventListener("volumechange",function(){if(entity.gate&&!self.status.waitForLoad){self.options.volume=mediaElement.volume;self.options.muted=mediaElement.muted;self._updateMute();self._updateVolume();self._trigger($.jPlayer.event.volumechange)}},false);mediaElement.addEventListener("suspend",function(){if(entity.gate&&!self.status.waitForLoad){self._seeked();self._trigger($.jPlayer.event.suspend)}},false);mediaElement.addEventListener("ended",function(){if(entity.gate&&!self.status.waitForLoad){if(!$.jPlayer.browser.webkit){self.htmlElement.media.currentTime=0}self.htmlElement.media.pause();self._updateButtons(false);self._getHtmlStatus(mediaElement,true);self._updateInterface();self._trigger($.jPlayer.event.ended)}},false);mediaElement.addEventListener("error",function(){if(entity.gate&&!self.status.waitForLoad){self._updateButtons(false);self._seeked();if(self.status.srcSet){clearTimeout(self.internal.htmlDlyCmdId);self.status.waitForLoad=true;self.status.waitForPlay=true;if(self.status.video){self.internal.video.jq.css({'width':'0px','height':'0px'})}if(self._validString(self.status.media.poster)){self.internal.poster.jq.show()}if(self.css.jq.videoPlay.length){self.css.jq.videoPlay.show()}self._error({type:$.jPlayer.error.URL,context:self.status.src,message:$.jPlayer.errorMsg.URL,hint:$.jPlayer.errorHint.URL})}}},false);$.each($.jPlayer.htmlEvent,function(i,eventType){mediaElement.addEventListener(this,function(){if(entity.gate&&!self.status.waitForLoad){self._trigger($.jPlayer.event[eventType])}},false)})},_getHtmlStatus:function(media,override){var ct=0,d=0,cpa=0,sp=0,cpr=0;if(media.duration){this.status.duration=media.duration}ct=media.currentTime;cpa=(this.status.duration>0)?100*ct/this.status.duration:0;if((typeof media.seekable==="object")&&(media.seekable.length>0)){sp=(this.status.duration>0)?100*media.seekable.end(media.seekable.length-1)/this.status.duration:100;cpr=100*media.currentTime/media.seekable.end(media.seekable.length-1)}else{sp=100;cpr=cpa}if(override){ct=0;cpr=0;cpa=0}this.status.seekPercent=sp;this.status.currentPercentRelative=cpr;this.status.currentPercentAbsolute=cpa;this.status.currentTime=ct;this.status.readyState=media.readyState;this.status.networkState=media.networkState;this.status.playbackRate=media.playbackRate;this.status.ended=media.ended},_resetStatus:function(){this.status=$.extend({},this.status,$.jPlayer.prototype.status)},_trigger:function(eventType,error,warning){var event=$.Event(eventType);event.jPlayer={};event.jPlayer.version=$.extend({},this.version);event.jPlayer.options=$.extend(true,{},this.options);event.jPlayer.status=$.extend(true,{},this.status);event.jPlayer.html=$.extend(true,{},this.html);event.jPlayer.flash=$.extend(true,{},this.flash);if(error){event.jPlayer.error=$.extend({},error)}if(warning){event.jPlayer.warning=$.extend({},warning)}this.element.trigger(event)},jPlayerFlashEvent:function(eventType,status){if(eventType===$.jPlayer.event.ready){if(!this.internal.ready){this.internal.ready=true;this.internal.flash.jq.css({'width':'0px','height':'0px'});this.version.flash=status.version;if(this.version.needFlash!==this.version.flash){this._error({type:$.jPlayer.error.VERSION,context:this.version.flash,message:$.jPlayer.errorMsg.VERSION+this.version.flash,hint:$.jPlayer.errorHint.VERSION})}this._trigger($.jPlayer.event.repeat);this._trigger(eventType)}else{if(this.flash.gate){if(this.status.srcSet){var currentTime=this.status.currentTime,paused=this.status.paused;this.setMedia(this.status.media);if(currentTime>0){if(paused){this.pause(currentTime)}else{this.play(currentTime)}}}this._trigger($.jPlayer.event.flashreset)}}}if(this.flash.gate){switch(eventType){case $.jPlayer.event.progress:this._getFlashStatus(status);this._updateInterface();this._trigger(eventType);break;case $.jPlayer.event.timeupdate:this._getFlashStatus(status);this._updateInterface();this._trigger(eventType);break;case $.jPlayer.event.play:this._seeked();this._updateButtons(true);this._trigger(eventType);break;case $.jPlayer.event.pause:this._updateButtons(false);this._trigger(eventType);break;case $.jPlayer.event.ended:this._updateButtons(false);this._trigger(eventType);break;case $.jPlayer.event.error:this.status.waitForLoad=true;this.status.waitForPlay=true;if(this.status.video){this.internal.flash.jq.css({'width':'0px','height':'0px'})}if(this._validString(this.status.media.poster)){this.internal.poster.jq.show()}if(this.css.jq.videoPlay.length){this.css.jq.videoPlay.show()}if(this.status.video){this._flash_setVideo(this.status.media)}else{this._flash_setAudio(this.status.media)}this._error({type:$.jPlayer.error.URL,context:status.src,message:$.jPlayer.errorMsg.URL,hint:$.jPlayer.errorHint.URL});break;case $.jPlayer.event.seeking:this._seeking();this._trigger(eventType);break;case $.jPlayer.event.seeked:this._seeked();this._trigger(eventType);break;case $.jPlayer.event.ready:break;default:this._trigger(eventType)}}return false},_getFlashStatus:function(status){this.status.seekPercent=status.seekPercent;this.status.currentPercentRelative=status.currentPercentRelative;this.status.currentPercentAbsolute=status.currentPercentAbsolute;this.status.currentTime=status.currentTime;this.status.duration=status.duration;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=false},_updateButtons:function(playing){if(playing!==undefined){this.status.paused=!playing;if(this.css.jq.play.length&&this.css.jq.pause.length){if(playing){this.css.jq.play.hide();this.css.jq.pause.show()}else{this.css.jq.play.show();this.css.jq.pause.hide()}}}if(this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length){if(this.options.fullScreen){this.css.jq.fullScreen.hide();this.css.jq.restoreScreen.show()}else{this.css.jq.fullScreen.show();this.css.jq.restoreScreen.hide()}}if(this.css.jq.repeat.length&&this.css.jq.repeatOff.length){if(this.options.loop){this.css.jq.repeat.hide();this.css.jq.repeatOff.show()}else{this.css.jq.repeat.show();this.css.jq.repeatOff.hide()}}},_updateInterface:function(){if(this.css.jq.seekBar.length){this.css.jq.seekBar.width(this.status.seekPercent+"%")}if(this.css.jq.playBar.length){this.css.jq.playBar.width(this.status.currentPercentRelative+"%")}if(this.css.jq.currentTime.length){this.css.jq.currentTime.text($.jPlayer.convertTime(this.status.currentTime))}if(this.css.jq.duration.length){this.css.jq.duration.text($.jPlayer.convertTime(this.status.duration))}},_seeking:function(){if(this.css.jq.seekBar.length){this.css.jq.seekBar.addClass("jp-seeking-bg")}},_seeked:function(){if(this.css.jq.seekBar.length){this.css.jq.seekBar.removeClass("jp-seeking-bg")}},setMedia:function(media){var self=this;this._seeked();clearTimeout(this.internal.htmlDlyCmdId);var audioGate=this.html.audio.gate;var videoGate=this.html.video.gate;var supported=false;$.each(this.formats,function(formatPriority,format){var isVideo=self.format[format].media==='video';$.each(self.solutions,function(solutionPriority,solution){if(self[solution].support[format]&&self._validString(media[format])){var isHtml=solution==='html';if(isVideo){if(isHtml){self.html.audio.gate=false;self.html.video.gate=true;self.flash.gate=false}else{self.html.audio.gate=false;self.html.video.gate=false;self.flash.gate=true}}else{if(isHtml){self.html.audio.gate=true;self.html.video.gate=false;self.flash.gate=false}else{self.html.audio.gate=false;self.html.video.gate=false;self.flash.gate=true}}if(self.flash.active||(self.html.active&&self.flash.gate)||(audioGate===self.html.audio.gate&&videoGate===self.html.video.gate)){self.clearMedia()}else if(audioGate!==self.html.audio.gate&&videoGate!==self.html.video.gate){self._html_pause();if(self.status.video){self.internal.video.jq.css({'width':'0px','height':'0px'})}self._resetStatus()}if(isVideo){if(isHtml){self._html_setVideo(media);self.html.active=true;self.flash.active=false}else{self._flash_setVideo(media);self.html.active=false;self.flash.active=true}if(self.css.jq.videoPlay.length){self.css.jq.videoPlay.show()}self.status.video=true}else{if(isHtml){self._html_setAudio(media);self.html.active=true;self.flash.active=false}else{self._flash_setAudio(media);self.html.active=false;self.flash.active=true}if(self.css.jq.videoPlay.length){self.css.jq.videoPlay.hide()}self.status.video=false}supported=true;return false}});if(supported){return false}});if(supported){if(this._validString(media.poster)){if(this.htmlElement.poster.src!==media.poster){this.htmlElement.poster.src=media.poster}else{this.internal.poster.jq.show()}}else{this.internal.poster.jq.hide()}this.status.srcSet=true;this.status.media=$.extend({},media);this._updateButtons(false);this._updateInterface()}else{if(this.status.srcSet&&!this.status.waitForPlay){this.pause()}this.html.audio.gate=false;this.html.video.gate=false;this.flash.gate=false;this.html.active=false;this.flash.active=false;this._resetStatus();this._updateInterface();this._updateButtons(false);this.internal.poster.jq.hide();if(this.html.used&&this.require.video){this.internal.video.jq.css({'width':'0px','height':'0px'})}if(this.flash.used){this.internal.flash.jq.css({'width':'0px','height':'0px'})}this._error({type:$.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:$.jPlayer.errorMsg.NO_SUPPORT,hint:$.jPlayer.errorHint.NO_SUPPORT})}},clearMedia:function(){this._resetStatus();this._updateButtons(false);this.internal.poster.jq.hide();clearTimeout(this.internal.htmlDlyCmdId);if(this.html.active){this._html_clearMedia()}else if(this.flash.active){this._flash_clearMedia()}},load:function(){if(this.status.srcSet){if(this.html.active){this._html_load()}else if(this.flash.active){this._flash_load()}}else{this._urlNotSetError("load")}},play:function(time){time=(typeof time==="number")?time:NaN;if(this.status.srcSet){if(this.html.active){this._html_play(time)}else if(this.flash.active){this._flash_play(time)}}else{this._urlNotSetError("play")}},videoPlay:function(e){this.play()},pause:function(time){time=(typeof time==="number")?time:NaN;if(this.status.srcSet){if(this.html.active){this._html_pause(time)}else if(this.flash.active){this._flash_pause(time)}}else{this._urlNotSetError("pause")}},pauseOthers:function(){var self=this;$.each(this.instances,function(i,element){if(self.element!==element){if(element.data("jPlayer").status.srcSet){element.jPlayer("pause")}}})},stop:function(){if(this.status.srcSet){if(this.html.active){this._html_pause(0)}else if(this.flash.active){this._flash_pause(0)}}else{this._urlNotSetError("stop")}},playHead:function(p){p=this._limitValue(p,0,100);if(this.status.srcSet){if(this.html.active){this._html_playHead(p)}else if(this.flash.active){this._flash_playHead(p)}}else{this._urlNotSetError("playHead")}},_muted:function(muted){this.options.muted=muted;if(this.html.used){this._html_mute(muted)}if(this.flash.used){this._flash_mute(muted)}if(this.flash.gate){this._updateMute(muted);this._updateVolume(this.options.volume);this._trigger($.jPlayer.event.volumechange)}},mute:function(mute){mute=mute===undefined?true:!!mute;this._muted(mute)},unmute:function(unmute){unmute=unmute===undefined?true:!!unmute;this._muted(!unmute)},_updateMute:function(mute){if(mute===undefined){mute=this.options.muted}if(this.css.jq.mute.length&&this.css.jq.unmute.length){if(mute){this.css.jq.mute.hide();this.css.jq.unmute.show()}else{this.css.jq.mute.show();this.css.jq.unmute.hide()}}},volume:function(v){v=this._limitValue(v,0,1);this.options.volume=v;if(this.html.used){this._html_volume(v)}if(this.flash.used){this._flash_volume(v)}if(this.flash.gate){this._updateVolume(v);this._trigger($.jPlayer.event.volumechange)}},volumeBar:function(e){if(this.css.jq.volumeBar.length){var offset=this.css.jq.volumeBar.offset();var x=e.pageX-offset.left;var w=this.css.jq.volumeBar.width();var v=x/w;this.volume(v)}if(this.options.muted){this._muted(false)}},volumeBarValue:function(e){this.volumeBar(e)},_updateVolume:function(v){if(v===undefined){v=this.options.volume}v=this.options.muted?0:v;if(this.css.jq.volumeBarValue.length){this.css.jq.volumeBarValue.width((v*100)+"%")}},volumeMax:function(){this.volume(1);if(this.options.muted){this._muted(false)}},_cssSelectorAncestor:function(ancestor){var self=this;this.options.cssSelectorAncestor=ancestor;this._removeUiClass();this.ancestorJq=ancestor?$(ancestor):[];if(ancestor&&this.ancestorJq.length!==1){this._warning({type:$.jPlayer.warning.CSS_SELECTOR_COUNT,context:ancestor,message:$.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:$.jPlayer.warningHint.CSS_SELECTOR_COUNT})}this._addUiClass();$.each(this.options.cssSelector,function(fn,cssSel){self._cssSelector(fn,cssSel)})},_cssSelector:function(fn,cssSel){var self=this;if(typeof cssSel==='string'){if($.jPlayer.prototype.options.cssSelector[fn]){if(this.css.jq[fn]&&this.css.jq[fn].length){this.css.jq[fn].unbind(".jPlayer")}this.options.cssSelector[fn]=cssSel;this.css.cs[fn]=this.options.cssSelectorAncestor+" "+cssSel;if(cssSel){this.css.jq[fn]=$(this.css.cs[fn])}else{this.css.jq[fn]=[]}if(this.css.jq[fn].length){var handler=function(e){self[fn](e);$(this).blur();return false};this.css.jq[fn].bind("click.jPlayer",handler)}if(cssSel&&this.css.jq[fn].length!==1){this._warning({type:$.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[fn],message:$.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[fn].length+" found for "+fn+" method.",hint:$.jPlayer.warningHint.CSS_SELECTOR_COUNT})}}else{this._warning({type:$.jPlayer.warning.CSS_SELECTOR_METHOD,context:fn,message:$.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:$.jPlayer.warningHint.CSS_SELECTOR_METHOD})}}else{this._warning({type:$.jPlayer.warning.CSS_SELECTOR_STRING,context:cssSel,message:$.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:$.jPlayer.warningHint.CSS_SELECTOR_STRING})}},seekBar:function(e){if(this.css.jq.seekBar){var offset=this.css.jq.seekBar.offset();var x=e.pageX-offset.left;var w=this.css.jq.seekBar.width();var p=100*x/w;this.playHead(p)}},playBar:function(e){this.seekBar(e)},repeat:function(){this._loop(true)},repeatOff:function(){this._loop(false)},_loop:function(loop){if(this.options.loop!==loop){this.options.loop=loop;this._updateButtons();this._trigger($.jPlayer.event.repeat)}},currentTime:function(e){},duration:function(e){},gui:function(e){},option:function(key,value){var options=key;if(arguments.length===0){return $.extend(true,{},this.options)}if(typeof key==="string"){var keys=key.split(".");if(value===undefined){var opt=$.extend(true,{},this.options);for(var i=0;i<keys.length;i++){if(opt[keys[i]]!==undefined){opt=opt[keys[i]]}else{this._warning({type:$.jPlayer.warning.OPTION_KEY,context:key,message:$.jPlayer.warningMsg.OPTION_KEY,hint:$.jPlayer.warningHint.OPTION_KEY});return undefined}}return opt}options={};var opts=options;for(var j=0;j<keys.length;j++){if(j<keys.length-1){opts[keys[j]]={};opts=opts[keys[j]]}else{opts[keys[j]]=value}}}this._setOptions(options);return this},_setOptions:function(options){var self=this;$.each(options,function(key,value){self._setOption(key,value)});return this},_setOption:function(key,value){var self=this;switch(key){case"volume":this.volume(value);break;case"muted":this._muted(value);break;case"cssSelectorAncestor":this._cssSelectorAncestor(value);break;case"cssSelector":$.each(value,function(fn,cssSel){self._cssSelector(fn,cssSel)});break;case"fullScreen":if(this.options[key]!==value){this._removeUiClass();this.options[key]=value;this._refreshSize()}break;case"size":if(!this.options.fullScreen&&this.options[key].cssClass!==value.cssClass){this._removeUiClass()}this.options[key]=$.extend({},this.options[key],value);this._refreshSize();break;case"sizeFull":if(this.options.fullScreen&&this.options[key].cssClass!==value.cssClass){this._removeUiClass()}this.options[key]=$.extend({},this.options[key],value);this._refreshSize();break;case"autohide":this.options[key]=$.extend({},this.options[key],value);this._updateAutohide();break;case"loop":this._loop(value);break;case"emulateHtml":if(this.options[key]!==value){this.options[key]=value;if(value){this._emulateHtmlBridge()}else{this._destroyHtmlBridge()}}break}return this},_refreshSize:function(){this._setSize();this._addUiClass();this._updateSize();this._updateButtons();this._updateAutohide();this._trigger($.jPlayer.event.resize)},_setSize:function(){if(this.options.fullScreen){this.status.width=this.options.sizeFull.width;this.status.height=this.options.sizeFull.height;this.status.cssClass=this.options.sizeFull.cssClass}else{this.status.width=this.options.size.width;this.status.height=this.options.size.height;this.status.cssClass=this.options.size.cssClass}this.element.css({'width':this.status.width,'height':this.status.height})},_addUiClass:function(){if(this.ancestorJq.length){this.ancestorJq.addClass(this.status.cssClass)}},_removeUiClass:function(){if(this.ancestorJq.length){this.ancestorJq.removeClass(this.status.cssClass)}},_updateSize:function(){this.internal.poster.jq.css({'width':this.status.width,'height':this.status.height});if(!this.status.waitForPlay){if(this.html.active&&this.status.video){this.internal.video.jq.css({'width':this.status.width,'height':this.status.height})}else if(this.flash.active){this.internal.flash.jq.css({'width':this.status.width,'height':this.status.height})}}},_updateAutohide:function(){var self=this,event="mousemove.jPlayer",namespace=".jPlayerAutohide",eventType=event+namespace,handler=function(){self.css.jq.gui.fadeIn(self.options.autohide.fadeIn,function(){clearTimeout(self.internal.autohideId);self.internal.autohideId=setTimeout(function(){self.css.jq.gui.fadeOut(self.options.autohide.fadeOut)},self.options.autohide.hold)})};clearTimeout(this.internal.autohideId);this.element.unbind(namespace);if(this.css.jq.gui.length){this.css.jq.gui.unbind(namespace);if(this.options.fullScreen&&this.options.autohide.full||!this.options.fullScreen&&this.options.autohide.restored){this.element.bind(eventType,handler);this.css.jq.gui.bind(eventType,handler);this.css.jq.gui.hide()}else{this.css.jq.gui.stop(true,true).show()}}},fullScreen:function(){this._setOption("fullScreen",true)},restoreScreen:function(){this._setOption("fullScreen",false)},_html_initMedia:function(){if(this.status.srcSet&&!this.status.waitForPlay){this.htmlElement.media.pause()}if(this.options.preload!=='none'){this._html_load()}this._trigger($.jPlayer.event.timeupdate)},_html_setAudio:function(media){var self=this;$.each(this.formats,function(priority,format){if(self.html.support[format]&&media[format]){self.status.src=media[format];self.status.format[format]=true;self.status.formatType=format;return false}});this.htmlElement.media=this.htmlElement.audio;this._html_initMedia()},_html_setVideo:function(media){var self=this;$.each(this.formats,function(priority,format){if(self.html.support[format]&&media[format]){self.status.src=media[format];self.status.format[format]=true;self.status.formatType=format;return false}});this.htmlElement.media=this.htmlElement.video;this._html_initMedia()},_html_clearMedia:function(){if(this.htmlElement.media){if(this.htmlElement.media.id===this.internal.video.id){this.internal.video.jq.css({'width':'0px','height':'0px'})}this.htmlElement.media.pause();this.htmlElement.media.src="";this.htmlElement.media.load()}},_html_load:function(){if(this.status.waitForLoad){this.status.waitForLoad=false;this.htmlElement.media.src=this.status.src;this.htmlElement.media.load()}clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(time){var self=this;this._html_load();this.htmlElement.media.play();if(!isNaN(time)){try{this.htmlElement.media.currentTime=time}catch(err){this.internal.htmlDlyCmdId=setTimeout(function(){self.play(time)},100);return}}this._html_checkWaitForPlay()},_html_pause:function(time){var self=this;if(time>0){this._html_load()}else{clearTimeout(this.internal.htmlDlyCmdId)}this.htmlElement.media.pause();if(!isNaN(time)){try{this.htmlElement.media.currentTime=time}catch(err){this.internal.htmlDlyCmdId=setTimeout(function(){self.pause(time)},100);return}}if(time>0){this._html_checkWaitForPlay()}},_html_playHead:function(percent){var self=this;this._html_load();try{if((typeof this.htmlElement.media.seekable==="object")&&(this.htmlElement.media.seekable.length>0)){this.htmlElement.media.currentTime=percent*this.htmlElement.media.seekable.end(this.htmlElement.media.seekable.length-1)/100}else if(this.htmlElement.media.duration>0&&!isNaN(this.htmlElement.media.duration)){this.htmlElement.media.currentTime=percent*this.htmlElement.media.duration/100}else{throw"e"}}catch(err){this.internal.htmlDlyCmdId=setTimeout(function(){self.playHead(percent)},100);return}if(!this.status.waitForLoad){this._html_checkWaitForPlay()}},_html_checkWaitForPlay:function(){if(this.status.waitForPlay){this.status.waitForPlay=false;if(this.css.jq.videoPlay.length){this.css.jq.videoPlay.hide()}if(this.status.video){this.internal.poster.jq.hide();this.internal.video.jq.css({'width':this.status.width,'height':this.status.height})}}},_html_volume:function(v){if(this.html.audio.available){this.htmlElement.audio.volume=v}if(this.html.video.available){this.htmlElement.video.volume=v}},_html_mute:function(m){if(this.html.audio.available){this.htmlElement.audio.muted=m}if(this.html.video.available){this.htmlElement.video.muted=m}},_flash_setAudio:function(media){var self=this;try{$.each(this.formats,function(priority,format){if(self.flash.support[format]&&media[format]){switch(format){case"m4a":case"fla":self._getMovie().fl_setAudio_m4a(media[format]);break;case"mp3":self._getMovie().fl_setAudio_mp3(media[format]);break}self.status.src=media[format];self.status.format[format]=true;self.status.formatType=format;return false}});if(this.options.preload==='auto'){this._flash_load();this.status.waitForLoad=false}}catch(err){this._flashError(err)}},_flash_setVideo:function(media){var self=this;try{$.each(this.formats,function(priority,format){if(self.flash.support[format]&&media[format]){switch(format){case"m4v":case"flv":self._getMovie().fl_setVideo_m4v(media[format]);break}self.status.src=media[format];self.status.format[format]=true;self.status.formatType=format;return false}});if(this.options.preload==='auto'){this._flash_load();this.status.waitForLoad=false}}catch(err){this._flashError(err)}},_flash_clearMedia:function(){this.internal.flash.jq.css({'width':'0px','height':'0px'});try{this._getMovie().fl_clearMedia()}catch(err){this._flashError(err)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(err){this._flashError(err)}this.status.waitForLoad=false},_flash_play:function(time){try{this._getMovie().fl_play(time)}catch(err){this._flashError(err)}this.status.waitForLoad=false;this._flash_checkWaitForPlay()},_flash_pause:function(time){try{this._getMovie().fl_pause(time)}catch(err){this._flashError(err)}if(time>0){this.status.waitForLoad=false;this._flash_checkWaitForPlay()}},_flash_playHead:function(p){try{this._getMovie().fl_play_head(p)}catch(err){this._flashError(err)}if(!this.status.waitForLoad){this._flash_checkWaitForPlay()}},_flash_checkWaitForPlay:function(){if(this.status.waitForPlay){this.status.waitForPlay=false;if(this.css.jq.videoPlay.length){this.css.jq.videoPlay.hide()}if(this.status.video){this.internal.poster.jq.hide();this.internal.flash.jq.css({'width':this.status.width,'height':this.status.height})}}},_flash_volume:function(v){try{this._getMovie().fl_volume(v)}catch(err){this._flashError(err)}},_flash_mute:function(m){try{this._getMovie().fl_mute(m)}catch(err){this._flashError(err)}},_getMovie:function(){return document[this.internal.flash.id]},_checkForFlash:function(version){var flashIsInstalled=false;var flash;if(window.ActiveXObject){try{flash=new ActiveXObject(("ShockwaveFlash.ShockwaveFlash."+version));flashIsInstalled=true}catch(e){}}else if(navigator.plugins&&navigator.mimeTypes.length>0){flash=navigator.plugins["Shockwave Flash"];if(flash){var flashVersion=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1");if(flashVersion>=version){flashIsInstalled=true}}}return flashIsInstalled},_validString:function(url){return(url&&typeof url==="string")},_limitValue:function(value,min,max){return(value<min)?min:((value>max)?max:value)},_urlNotSetError:function(context){this._error({type:$.jPlayer.error.URL_NOT_SET,context:context,message:$.jPlayer.errorMsg.URL_NOT_SET,hint:$.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(error){var errorType;if(!this.internal.ready){errorType="FLASH"}else{errorType="FLASH_DISABLED"}this._error({type:$.jPlayer.error[errorType],context:this.internal.flash.swf,message:$.jPlayer.errorMsg[errorType]+error.message,hint:$.jPlayer.errorHint[errorType]})},_error:function(error){this._trigger($.jPlayer.event.error,error);if(this.options.errorAlerts){this._alert("Error!"+(error.message?"\n\n"+error.message:"")+(error.hint?"\n\n"+error.hint:"")+"\n\nContext: "+error.context)}},_warning:function(warning){this._trigger($.jPlayer.event.warning,undefined,warning);if(this.options.warningAlerts){this._alert("Warning!"+(warning.message?"\n\n"+warning.message:"")+(warning.hint?"\n\n"+warning.hint:"")+"\n\nContext: "+warning.context)}},_alert:function(message){alert("jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+message)},_emulateHtmlBridge:function(){var self=this,methods=$.jPlayer.emulateMethods;$.each($.jPlayer.emulateMethods.split(/\s+/g),function(i,name){self.internal.domNode[name]=function(arg){self[name](arg)}});$.each($.jPlayer.event,function(eventName,eventType){var nativeEvent=true;$.each($.jPlayer.reservedEvent.split(/\s+/g),function(i,name){if(name===eventName){nativeEvent=false;return false}});if(nativeEvent){self.element.bind(eventType+".jPlayer.jPlayerHtml",function(){self._emulateHtmlUpdate();var domEvent=document.createEvent("Event");domEvent.initEvent(eventName,false,true);self.internal.domNode.dispatchEvent(domEvent)})}})},_emulateHtmlUpdate:function(){var self=this;$.each($.jPlayer.emulateStatus.split(/\s+/g),function(i,name){self.internal.domNode[name]=self.status[name]});$.each($.jPlayer.emulateOptions.split(/\s+/g),function(i,name){self.internal.domNode[name]=self.options[name]})},_destroyHtmlBridge:function(){var self=this;this.element.unbind(".jPlayerHtml");var emulated=$.jPlayer.emulateMethods+" "+$.jPlayer.emulateStatus+" "+$.jPlayer.emulateOptions;$.each(emulated.split(/\s+/g),function(i,name){delete self.internal.domNode[name]})}};$.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"};$.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+$.jPlayer.prototype.version.script+" needs Jplayer.swf version "+$.jPlayer.prototype.version.needFlash+" but found "};$.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."};$.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"};$.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."};$.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}})(jQuery);


/**
 * Created by 23rd and Walnut for Codebasehero.com
 * www.23andwalnut.com
 * www.codebasehero.com
 * User: Saleem El-Amin
 * Date: 6/11/11
 * Time: 6:41 AM
 *
 * License: MIT License
 */
(function(a){a.fn.ttwMusicPlayer=function(q,f){var p=this,v,e,g,s,b,h,t,q,u,m,j,l;g={jPlayer:"#jquery_jplayer",jPlayerInterface:".jp-interface",playerPrevious:".jp-interface .jp-previous",playerNext:".jp-interface .jp-next",trackList:".tracklist",tracks:".tracks",track:".track",trackRating:".rating-bar",trackInfo:".track-info",rating:".rating",ratingLevel:".rating-level",ratingLevelOn:".on",title:".title",duration:".duration",buy:".buy",buyNotActive:".not-active",playing:".playing",moreButton:".more",player:".player",artist:".artist",artistOuter:".artist-outer",albumCover:".img",description:".description",descriptionShowing:".showing"};v={ratingCallback:null,currencySymbol:"$",buyText:"BUY",tracksToShow:5,autoPlay:false,jPlayer:{}};e=a.extend(true,{},v,f);j=q;l=0;s=function(){q=new b();u=new h();u.buildInterface();q.init(e.jPlayer);p.bind("mbPlaylistLoaded",function(){p.bind("mbInterfaceBuilt",function(){m=new t()});u.init()})};b=function(){var C=false,O,I={},Q,E=0,G=0,A,H;O={listItem:'<li class="track"><span class="title"></span><span class="duration"></span><span class="rating"></span><a href="#" class="buy not-active" target="_blank"></a></li>',ratingBar:'<span class="rating-level rating-bar"></span>'};function L(T){I=a(".ttw-music-player .jPlayer-container");var S,R;S={swfPath:"jquery-jplayer",supplied:"mp3, oga",cssSelectorAncestor:g.jPlayerInterface,errorAlerts:false,warningAlerts:false};R=a.extend(true,{},S,T);I.bind(a.jPlayer.event.ready,function(){I.bind(a.jPlayer.event.ended,function(U){z()});I.bind(a.jPlayer.event.play,function(U){I.jPlayer("pauseOthers");Q.eq(l).addClass(n(g.playing)).siblings().removeClass(n(g.playing))});I.bind(a.jPlayer.event.playing,function(U){C=true});I.bind(a.jPlayer.event.pause,function(U){C=false});a(g.playerPrevious).click(function(){y();a(this).blur();return false});a(g.playerNext).click(function(){z();a(this).blur();return false});p.bind("mbInitPlaylistAdvance",function(U){var V=this.getData("mbInitPlaylistAdvance");if(V!=l){l=V;N(l)}else{if(!I.data("jPlayer").status.srcSet){N(0)}else{D()}}});K();p.trigger("mbPlaylistLoaded");B(e.autoplay)});I.jPlayer(R)}function B(R){l=0;if(R){N(l)}else{J(l);p.trigger("mbPlaylistInit")}}function J(R){l=R;I.jPlayer("setMedia",j[l])}function N(R){J(R);if(R>=e.tracksToShow){M()}p.trigger("mbPlaylistAdvance");I.jPlayer("play")}function z(){var R=(l+1<j.length)?l+1:0;N(R)}function y(){var R=(l-1>=0)?l-1:j.length-1;N(R)}function D(){if(!C){I.jPlayer("play")}else{I.jPlayer("pause")}}function K(){var R=a();A=p.find(g.tracks);for(var T=0;T<10;T++){R=R.add(O.ratingBar)}for(var S=0;S<j.length;S++){var V=a(O.listItem);V.find(g.rating).html(R.clone());V.find(g.title).html(i(S));V.find(g.duration).html(x(S));d("track",V,S);F(V,S);V.data("index",S);A.append(V)}Q=a(g.track);Q.slice(0,e.tracksToShow).each(function(){E+=a(this).outerHeight()});Q.slice(e.tracksToShow,j.length).each(function(){G+=a(this).outerHeight()});if(G>0){var U=a(g.trackList);A.height(E);U.addClass("show-more-button");U.find(g.moreButton).click(function(){H=a(this);M()})}Q.find(".title").click(function(){N(a(this).parents("li").data("index"))})}function M(){if(c(H)){H=p.find(g.moreButton)}A.animate({height:E+G},function(){H.animate({opacity:0},function(){H.slideUp(function(){H.parents(g.trackList).removeClass("show-more-button");H.remove()})})})}function x(R){return !c(j[R].duration)?j[R].duration:"-"}function F(S,R){if(!c(j[R].buy)){S.find(g.buy).removeClass(n(g.buyNotActive)).attr("href",j[R].buy).html(P(R))}}function P(R){return(!c(j[R].price)?e.currencySymbol+j[R].price:"")+" "+e.buyText}return{init:L,playlistInit:B,playlistAdvance:N,playlistNext:z,playlistPrev:y,togglePlay:D,$myJplayer:I}};t=function(){var x=p.find(g.track);function z(){a(g.rating).find(g.ratingLevel).hover(function(){a(this).addClass("hover").prevAll().addClass("hover").end().nextAll().removeClass("hover")});a(g.rating).mouseleave(function(){a(this).find(g.ratingLevel).removeClass("hover")});a(g.ratingLevel).click(function(){var C=a(this),B=C.parent().children().index(C)+1,A;if(C.hasClass(n(g.trackRating))){B=B/2;A=C.parents("li").data("index");if(A==l){k(B)}}else{A=l;o(x.eq(A),B)}C.prevAll().add(C).addClass(n(g.ratingLevelOn)).end().end().nextAll().removeClass(n(g.ratingLevelOn));y(A,B)})}function y(A,B){j[A].rating=B;r(e.ratingCallback,A,j[A],B)}z()};h=function(){var A,E,G,y;function F(){A=a(g.player),E=A.find(g.title),G=A.find(g.artist),y=A.find(g.albumCover);C();p.bind("mbPlaylistAdvance mbPlaylistInit",function(){z();x();d("current",null,l);B()})}function D(){var H,I;H='<div class="ttw-music-player"><div class="player jp-interface"><div class="album-cover"><span class="img"></span>            <span class="highlight"></span>        </div>        <div class="track-info">            <p class="title"></p>            <p class="artist-outer">By <span class="artist"></span></p>            <div class="rating">                <span class="rating-level rating-star on"></span>                <span class="rating-level rating-star on"></span>                <span class="rating-level rating-star on"></span>                <span class="rating-level rating-star on"></span>                <span class="rating-level rating-star"></span>            </div>        </div>        <div class="player-controls">            <div class="main">                <div class="previous jp-previous"></div>                <div class="play jp-play"></div>                <div class="pause jp-pause"></div>                <div class="next jp-next"></div><!-- These controls aren\'t used by this plugin, but jPlayer seems to require that they exist -->                <span class="unused-controls">                    <span class="jp-video-play"></span>                    <span class="jp-stop"></span>                    <span class="jp-mute"></span>                    <span class="jp-unmute"></span>                    <span class="jp-volume-bar"></span>                    <span class="jp-volume-bar-value"></span>                    <span class="jp-volume-max"></span>                    <span class="jp-current-time"></span>                    <span class="jp-duration"></span>                    <span class="jp-full-screen"></span>                    <span class="jp-restore-screen"></span>                    <span class="jp-repeat"></span>                    <span class="jp-repeat-off"></span>                    <span class="jp-gui"></span>                </span>            </div>            <div class="progress-wrapper">                <div class="progress jp-seek-bar">                    <div class="elapsed jp-play-bar"></div>                </div>            </div>        </div>    </div>    <p class="description"></p>    <div class="tracklist">        <ol class="tracks"> </ol>        <div class="more">View More...</div>    </div>    <div class="jPlayer-container"></div></div>';I=a(H).css({display:"none",opacity:0}).appendTo(p).slideDown("slow",function(){I.animate({opacity:1});p.trigger("mbInterfaceBuilt")})}function z(){E.html(i(l))}function x(){if(c(j[l].artist)){G.parent(g.artistOuter).animate({opacity:0},"fast")}else{G.html(j[l].artist).parent(g.artistOuter).animate({opacity:1},"fast")}}function B(){y.animate({opacity:0},"fast",function(){if(!c(j[l].cover)){var H=l;a('<img src="'+j[l].cover+'" alt="album cover" />',this).imagesLoaded(function(){if(H==l){y.html(a(this)).animate({opacity:1})}})}})}function C(){if(!c(e.description)){p.find(g.description).html(e.description).addClass(n(g.descriptionShowing)).slideDown()}}return{buildInterface:D,init:F}};function i(x){if(!c(j[x].title)){return j[x].title}else{if(!c(j[x].mp3)){return w(j[x].mp3)}else{if(!c(j[x].oga)){return w(j[x].oga)}else{return""}}}}function w(x){x=x.split("/");return x[x.length-1]}function d(z,A,x){if(z=="track"){if(!c(j[x].rating)){o(A,j[x].rating)}}else{var y=!c(j[x].rating)?Math.ceil(j[x].rating):0;k(y)}}function k(x){p.find(g.trackInfo).find(g.ratingLevel).removeClass(n(g.ratingLevelOn)).slice(0,x).addClass(n(g.ratingLevelOn))}function o(y,x){y.find(g.ratingLevel).removeClass(n(g.ratingLevelOn)).slice(0,x*2).addClass(n(g.ratingLevelOn))}function n(x){return x.substr(1)}function r(y){var x=Array.prototype.slice.call(arguments,1);if(a.isFunction(y)){y.apply(this,x)}}function c(x){return typeof x=="undefined"}s()}})(jQuery);(function(a){a.fn.imagesLoaded=function(d){var c=this.filter("img"),b=c.length;c.bind("load",function(){if(--b<=0){d.call(c,this)}}).each(function(){if(this.complete||this.complete===undefined){var e=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=e}});return this}})(jQuery);


/*!jQuery Knob*/
/**
 * Downward compatible, touchable dial
 *
 * Version: 1.2.0 (15/07/2012)
 * Requires: jQuery v1.7+
 *
 * Copyright (c) 2012 Anthony Terrien
 * Under MIT and GPL licenses:
 *  http://www.opensource.org/licenses/mit-license.php
 *  http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to vor, eskimoblood, spiffistan, FabrizioC
 */
(function(d){var b={},a=Math.max,c=Math.min;b.c={};b.c.d=d(document);b.c.t=function(f){return f.originalEvent.touches.length-1;};b.o=function(){var e=this;this.o=null;this.$=null;this.i=null;this.g=null;this.v=null;this.cv=null;this.x=0;this.y=0;this.$c=null;this.c=null;this.t=0;this.isInit=false;this.fgColor=null;this.pColor=null;this.dH=null;this.cH=null;this.eH=null;this.rH=null;this.run=function(){var f=function(i,h){var g;for(g in h){e.o[g]=h[g];}e.init();e._configure()._draw();};if(this.$.data("kontroled")){return;}this.$.data("kontroled",true);this.extend();this.o=d.extend({min:this.$.data("min")||0,max:this.$.data("max")||100,stopper:true,readOnly:this.$.data("readonly"),cursor:(this.$.data("cursor")===true&&30)||this.$.data("cursor")||0,thickness:this.$.data("thickness")||0.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:this.$.data("displayinput")==null||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor")||this.$.data("fgcolor")||"#87CEEB",inline:false,step:this.$.data("step")||1,draw:null,change:null,cancel:null,release:null},this.o);if(this.$.is("fieldset")){this.v={};this.i=this.$.find("input");this.i.each(function(g){var h=d(this);e.i[g]=h;e.v[g]=h.val();h.bind("change",function(){var i={};i[g]=h.val();e.val(i);});});this.$.find("legend").remove();}else{this.i=this.$;this.v=this.$.val();(this.v=="")&&(this.v=this.o.min);this.$.bind("change",function(){e.val(e._validate(e.$.val()));});}(!this.o.displayInput)&&this.$.hide();this.$c=d('<canvas width="'+this.o.width+'px" height="'+this.o.height+'px"></canvas>');this.c=this.$c[0].getContext("2d");this.$.wrap(d('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>')).before(this.$c);if(this.v instanceof Object){this.cv={};this.copy(this.v,this.cv);}else{this.cv=this.v;}this.$.bind("configure",f).parent().bind("configure",f);this._listen()._configure()._xy().init();this.isInit=true;this._draw();return this;};this._draw=function(){var f=true,g=document.createElement("canvas");g.width=e.o.width;g.height=e.o.height;e.g=g.getContext("2d");e.clear();e.dH&&(f=e.dH());(f!==false)&&e.draw();e.c.drawImage(g,0,0);g=null;};this._touch=function(f){var g=function(i){var h=e.xy2val(i.originalEvent.touches[e.t].pageX,i.originalEvent.touches[e.t].pageY);if(h==e.cv){return;}if(e.cH&&(e.cH(h)===false)){return;}e.change(e._validate(h));e._draw();};this.t=b.c.t(f);g(f);b.c.d.bind("touchmove.k",g).bind("touchend.k",function(){b.c.d.unbind("touchmove.k touchend.k");if(e.rH&&(e.rH(e.cv)===false)){return;}e.val(e.cv);});return this;};this._mouse=function(g){var f=function(i){var h=e.xy2val(i.pageX,i.pageY);if(h==e.cv){return;}if(e.cH&&(e.cH(h)===false)){return;}e.change(e._validate(h));e._draw();};f(g);b.c.d.bind("mousemove.k",f).bind("keyup.k",function(h){if(h.keyCode===27){b.c.d.unbind("mouseup.k mousemove.k keyup.k");if(e.eH&&(e.eH()===false)){return;}e.cancel();}}).bind("mouseup.k",function(h){b.c.d.unbind("mousemove.k mouseup.k keyup.k");if(e.rH&&(e.rH(e.cv)===false)){return;}e.val(e.cv);});return this;};this._xy=function(){var f=this.$c.offset();this.x=f.left;this.y=f.top;return this;};this._listen=function(){if(!this.o.readOnly){this.$c.bind("mousedown",function(f){f.preventDefault();e._xy()._mouse(f);}).bind("touchstart",function(f){f.preventDefault();e._xy()._touch(f);});this.listen();}else{this.$.attr("readonly","readonly");}return this;};this._configure=function(){if(this.o.draw){this.dH=this.o.draw;}if(this.o.change){this.cH=this.o.change;}if(this.o.cancel){this.eH=this.o.cancel;}if(this.o.release){this.rH=this.o.release;}if(this.o.displayPrevious){this.pColor=this.h2rgba(this.o.fgColor,"0.4");this.fgColor=this.h2rgba(this.o.fgColor,"0.6");}else{this.fgColor=this.o.fgColor;}return this;};this._clear=function(){this.$c[0].width=this.$c[0].width;};this._validate=function(f){return(~~(((f<0)?-0.5:0.5)+(f/this.o.step)))*this.o.step;};this.listen=function(){};this.extend=function(){};this.init=function(){};this.change=function(f){};this.val=function(f){};this.xy2val=function(f,g){};this.draw=function(){};this.clear=function(){this._clear();};this.h2rgba=function(i,f){var g;i=i.substring(1,7);g=[parseInt(i.substring(0,2),16),parseInt(i.substring(2,4),16),parseInt(i.substring(4,6),16)];return"rgba("+g[0]+","+g[1]+","+g[2]+","+f+")";};this.copy=function(j,h){for(var g in j){h[g]=j[g];}};};b.Dial=function(){b.o.call(this);this.startAngle=null;this.xy=null;this.radius=null;this.lineWidth=null;this.cursorExt=null;this.w2=null;this.PI2=2*Math.PI;this.extend=function(){this.o=d.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:true},this.o);};this.val=function(e){if(null!=e){this.cv=this.o.stopper?a(c(e,this.o.max),this.o.min):e;this.v=this.cv;this.$.val(this.v);this._draw();}else{return this.v;}};this.xy2val=function(e,h){var f,g;f=Math.atan2(e-(this.x+this.w2),-(h-this.y-this.w2))-this.angleOffset;if(this.angleArc!=this.PI2&&(f<0)&&(f>-0.5)){f=0;}else{if(f<0){f+=this.PI2;}}g=~~(0.5+(f*(this.o.max-this.o.min)/this.angleArc))+this.o.min;this.o.stopper&&(g=a(c(g,this.o.max),this.o.min));return g;};this.listen=function(){var f=this,j=function(o){o.preventDefault();var n=o.originalEvent,l=n.detail||n.wheelDeltaX,k=n.detail||n.wheelDeltaY,m=parseInt(f.$.val())+(l>0||k>0?f.o.step:l<0||k<0?-f.o.step:0);if(f.cH&&(f.cH(m)===false)){return;}f.val(m);},h,i,e=1,g={37:-f.o.step,38:f.o.step,39:f.o.step,40:-f.o.step};this.$.bind("keydown",function(m){var l=m.keyCode;if(l>=96&&l<=105){l=m.keyCode=l-48;}h=parseInt(String.fromCharCode(l));if(isNaN(h)){(l!==13)&&(l!==8)&&(l!==9)&&(l!==189)&&m.preventDefault();if(d.inArray(l,[37,38,39,40])>-1){m.preventDefault();var k=parseInt(f.$.val())+g[l]*e;f.o.stopper&&(k=a(c(k,f.o.max),f.o.min));f.change(k);f._draw();i=window.setTimeout(function(){e*=2;},30);}}}).bind("keyup",function(k){if(isNaN(h)){if(i){window.clearTimeout(i);i=null;e=1;f.val(f.$.val());}}else{(f.$.val()>f.o.max&&f.$.val(f.o.max))||(f.$.val()<f.o.min&&f.$.val(f.o.min));}});this.$c.bind("mousewheel DOMMouseScroll",j);this.$.bind("mousewheel DOMMouseScroll",j);};this.init=function(){if(this.v<this.o.min||this.v>this.o.max){this.v=this.o.min;}this.$.val(this.v);this.w2=this.o.width/2;this.cursorExt=this.o.cursor/100;this.xy=this.w2;this.lineWidth=this.xy*this.o.thickness;this.lineCap=this.o.lineCap;this.radius=this.xy-this.lineWidth/2;this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset);this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc);this.angleOffset=this.o.angleOffset*Math.PI/-180;this.angleArc=this.o.angleArc*Math.PI/-180;this.startAngle=1.5*Math.PI+this.angleOffset;this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var e=a(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:((this.o.width/2+4)>>0)+"px",height:((this.o.width/3)>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":((this.o.width/3)>>0)+"px","margin-left":"-"+((this.o.width*3/4+2)>>0)+"px",border:0,background:"none","font-size":"18pt","text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"});};this.change=function(e){this.cv=e;this.$.val(e);};this.angle=function(e){return(e-this.o.min)*this.angleArc/(this.o.max-this.o.min);};this.draw=function(){var k=this.g,f=this.angle(this.cv),g=this.startAngle,h=g+f,e,i,j=1;k.lineWidth=this.lineWidth;k.lineCap=this.lineCap;this.o.cursor&&(g=h-this.cursorExt)&&(h=h+this.cursorExt);k.beginPath();k.strokeStyle=this.o.bgColor;k.arc(this.xy,this.xy,this.radius,this.endAngle,this.startAngle,true);k.stroke();if(this.o.displayPrevious){i=this.startAngle+this.angle(this.v);e=this.startAngle;this.o.cursor&&(e=i-this.cursorExt)&&(i=i+this.cursorExt);k.beginPath();k.strokeStyle=this.pColor;k.arc(this.xy,this.xy,this.radius,e,i,false);k.stroke();j=(this.cv==this.v);}k.beginPath();k.strokeStyle=j?this.o.fgColor:this.fgColor;k.arc(this.xy,this.xy,this.radius,g,h,false);k.stroke();};this.cancel=function(){this.val(this.v);};};d.fn.dial=d.fn.knob=function(e){return this.each(function(){var f=new b.Dial();f.o=e;f.$=d(this);f.run();}).parent();};})(jQuery);


/*!jQuery Circular CountDown*/
/**
 * Downward compatible
 *
 * Version: 1.0.0 (26/04/2013)
 * Requires: jQuery v1.7+
 *
 * Copyright (c) 2013 Nikhil Navadiya
 *
 * Thanks to http://www.javascriptkit.com/
 */
(function($){$.fn.ccountdown=function(_yr,_m,_d,_hr,_min){if(_hr===undefined){_hr=0;}if(_min===undefined){_min=0;}var _montharray=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");_changeTime();function _changeTime(){var _today=new Date();var _todayy=_today.getYear();if(_todayy<1000){_todayy+=1900;}var _todaym=_today.getMonth();var _todayd=_today.getDate();var _todayh=_today.getHours();var _todaymin=_today.getMinutes();var _todaysec=_today.getSeconds();var _todaystring=_montharray[_todaym]+" "+_todayd+", "+_todayy+" "+_todayh+":"+_todaymin+":"+_todaysec;_futurestring=_montharray[_m-1]+" "+_d+", "+_yr+" "+_hr+":"+_min+":00";_dd=Date.parse(_futurestring)-Date.parse(_todaystring);_dday=Math.floor(_dd/(60*60*1000*24)*1);_dhour=Math.floor((_dd%(60*60*1000*24))/(60*60*1000)*1);_dmin=Math.floor(((_dd%(60*60*1000*24))%(60*60*1000))/(60*1000)*1);_dsec=Math.floor((((_dd%(60*60*1000*24))%(60*60*1000))%(60*1000))/1000*1);var $ss=$(".second"),$mm=$(".minute"),$hh=$(".hour"),$dd=$(".days");$ss.val(_dsec).trigger("change");$mm.val(_dmin).trigger("change");$hh.val(_dhour).trigger("change");$dd.val(_dday).trigger("change");}setInterval(_changeTime,1000);};})(jQuery);
$(function(){$(".knob").knob({draw:function(){if(this.$.data("skin")=="beat"){var c=this.angle(this.cv),b=this.startAngle,d=this.startAngle,f,e=d+c,g=true;this.g.lineWidth=this.lineWidth;this.o.cursor&&(d=e-0.3)&&(e=e+0.3);if(this.o.displayPrevious){f=this.startAngle+this.angle(this.value);this.o.cursor&&(b=f+0.3)&&(f=f-0.3);this.g.beginPath();this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,b,f,false);this.g.stroke();}this.g.beginPath();this.g.strokeStyle=g?this.o.fgColor:this.fgColor;this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,d,e,false);this.g.stroke();this.g.lineWidth=2;this.g.beginPath();this.g.strokeStyle=this.o.fgColor;this.g.arc(this.xy,this.xy,this.radius-this.lineWidth-2+this.lineWidth*2/3,0,2*Math.PI,false);this.g.stroke();this.g.beginPath();this.g.strokeStyle=g?this.o.fgColor:this.fgColor;this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,d,e,false);this.g.stroke();this.g.lineWidth=2;this.g.beginPath();this.g.strokeStyle=this.o.fgColor;this.g.arc(this.xy,this.xy,this.radius-this.lineWidth+2-this.lineWidth*2/3,0,2*Math.PI,false);this.g.stroke();return false;}}});});


/**
 * @license
 * Copyright 2013 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * A RichMarker that allows any HTML/DOM to be added to a map and be draggable.
 *
 * @param {Object.<string, *>=} opt_options Optional properties to set.
 * @extends {google.maps.OverlayView}
 * @constructor
 */
function RichMarker(b){var a=b||{};this.ready_=false;this.dragging_=false;if(b.visible==undefined){b.visible=true;}if(b.shadow==undefined){b.shadow="7px -3px 5px rgba(88,88,88,0.7)";}if(b.anchor==undefined){b.anchor=RichMarkerPosition.BOTTOM_LEFT;}this.setValues(a);}RichMarker.prototype=new google.maps.OverlayView();window.RichMarker=RichMarker;RichMarker.prototype.getVisible=function(){return(this.get("visible"));};RichMarker.prototype.getVisible=RichMarker.prototype.getVisible;RichMarker.prototype.setVisible=function(a){this.set("visible",a);};RichMarker.prototype.setVisible=RichMarker.prototype.setVisible;RichMarker.prototype.visible_changed=function(){if(this.ready_){this.markerWrapper_.style.display=this.getVisible()?"":"none";this.draw();}};RichMarker.prototype.visible_changed=RichMarker.prototype.visible_changed;RichMarker.prototype.setFlat=function(a){this.set("flat",!!a);};RichMarker.prototype.setFlat=RichMarker.prototype.setFlat;RichMarker.prototype.getFlat=function(){return(this.get("flat"));};RichMarker.prototype.getFlat=RichMarker.prototype.getFlat;RichMarker.prototype.getWidth=function(){return(this.get("width"));};RichMarker.prototype.getWidth=RichMarker.prototype.getWidth;RichMarker.prototype.getHeight=function(){return(this.get("height"));};RichMarker.prototype.getHeight=RichMarker.prototype.getHeight;RichMarker.prototype.setShadow=function(a){this.set("shadow",a);this.flat_changed();};RichMarker.prototype.setShadow=RichMarker.prototype.setShadow;RichMarker.prototype.getShadow=function(){return(this.get("shadow"));};RichMarker.prototype.getShadow=RichMarker.prototype.getShadow;RichMarker.prototype.flat_changed=function(){if(!this.ready_){return;}this.markerWrapper_.style.boxShadow=this.markerWrapper_.style.webkitBoxShadow=this.markerWrapper_.style.MozBoxShadow=this.getFlat()?"":this.getShadow();};RichMarker.prototype.flat_changed=RichMarker.prototype.flat_changed;RichMarker.prototype.setZIndex=function(a){this.set("zIndex",a);};RichMarker.prototype.setZIndex=RichMarker.prototype.setZIndex;RichMarker.prototype.getZIndex=function(){return(this.get("zIndex"));};RichMarker.prototype.getZIndex=RichMarker.prototype.getZIndex;RichMarker.prototype.zIndex_changed=function(){if(this.getZIndex()&&this.ready_){this.markerWrapper_.style.zIndex=this.getZIndex();}};RichMarker.prototype.zIndex_changed=RichMarker.prototype.zIndex_changed;RichMarker.prototype.getDraggable=function(){return(this.get("draggable"));};RichMarker.prototype.getDraggable=RichMarker.prototype.getDraggable;RichMarker.prototype.setDraggable=function(a){this.set("draggable",!!a);};RichMarker.prototype.setDraggable=RichMarker.prototype.setDraggable;RichMarker.prototype.draggable_changed=function(){if(this.ready_){if(this.getDraggable()){this.addDragging_(this.markerWrapper_);}else{this.removeDragListeners_();}}};RichMarker.prototype.draggable_changed=RichMarker.prototype.draggable_changed;RichMarker.prototype.getPosition=function(){return(this.get("position"));};RichMarker.prototype.getPosition=RichMarker.prototype.getPosition;RichMarker.prototype.setPosition=function(a){this.set("position",a);};RichMarker.prototype.setPosition=RichMarker.prototype.setPosition;RichMarker.prototype.position_changed=function(){this.draw();};RichMarker.prototype.position_changed=RichMarker.prototype.position_changed;RichMarker.prototype.getAnchor=function(){return(this.get("anchor"));};RichMarker.prototype.getAnchor=RichMarker.prototype.getAnchor;RichMarker.prototype.setAnchor=function(a){this.set("anchor",a);};RichMarker.prototype.setAnchor=RichMarker.prototype.setAnchor;RichMarker.prototype.anchor_changed=function(){this.draw();};RichMarker.prototype.anchor_changed=RichMarker.prototype.anchor_changed;RichMarker.prototype.htmlToDocumentFragment_=function(c){var b=document.createElement("DIV");b.innerHTML=c;if(b.childNodes.length==1){return(b.removeChild(b.firstChild));}else{var a=document.createDocumentFragment();while(b.firstChild){a.appendChild(b.firstChild);}return a;}};RichMarker.prototype.removeChildren_=function(a){if(!a){return;}var b;while(b=a.firstChild){a.removeChild(b);}};RichMarker.prototype.setContent=function(a){this.set("content",a);};RichMarker.prototype.setContent=RichMarker.prototype.setContent;RichMarker.prototype.getContent=function(){return(this.get("content"));};RichMarker.prototype.getContent=RichMarker.prototype.getContent;RichMarker.prototype.content_changed=function(){if(!this.markerContent_){return;}this.removeChildren_(this.markerContent_);var d=this.getContent();if(d){if(typeof d=="string"){d=d.replace(/^\s*([\S\s]*)\b\s*$/,"$1");d=this.htmlToDocumentFragment_(d);}this.markerContent_.appendChild(d);var c=this;var a=this.markerContent_.getElementsByTagName("IMG");for(var b=0,e;e=a[b];b++){google.maps.event.addDomListener(e,"mousedown",function(f){if(c.getDraggable()){if(f.preventDefault){f.preventDefault();}f.returnValue=false;}});google.maps.event.addDomListener(e,"load",function(){c.draw();});}google.maps.event.trigger(this,"domready");}if(this.ready_){this.draw();}};RichMarker.prototype.content_changed=RichMarker.prototype.content_changed;RichMarker.prototype.setCursor_=function(a){if(!this.ready_){return;}var b="";if(navigator.userAgent.indexOf("Gecko/")!==-1){if(a=="dragging"){b="-moz-grabbing";}if(a=="dragready"){b="-moz-grab";}if(a=="draggable"){b="pointer";}}else{if(a=="dragging"||a=="dragready"){b="move";}if(a=="draggable"){b="pointer";}}if(this.markerWrapper_.style.cursor!=b){this.markerWrapper_.style.cursor=b;}};RichMarker.prototype.startDrag=function(b){if(!this.getDraggable()){return;}if(!this.dragging_){this.dragging_=true;var a=this.getMap();this.mapDraggable_=a.get("draggable");a.set("draggable",false);this.mouseX_=b.clientX;this.mouseY_=b.clientY;this.setCursor_("dragready");this.markerWrapper_.style.MozUserSelect="none";this.markerWrapper_.style.KhtmlUserSelect="none";this.markerWrapper_.style.WebkitUserSelect="none";this.markerWrapper_.unselectable="on";this.markerWrapper_.onselectstart=function(){return false;};this.addDraggingListeners_();google.maps.event.trigger(this,"dragstart");}};RichMarker.prototype.stopDrag=function(){if(!this.getDraggable()){return;}if(this.dragging_){this.dragging_=false;this.getMap().set("draggable",this.mapDraggable_);this.mouseX_=this.mouseY_=this.mapDraggable_=null;this.markerWrapper_.style.MozUserSelect="";this.markerWrapper_.style.KhtmlUserSelect="";this.markerWrapper_.style.WebkitUserSelect="";this.markerWrapper_.unselectable="off";this.markerWrapper_.onselectstart=function(){};this.removeDraggingListeners_();this.setCursor_("draggable");google.maps.event.trigger(this,"dragend");this.draw();}};RichMarker.prototype.drag=function(h){if(!this.getDraggable()||!this.dragging_){this.stopDrag();return;}var d=this.mouseX_-h.clientX;var c=this.mouseY_-h.clientY;this.mouseX_=h.clientX;this.mouseY_=h.clientY;var g=parseInt(this.markerWrapper_.style.left,10)-d;var f=parseInt(this.markerWrapper_.style.top,10)-c;this.markerWrapper_.style.left=g+"px";this.markerWrapper_.style.top=f+"px";var i=this.getOffset_();var b=new google.maps.Point(g-i.width,f-i.height);var a=this.getProjection();this.setPosition(a.fromDivPixelToLatLng(b));this.setCursor_("dragging");google.maps.event.trigger(this,"drag");};RichMarker.prototype.removeDragListeners_=function(){if(this.draggableListener_){google.maps.event.removeListener(this.draggableListener_);delete this.draggableListener_;}this.setCursor_("");};RichMarker.prototype.addDragging_=function(b){if(!b){return;}var a=this;this.draggableListener_=google.maps.event.addDomListener(b,"mousedown",function(c){a.startDrag(c);});this.setCursor_("draggable");};RichMarker.prototype.addDraggingListeners_=function(){var a=this;if(this.markerWrapper_.setCapture){this.markerWrapper_.setCapture(true);this.draggingListeners_=[google.maps.event.addDomListener(this.markerWrapper_,"mousemove",function(b){a.drag(b);},true),google.maps.event.addDomListener(this.markerWrapper_,"mouseup",function(){a.stopDrag();a.markerWrapper_.releaseCapture();},true)];}else{this.draggingListeners_=[google.maps.event.addDomListener(window,"mousemove",function(b){a.drag(b);},true),google.maps.event.addDomListener(window,"mouseup",function(){a.stopDrag();},true)];}};RichMarker.prototype.removeDraggingListeners_=function(){if(this.draggingListeners_){for(var a=0,b;b=this.draggingListeners_[a];a++){google.maps.event.removeListener(b);}this.draggingListeners_.length=0;}};RichMarker.prototype.getOffset_=function(){var b=this.getAnchor();if(typeof b=="object"){return(b);}var d=new google.maps.Size(0,0);if(!this.markerContent_){return d;}var c=this.markerContent_.offsetWidth;var a=this.markerContent_.offsetHeight;switch(b){case RichMarkerPosition.TOP_LEFT:break;case RichMarkerPosition.TOP:d.width=-c/2;break;case RichMarkerPosition.TOP_RIGHT:d.width=-c;break;case RichMarkerPosition.LEFT:d.height=-a/2;break;case RichMarkerPosition.MIDDLE:d.width=-c/2;d.height=-a/2;break;case RichMarkerPosition.RIGHT:d.width=-c;d.height=-a/2;break;case RichMarkerPosition.BOTTOM_LEFT:d.height=-a;break;case RichMarkerPosition.BOTTOM:d.width=-c/2;d.height=-a;break;case RichMarkerPosition.BOTTOM_RIGHT:d.width=-c;d.height=-a;break;}return d;};RichMarker.prototype.onAdd=function(){if(!this.markerWrapper_){this.markerWrapper_=document.createElement("DIV");this.markerWrapper_.style.position="absolute";}if(this.getZIndex()){this.markerWrapper_.style.zIndex=this.getZIndex();}this.markerWrapper_.style.display=this.getVisible()?"":"none";if(!this.markerContent_){this.markerContent_=document.createElement("DIV");this.markerWrapper_.appendChild(this.markerContent_);var b=this;google.maps.event.addDomListener(this.markerContent_,"click",function(c){google.maps.event.trigger(b,"click");});google.maps.event.addDomListener(this.markerContent_,"mouseover",function(c){google.maps.event.trigger(b,"mouseover");});google.maps.event.addDomListener(this.markerContent_,"mouseout",function(c){google.maps.event.trigger(b,"mouseout");});}this.ready_=true;this.content_changed();this.flat_changed();this.draggable_changed();var a=this.getPanes();if(a){a.overlayMouseTarget.appendChild(this.markerWrapper_);}google.maps.event.trigger(this,"ready");};RichMarker.prototype.onAdd=RichMarker.prototype.onAdd;RichMarker.prototype.draw=function(){if(!this.ready_||this.dragging_){return;}var b=this.getProjection();if(!b){return;}var d=(this.get("position"));var f=b.fromLatLngToDivPixel(d);var e=this.getOffset_();this.markerWrapper_.style.top=(f.y+e.height)+"px";this.markerWrapper_.style.left=(f.x+e.width)+"px";var a=this.markerContent_.offsetHeight;var c=this.markerContent_.offsetWidth;if(c!=this.get("width")){this.set("width",c);}if(a!=this.get("height")){this.set("height",a);}};RichMarker.prototype.draw=RichMarker.prototype.draw;RichMarker.prototype.onRemove=function(){if(this.markerWrapper_&&this.markerWrapper_.parentNode){this.markerWrapper_.parentNode.removeChild(this.markerWrapper_);}this.removeDragListeners_();};RichMarker.prototype.onRemove=RichMarker.prototype.onRemove;var RichMarkerPosition={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};window.RichMarkerPosition=RichMarkerPosition;

/*
 * jQuery FlexSlider v2.2.0
 * Copyright 2012 WooThemes
 * Contributing Author: Tyler Smith
 */(function(e){e.flexslider=function(t,n){var r=e(t);r.vars=e.extend({},e.flexslider.defaults,n);var i=r.vars.namespace,s=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,o=("ontouchstart"in window||s||window.DocumentTouch&&document instanceof DocumentTouch)&&r.vars.touch,u="click touchend MSPointerUp",a="",f,l=r.vars.direction==="vertical",c=r.vars.reverse,h=r.vars.itemWidth>0,p=r.vars.animation==="fade",d=r.vars.asNavFor!=="",v={},m=!0;e.data(t,"flexslider",r);v={init:function(){r.animating=!1;r.currentSlide=parseInt(r.vars.startAt?r.vars.startAt:0);isNaN(r.currentSlide)&&(r.currentSlide=0);r.animatingTo=r.currentSlide;r.atEnd=r.currentSlide===0||r.currentSlide===r.last;r.containerSelector=r.vars.selector.substr(0,r.vars.selector.search(" "));r.slides=e(r.vars.selector,r);r.container=e(r.containerSelector,r);r.count=r.slides.length;r.syncExists=e(r.vars.sync).length>0;r.vars.animation==="slide"&&(r.vars.animation="swing");r.prop=l?"top":"marginLeft";r.args={};r.manualPause=!1;r.stopped=!1;r.started=!1;r.startTimeout=null;r.transitions=!r.vars.video&&!p&&r.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(e.style[t[n]]!==undefined){r.pfx=t[n].replace("Perspective","").toLowerCase();r.prop="-"+r.pfx+"-transform";return!0}return!1}();r.vars.controlsContainer!==""&&(r.controlsContainer=e(r.vars.controlsContainer).length>0&&e(r.vars.controlsContainer));r.vars.manualControls!==""&&(r.manualControls=e(r.vars.manualControls).length>0&&e(r.vars.manualControls));if(r.vars.randomize){r.slides.sort(function(){return Math.round(Math.random())-.5});r.container.empty().append(r.slides)}r.doMath();r.setup("init");r.vars.controlNav&&v.controlNav.setup();r.vars.directionNav&&v.directionNav.setup();r.vars.keyboard&&(e(r.containerSelector).length===1||r.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!r.animating&&(t===39||t===37)){var n=t===39?r.getTarget("next"):t===37?r.getTarget("prev"):!1;r.flexAnimate(n,r.vars.pauseOnAction)}});r.vars.mousewheel&&r.bind("mousewheel",function(e,t,n,i){e.preventDefault();var s=t<0?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(s,r.vars.pauseOnAction)});r.vars.pausePlay&&v.pausePlay.setup();r.vars.slideshow&&r.vars.pauseInvisible&&v.pauseInvisible.init();if(r.vars.slideshow){r.vars.pauseOnHover&&r.hover(function(){!r.manualPlay&&!r.manualPause&&r.pause()},function(){!r.manualPause&&!r.manualPlay&&!r.stopped&&r.play()});if(!r.vars.pauseInvisible||!v.pauseInvisible.isHidden())r.vars.initDelay>0?r.startTimeout=setTimeout(r.play,r.vars.initDelay):r.play()}d&&v.asNav.setup();o&&r.vars.touch&&v.touch();(!p||p&&r.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",v.resize);r.find("img").attr("draggable","false");setTimeout(function(){r.vars.start(r)},200)},asNav:{setup:function(){r.asNav=!0;r.animatingTo=Math.floor(r.currentSlide/r.move);r.currentItem=r.currentSlide;r.slides.removeClass(i+"active-slide").eq(r.currentItem).addClass(i+"active-slide");if(!s)r.slides.click(function(t){t.preventDefault();var n=e(this),s=n.index(),o=n.offset().left-e(r).scrollLeft();if(o<=0&&n.hasClass(i+"active-slide"))r.flexAnimate(r.getTarget("prev"),!0);else if(!e(r.vars.asNavFor).data("flexslider").animating&&!n.hasClass(i+"active-slide")){r.direction=r.currentItem<s?"next":"prev";r.flexAnimate(s,r.vars.pauseOnAction,!1,!0,!0)}});else{t._slider=r;r.slides.each(function(){var t=this;t._gesture=new MSGesture;t._gesture.target=t;t.addEventListener("MSPointerDown",function(e){e.preventDefault();e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1);t.addEventListener("MSGestureTap",function(t){t.preventDefault();var n=e(this),i=n.index();if(!e(r.vars.asNavFor).data("flexslider").animating&&!n.hasClass("active")){r.direction=r.currentItem<i?"next":"prev";r.flexAnimate(i,r.vars.pauseOnAction,!1,!0,!0)}})})}}},controlNav:{setup:function(){r.manualControls?v.controlNav.setupManual():v.controlNav.setupPaging()},setupPaging:function(){var t=r.vars.controlNav==="thumbnails"?"control-thumbs":"control-paging",n=1,s,o;r.controlNavScaffold=e('<ol class="'+i+"control-nav "+i+t+'"></ol>');if(r.pagingCount>1)for(var f=0;f<r.pagingCount;f++){o=r.slides.eq(f);s=r.vars.controlNav==="thumbnails"?'<img src="'+o.attr("data-thumb")+'"/>':"<a>"+n+"</a>";if("thumbnails"===r.vars.controlNav&&!0===r.vars.thumbCaptions){var l=o.attr("data-thumbcaption");""!=l&&undefined!=l&&(s+='<span class="'+i+'caption">'+l+"</span>")}r.controlNavScaffold.append("<li>"+s+"</li>");n++}r.controlsContainer?e(r.controlsContainer).append(r.controlNavScaffold):r.append(r.controlNavScaffold);v.controlNav.set();v.controlNav.active();r.controlNavScaffold.delegate("a, img",u,function(t){t.preventDefault();if(a===""||a===t.type){var n=e(this),s=r.controlNav.index(n);if(!n.hasClass(i+"active")){r.direction=s>r.currentSlide?"next":"prev";r.flexAnimate(s,r.vars.pauseOnAction)}}a===""&&(a=t.type);v.setToClearWatchedEvent()})},setupManual:function(){r.controlNav=r.manualControls;v.controlNav.active();r.controlNav.bind(u,function(t){t.preventDefault();if(a===""||a===t.type){var n=e(this),s=r.controlNav.index(n);if(!n.hasClass(i+"active")){s>r.currentSlide?r.direction="next":r.direction="prev";r.flexAnimate(s,r.vars.pauseOnAction)}}a===""&&(a=t.type);v.setToClearWatchedEvent()})},set:function(){var t=r.vars.controlNav==="thumbnails"?"img":"a";r.controlNav=e("."+i+"control-nav li "+t,r.controlsContainer?r.controlsContainer:r)},active:function(){r.controlNav.removeClass(i+"active").eq(r.animatingTo).addClass(i+"active")},update:function(t,n){r.pagingCount>1&&t==="add"?r.controlNavScaffold.append(e("<li><a>"+r.count+"</a></li>")):r.pagingCount===1?r.controlNavScaffold.find("li").remove():r.controlNav.eq(n).closest("li").remove();v.controlNav.set();r.pagingCount>1&&r.pagingCount!==r.controlNav.length?r.update(n,t):v.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+i+'direction-nav"><li><a class="'+i+'prev" href="#">'+r.vars.prevText+'</a></li><li><a class="'+i+'next" href="#">'+r.vars.nextText+"</a></li></ul>");if(r.controlsContainer){e(r.controlsContainer).append(t);r.directionNav=e("."+i+"direction-nav li a",r.controlsContainer)}else{r.append(t);r.directionNav=e("."+i+"direction-nav li a",r)}v.directionNav.update();r.directionNav.bind(u,function(t){t.preventDefault();var n;if(a===""||a===t.type){n=e(this).hasClass(i+"next")?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(n,r.vars.pauseOnAction)}a===""&&(a=t.type);v.setToClearWatchedEvent()})},update:function(){var e=i+"disabled";r.pagingCount===1?r.directionNav.addClass(e).attr("tabindex","-1"):r.vars.animationLoop?r.directionNav.removeClass(e).removeAttr("tabindex"):r.animatingTo===0?r.directionNav.removeClass(e).filter("."+i+"prev").addClass(e).attr("tabindex","-1"):r.animatingTo===r.last?r.directionNav.removeClass(e).filter("."+i+"next").addClass(e).attr("tabindex","-1"):r.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+i+'pauseplay"><a></a></div>');if(r.controlsContainer){r.controlsContainer.append(t);r.pausePlay=e("."+i+"pauseplay a",r.controlsContainer)}else{r.append(t);r.pausePlay=e("."+i+"pauseplay a",r)}v.pausePlay.update(r.vars.slideshow?i+"pause":i+"play");r.pausePlay.bind(u,function(t){t.preventDefault();if(a===""||a===t.type)if(e(this).hasClass(i+"pause")){r.manualPause=!0;r.manualPlay=!1;r.pause()}else{r.manualPause=!1;r.manualPlay=!0;r.play()}a===""&&(a=t.type);v.setToClearWatchedEvent()})},update:function(e){e==="play"?r.pausePlay.removeClass(i+"pause").addClass(i+"play").html(r.vars.playText):r.pausePlay.removeClass(i+"play").addClass(i+"pause").html(r.vars.pauseText)}},touch:function(){var e,n,i,o,u,a,f=!1,d=0,v=0,m=0;if(!s){t.addEventListener("touchstart",g,!1);function g(s){if(r.animating)s.preventDefault();else if(window.navigator.msPointerEnabled||s.touches.length===1){r.pause();o=l?r.h:r.w;a=Number(new Date);d=s.touches[0].pageX;v=s.touches[0].pageY;i=h&&c&&r.animatingTo===r.last?0:h&&c?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:h&&r.currentSlide===r.last?r.limit:h?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:c?(r.last-r.currentSlide+r.cloneOffset)*o:(r.currentSlide+r.cloneOffset)*o;e=l?v:d;n=l?d:v;t.addEventListener("touchmove",y,!1);t.addEventListener("touchend",b,!1)}}function y(t){d=t.touches[0].pageX;v=t.touches[0].pageY;u=l?e-v:e-d;f=l?Math.abs(u)<Math.abs(d-n):Math.abs(u)<Math.abs(v-n);var s=500;if(!f||Number(new Date)-a>s){t.preventDefault();if(!p&&r.transitions){r.vars.animationLoop||(u/=r.currentSlide===0&&u<0||r.currentSlide===r.last&&u>0?Math.abs(u)/o+2:1);r.setProps(i+u,"setTouch")}}}function b(s){t.removeEventListener("touchmove",y,!1);if(r.animatingTo===r.currentSlide&&!f&&u!==null){var l=c?-u:u,h=l>0?r.getTarget("next"):r.getTarget("prev");r.canAdvance(h)&&(Number(new Date)-a<550&&Math.abs(l)>50||Math.abs(l)>o/2)?r.flexAnimate(h,r.vars.pauseOnAction):p||r.flexAnimate(r.currentSlide,r.vars.pauseOnAction,!0)}t.removeEventListener("touchend",b,!1);e=null;n=null;u=null;i=null}}else{t.style.msTouchAction="none";t._gesture=new MSGesture;t._gesture.target=t;t.addEventListener("MSPointerDown",w,!1);t._slider=r;t.addEventListener("MSGestureChange",E,!1);t.addEventListener("MSGestureEnd",S,!1);function w(e){e.stopPropagation();if(r.animating)e.preventDefault();else{r.pause();t._gesture.addPointer(e.pointerId);m=0;o=l?r.h:r.w;a=Number(new Date);i=h&&c&&r.animatingTo===r.last?0:h&&c?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:h&&r.currentSlide===r.last?r.limit:h?(r.itemW+r.vars.itemMargin)*r.move*r.currentSlide:c?(r.last-r.currentSlide+r.cloneOffset)*o:(r.currentSlide+r.cloneOffset)*o}}function E(e){e.stopPropagation();var n=e.target._slider;if(!n)return;var r=-e.translationX,s=-e.translationY;m+=l?s:r;u=m;f=l?Math.abs(m)<Math.abs(-r):Math.abs(m)<Math.abs(-s);if(e.detail===e.MSGESTURE_FLAG_INERTIA){setImmediate(function(){t._gesture.stop()});return}if(!f||Number(new Date)-a>500){e.preventDefault();if(!p&&n.transitions){n.vars.animationLoop||(u=m/(n.currentSlide===0&&m<0||n.currentSlide===n.last&&m>0?Math.abs(m)/o+2:1));n.setProps(i+u,"setTouch")}}}function S(t){t.stopPropagation();var r=t.target._slider;if(!r)return;if(r.animatingTo===r.currentSlide&&!f&&u!==null){var s=c?-u:u,l=s>0?r.getTarget("next"):r.getTarget("prev");r.canAdvance(l)&&(Number(new Date)-a<550&&Math.abs(s)>50||Math.abs(s)>o/2)?r.flexAnimate(l,r.vars.pauseOnAction):p||r.flexAnimate(r.currentSlide,r.vars.pauseOnAction,!0)}e=null;n=null;u=null;i=null;m=0}}},resize:function(){if(!r.animating&&r.is(":visible")){h||r.doMath();if(p)v.smoothHeight();else if(h){r.slides.width(r.computedW);r.update(r.pagingCount);r.setProps()}else if(l){r.viewport.height(r.h);r.setProps(r.h,"setTotal")}else{r.vars.smoothHeight&&v.smoothHeight();r.newSlides.width(r.computedW);r.setProps(r.computedW,"setTotal")}}},smoothHeight:function(e){if(!l||p){var t=p?r:r.viewport;e?t.animate({height:r.slides.eq(r.animatingTo).height()},e):t.height(r.slides.eq(r.animatingTo).height())}},sync:function(t){var n=e(r.vars.sync).data("flexslider"),i=r.animatingTo;switch(t){case"animate":n.flexAnimate(i,r.vars.pauseOnAction,!1,!0);break;case"play":!n.playing&&!n.asNav&&n.play();break;case"pause":n.pause()}},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)e[t]+"Hidden"in document&&(v.pauseInvisible.visProp=e[t]+"Hidden");if(v.pauseInvisible.visProp){var n=v.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(n,function(){v.pauseInvisible.isHidden()?r.startTimeout?clearTimeout(r.startTimeout):r.pause():r.started?r.play():r.vars.initDelay>0?setTimeout(r.play,r.vars.initDelay):r.play()})}},isHidden:function(){return document[v.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(f);f=setTimeout(function(){a=""},3e3)}};r.flexAnimate=function(t,n,s,u,a){!r.vars.animationLoop&&t!==r.currentSlide&&(r.direction=t>r.currentSlide?"next":"prev");d&&r.pagingCount===1&&(r.direction=r.currentItem<t?"next":"prev");if(!r.animating&&(r.canAdvance(t,a)||s)&&r.is(":visible")){if(d&&u){var f=e(r.vars.asNavFor).data("flexslider");r.atEnd=t===0||t===r.count-1;f.flexAnimate(t,!0,!1,!0,a);r.direction=r.currentItem<t?"next":"prev";f.direction=r.direction;if(Math.ceil((t+1)/r.visible)-1===r.currentSlide||t===0){r.currentItem=t;r.slides.removeClass(i+"active-slide").eq(t).addClass(i+"active-slide");return!1}r.currentItem=t;r.slides.removeClass(i+"active-slide").eq(t).addClass(i+"active-slide");t=Math.floor(t/r.visible)}r.animating=!0;r.animatingTo=t;n&&r.pause();r.vars.before(r);r.syncExists&&!a&&v.sync("animate");r.vars.controlNav&&v.controlNav.active();h||r.slides.removeClass(i+"active-slide").eq(t).addClass(i+"active-slide");r.atEnd=t===0||t===r.last;r.vars.directionNav&&v.directionNav.update();if(t===r.last){r.vars.end(r);r.vars.animationLoop||r.pause()}if(!p){var m=l?r.slides.filter(":first").height():r.computedW,g,y,b;if(h){g=r.vars.itemMargin;b=(r.itemW+g)*r.move*r.animatingTo;y=b>r.limit&&r.visible!==1?r.limit:b}else r.currentSlide===0&&t===r.count-1&&r.vars.animationLoop&&r.direction!=="next"?y=c?(r.count+r.cloneOffset)*m:0:r.currentSlide===r.last&&t===0&&r.vars.animationLoop&&r.direction!=="prev"?y=c?0:(r.count+1)*m:y=c?(r.count-1-t+r.cloneOffset)*m:(t+r.cloneOffset)*m;r.setProps(y,"",r.vars.animationSpeed);if(r.transitions){if(!r.vars.animationLoop||!r.atEnd){r.animating=!1;r.currentSlide=r.animatingTo}r.container.unbind("webkitTransitionEnd transitionend");r.container.bind("webkitTransitionEnd transitionend",function(){r.wrapup(m)})}else r.container.animate(r.args,r.vars.animationSpeed,r.vars.easing,function(){r.wrapup(m)})}else if(!o){r.slides.eq(r.currentSlide).css({zIndex:1}).animate({opacity:0},r.vars.animationSpeed,r.vars.easing);r.slides.eq(t).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing,r.wrapup)}else{r.slides.eq(r.currentSlide).css({opacity:0,zIndex:1});r.slides.eq(t).css({opacity:1,zIndex:2});r.wrapup(m)}r.vars.smoothHeight&&v.smoothHeight(r.vars.animationSpeed)}};r.wrapup=function(e){!p&&!h&&(r.currentSlide===0&&r.animatingTo===r.last&&r.vars.animationLoop?r.setProps(e,"jumpEnd"):r.currentSlide===r.last&&r.animatingTo===0&&r.vars.animationLoop&&r.setProps(e,"jumpStart"));r.animating=!1;r.currentSlide=r.animatingTo;r.vars.after(r)};r.animateSlides=function(){!r.animating&&m&&r.flexAnimate(r.getTarget("next"))};r.pause=function(){clearInterval(r.animatedSlides);r.animatedSlides=null;r.playing=!1;r.vars.pausePlay&&v.pausePlay.update("play");r.syncExists&&v.sync("pause")};r.play=function(){r.playing&&clearInterval(r.animatedSlides);r.animatedSlides=r.animatedSlides||setInterval(r.animateSlides,r.vars.slideshowSpeed);r.started=r.playing=!0;r.vars.pausePlay&&v.pausePlay.update("pause");r.syncExists&&v.sync("play")};r.stop=function(){r.pause();r.stopped=!0};r.canAdvance=function(e,t){var n=d?r.pagingCount-1:r.last;return t?!0:d&&r.currentItem===r.count-1&&e===0&&r.direction==="prev"?!0:d&&r.currentItem===0&&e===r.pagingCount-1&&r.direction!=="next"?!1:e===r.currentSlide&&!d?!1:r.vars.animationLoop?!0:r.atEnd&&r.currentSlide===0&&e===n&&r.direction!=="next"?!1:r.atEnd&&r.currentSlide===n&&e===0&&r.direction==="next"?!1:!0};r.getTarget=function(e){r.direction=e;return e==="next"?r.currentSlide===r.last?0:r.currentSlide+1:r.currentSlide===0?r.last:r.currentSlide-1};r.setProps=function(e,t,n){var i=function(){var n=e?e:(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo,i=function(){if(h)return t==="setTouch"?e:c&&r.animatingTo===r.last?0:c?r.limit-(r.itemW+r.vars.itemMargin)*r.move*r.animatingTo:r.animatingTo===r.last?r.limit:n;switch(t){case"setTotal":return c?(r.count-1-r.currentSlide+r.cloneOffset)*e:(r.currentSlide+r.cloneOffset)*e;case"setTouch":return c?e:e;case"jumpEnd":return c?e:r.count*e;case"jumpStart":return c?r.count*e:e;default:return e}}();return i*-1+"px"}();if(r.transitions){i=l?"translate3d(0,"+i+",0)":"translate3d("+i+",0,0)";n=n!==undefined?n/1e3+"s":"0s";r.container.css("-"+r.pfx+"-transition-duration",n)}r.args[r.prop]=i;(r.transitions||n===undefined)&&r.container.css(r.args)};r.setup=function(t){if(!p){var n,s;if(t==="init"){r.viewport=e('<div class="'+i+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(r).append(r.container);r.cloneCount=0;r.cloneOffset=0;if(c){s=e.makeArray(r.slides).reverse();r.slides=e(s);r.container.empty().append(r.slides)}}if(r.vars.animationLoop&&!h){r.cloneCount=2;r.cloneOffset=1;t!=="init"&&r.container.find(".clone").remove();r.container.append(r.slides.first().clone().addClass("clone").attr("aria-hidden","true")).prepend(r.slides.last().clone().addClass("clone").attr("aria-hidden","true"))}r.newSlides=e(r.vars.selector,r);n=c?r.count-1-r.currentSlide+r.cloneOffset:r.currentSlide+r.cloneOffset;if(l&&!h){r.container.height((r.count+r.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){r.newSlides.css({display:"block"});r.doMath();r.viewport.height(r.h);r.setProps(n*r.h,"init")},t==="init"?100:0)}else{r.container.width((r.count+r.cloneCount)*200+"%");r.setProps(n*r.computedW,"init");setTimeout(function(){r.doMath();r.newSlides.css({width:r.computedW,"float":"left",display:"block"});r.vars.smoothHeight&&v.smoothHeight()},t==="init"?100:0)}}else{r.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"});t==="init"&&(o?r.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+r.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(r.currentSlide).css({opacity:1,zIndex:2}):r.slides.css({opacity:0,display:"block",zIndex:1}).eq(r.currentSlide).css({zIndex:2}).animate({opacity:1},r.vars.animationSpeed,r.vars.easing));r.vars.smoothHeight&&v.smoothHeight()}h||r.slides.removeClass(i+"active-slide").eq(r.currentSlide).addClass(i+"active-slide")};r.doMath=function(){var e=r.slides.first(),t=r.vars.itemMargin,n=r.vars.minItems,i=r.vars.maxItems;r.w=r.viewport===undefined?r.width():r.viewport.width();r.h=e.height();r.boxPadding=e.outerWidth()-e.width();if(h){r.itemT=r.vars.itemWidth+t;r.minW=n?n*r.itemT:r.w;r.maxW=i?i*r.itemT-t:r.w;r.itemW=r.minW>r.w?(r.w-t*(n-1))/n:r.maxW<r.w?(r.w-t*(i-1))/i:r.vars.itemWidth>r.w?r.w:r.vars.itemWidth;r.visible=Math.floor(r.w/r.itemW);r.move=r.vars.move>0&&r.vars.move<r.visible?r.vars.move:r.visible;r.pagingCount=Math.ceil((r.count-r.visible)/r.move+1);r.last=r.pagingCount-1;r.limit=r.pagingCount===1?0:r.vars.itemWidth>r.w?r.itemW*(r.count-1)+t*(r.count-1):(r.itemW+t)*r.count-r.w-t}else{r.itemW=r.w;r.pagingCount=r.count;r.last=r.count-1}r.computedW=r.itemW-r.boxPadding};r.update=function(e,t){r.doMath();if(!h){e<r.currentSlide?r.currentSlide+=1:e<=r.currentSlide&&e!==0&&(r.currentSlide-=1);r.animatingTo=r.currentSlide}if(r.vars.controlNav&&!r.manualControls)if(t==="add"&&!h||r.pagingCount>r.controlNav.length)v.controlNav.update("add");else if(t==="remove"&&!h||r.pagingCount<r.controlNav.length){if(h&&r.currentSlide>r.last){r.currentSlide-=1;r.animatingTo-=1}v.controlNav.update("remove",r.last)}r.vars.directionNav&&v.directionNav.update()};r.addSlide=function(t,n){var i=e(t);r.count+=1;r.last=r.count-1;l&&c?n!==undefined?r.slides.eq(r.count-n).after(i):r.container.prepend(i):n!==undefined?r.slides.eq(n).before(i):r.container.append(i);r.update(n,"add");r.slides=e(r.vars.selector+":not(.clone)",r);r.setup();r.vars.added(r)};r.removeSlide=function(t){var n=isNaN(t)?r.slides.index(e(t)):t;r.count-=1;r.last=r.count-1;isNaN(t)?e(t,r.slides).remove():l&&c?r.slides.eq(r.last).remove():r.slides.eq(t).remove();r.doMath();r.update(n,"remove");r.slides=e(r.vars.selector+":not(.clone)",r);r.setup();r.vars.removed(r)};v.init()};e(window).blur(function(e){focused=!1}).focus(function(e){focused=!0});e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}};e.fn.flexslider=function(t){t===undefined&&(t={});if(typeof t=="object")return this.each(function(){var n=e(this),r=t.selector?t.selector:".slides > li",i=n.find(r);if(i.length===1&&t.allowOneSlide===!0||i.length===0){i.fadeIn(400);t.start&&t.start(n)}else n.data("flexslider")===undefined&&new e.flexslider(this,t)});var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:typeof t=="number"&&n.flexAnimate(t,!0)}}})(jQuery);
 
 
 /* ------------------------------------------------------------------------
	Class: prettyPhoto
	Use: Lightbox clone for jQuery
	Author: Stephane Caron (http://www.no-margin-for-errors.com)
	Version: 3.1.5
------------------------------------------------------------------------- */
(function(e){function t(){var e=location.href;hashtag=e.indexOf("#prettyPhoto")!==-1?decodeURI(e.substring(e.indexOf("#prettyPhoto")+1,e.length)):false;return hashtag}function n(){if(typeof theRel=="undefined")return;location.hash=theRel+"/"+rel_index+"/"}function r(){if(location.href.indexOf("#prettyPhoto")!==-1)location.hash="prettyPhoto"}function i(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)";var r=new RegExp(n);var i=r.exec(t);return i==null?"":i[1]}e.prettyPhoto={version:"3.1.5"};e.fn.prettyPhoto=function(s){function g(){e(".pp_loaderIcon").hide();projectedTop=scroll_pos["scrollTop"]+(d/2-a["containerHeight"]/2);if(projectedTop<0)projectedTop=0;$ppt.fadeTo(settings.animation_speed,1);$pp_pic_holder.find(".pp_content").animate({height:a["contentHeight"],width:a["contentWidth"]},settings.animation_speed);$pp_pic_holder.animate({top:projectedTop,left:v/2-a["containerWidth"]/2<0?0:v/2-a["containerWidth"]/2,width:a["containerWidth"]},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(a["height"]).width(a["width"]);$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed);if(isSet&&S(pp_images[set_position])=="image"){$pp_pic_holder.find(".pp_hoverContainer").show()}else{$pp_pic_holder.find(".pp_hoverContainer").hide()}if(settings.allow_expand){if(a["resized"]){e("a.pp_expand,a.pp_contract").show()}else{e("a.pp_expand").hide()}}if(settings.autoplay_slideshow&&!m&&!f)e.prettyPhoto.startSlideshow();settings.changepicturecallback();f=true});C();s.ajaxcallback()}function y(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden");$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){e(".pp_loaderIcon").show();t()})}function b(t){t>1?e(".pp_nav").show():e(".pp_nav").hide()}function w(e,t){resized=false;E(e,t);imageWidth=e,imageHeight=t;if((p>v||h>d)&&doresize&&settings.allow_resize&&!u){resized=true,fitting=false;while(!fitting){if(p>v){imageWidth=v-200;imageHeight=t/e*imageWidth}else if(h>d){imageHeight=d-200;imageWidth=e/t*imageHeight}else{fitting=true}h=imageHeight,p=imageWidth}if(p>v||h>d){w(p,h)}E(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(h),containerWidth:Math.floor(p)+settings.horizontal_padding*2,contentHeight:Math.floor(l),contentWidth:Math.floor(c),resized:resized}}function E(t,n){t=parseFloat(t);n=parseFloat(n);$pp_details=$pp_pic_holder.find(".pp_details");$pp_details.width(t);detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom"));$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(e("body")).css({position:"absolute",top:-1e4});detailsHeight+=$pp_details.height();detailsHeight=detailsHeight<=34?36:detailsHeight;$pp_details.remove();$pp_title=$pp_pic_holder.find(".ppt");$pp_title.width(t);titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom"));$pp_title=$pp_title.clone().appendTo(e("body")).css({position:"absolute",top:-1e4});titleHeight+=$pp_title.height();$pp_title.remove();l=n+detailsHeight;c=t;h=l+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height();p=t}function S(e){if(e.match(/youtube\.com\/watch/i)||e.match(/youtu\.be/i)){return"youtube"}else if(e.match(/vimeo\.com/i)){return"vimeo"}else if(e.match(/\b.mov\b/i)){return"quicktime"}else if(e.match(/\b.swf\b/i)){return"flash"}else if(e.match(/\biframe=true\b/i)){return"iframe"}else if(e.match(/\bajax=true\b/i)){return"ajax"}else if(e.match(/\bcustom=true\b/i)){return"custom"}else if(e.substr(0,1)=="#"){return"inline"}else{return"image"}}function x(){if(doresize&&typeof $pp_pic_holder!="undefined"){scroll_pos=T();contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width();projectedTop=d/2+scroll_pos["scrollTop"]-contentHeight/2;if(projectedTop<0)projectedTop=0;if(contentHeight>d)return;$pp_pic_holder.css({top:projectedTop,left:v/2+scroll_pos["scrollLeft"]-contentwidth/2})}}function T(){if(self.pageYOffset){return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}}else if(document.documentElement&&document.documentElement.scrollTop){return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}}else if(document.body){return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}}}function N(){d=e(window).height(),v=e(window).width();if(typeof $pp_overlay!="undefined")$pp_overlay.height(e(document).height()).width(v)}function C(){if(isSet&&settings.overlay_gallery&&S(pp_images[set_position])=="image"){itemWidth=52+5;navWidth=settings.theme=="facebook"||settings.theme=="pp_default"?50:30;itemsPerPage=Math.floor((a["containerWidth"]-100-navWidth)/itemWidth);itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length;totalPage=Math.ceil(pp_images.length/itemsPerPage)-1;if(totalPage==0){navWidth=0;$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()}else{$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show()}galleryWidth=itemsPerPage*itemWidth;fullGalleryWidth=pp_images.length*itemWidth;$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected");goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage;e.prettyPhoto.changeGalleryPage(goToPage);$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")}else{$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}}function k(t){if(settings.social_tools)facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href));settings.markup=settings.markup.replace("{pp_social}","");e("body").append(settings.markup);$pp_pic_holder=e(".pp_pic_holder"),$ppt=e(".ppt"),$pp_overlay=e("div.pp_overlay");if(isSet&&settings.overlay_gallery){currentGalleryPage=0;toInject="";for(var n=0;n<pp_images.length;n++){if(!pp_images[n].match(/\b(jpg|jpeg|png|gif)\b/gi)){classname="default";img_src=""}else{classname="";img_src=pp_images[n]}toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>"}toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find("#pp_full_res").after(toInject);$pp_gallery=e(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li");$pp_gallery.find(".pp_arrow_next").click(function(){e.prettyPhoto.changeGalleryPage("next");e.prettyPhoto.stopSlideshow();return false});$pp_gallery.find(".pp_arrow_previous").click(function(){e.prettyPhoto.changeGalleryPage("previous");e.prettyPhoto.stopSlideshow();return false});$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()});itemWidth=52+5;$pp_gallery_li.each(function(t){e(this).find("a").click(function(){e.prettyPhoto.changePage(t);e.prettyPhoto.stopSlideshow();return false})})}if(settings.slideshow){$pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>');$pp_pic_holder.find(".pp_nav .pp_play").click(function(){e.prettyPhoto.startSlideshow();return false})}$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme);$pp_overlay.css({opacity:0,height:e(document).height(),width:e(window).width()}).bind("click",function(){if(!settings.modal)e.prettyPhoto.close()});e("a.pp_close").bind("click",function(){e.prettyPhoto.close();return false});if(settings.allow_expand){e("a.pp_expand").bind("click",function(t){if(e(this).hasClass("pp_expand")){e(this).removeClass("pp_expand").addClass("pp_contract");doresize=false}else{e(this).removeClass("pp_contract").addClass("pp_expand");doresize=true}y(function(){e.prettyPhoto.open()});return false})}$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){e.prettyPhoto.changePage("previous");e.prettyPhoto.stopSlideshow();return false});$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){e.prettyPhoto.changePage("next");e.prettyPhoto.stopSlideshow();return false});x()}s=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:false,opacity:.8,show_title:true,allow_resize:true,allow_expand:true,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:false,wmode:"opaque",autoplay:true,modal:false,deeplinking:true,overlay_gallery:true,overlay_gallery_max:30,keyboard_shortcuts:true,changepicturecallback:function(){},callback:function(){},ie6_fallback:true,markup:'<div class="pp_pic_holder"> 						<div class="ppt"> </div> 						<div class="pp_top"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 						<div class="pp_content_container"> 							<div class="pp_left"> 							<div class="pp_right"> 								<div class="pp_content"> 									<div class="pp_loaderIcon"></div> 									<div class="pp_fade"> 										<a href="#" class="pp_expand" title="Expand the image">Expand</a> 										<div class="pp_hoverContainer"> 											<a class="pp_next" href="#">next</a> 											<a class="pp_previous" href="#">previous</a> 										</div> 										<div id="pp_full_res"></div> 										<div class="pp_details"> 											<div class="pp_nav"> 												<a href="#" class="pp_arrow_previous">Previous</a> 												<p class="currentTextHolder">0/0</p> 												<a href="#" class="pp_arrow_next">Next</a> 											</div> 											<p class="pp_description"></p> 											<div class="pp_social">{pp_social}</div> 											<a class="pp_close" href="#">Close</a> 										</div> 									</div> 								</div> 							</div> 							</div> 						</div> 						<div class="pp_bottom"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 					</div> 					<div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> 								<a href="#" class="pp_arrow_previous">Previous</a> 								<div> 									<ul> 										{gallery} 									</ul> 								</div> 								<a href="#" class="pp_arrow_next">Next</a> 							</div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&layout=button_count&show_faces=true&width=500&action=like&font&colorscheme=light&height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},s);var o=this,u=false,a,f,l,c,h,p,d=e(window).height(),v=e(window).width(),m;doresize=true,scroll_pos=T();e(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){x();N()});if(s.keyboard_shortcuts){e(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if(typeof $pp_pic_holder!="undefined"){if($pp_pic_holder.is(":visible")){switch(t.keyCode){case 37:e.prettyPhoto.changePage("previous");t.preventDefault();break;case 39:e.prettyPhoto.changePage("next");t.preventDefault();break;case 27:if(!settings.modal)e.prettyPhoto.close();t.preventDefault();break}}}})}e.prettyPhoto.initialize=function(){settings=s;if(settings.theme=="pp_default")settings.horizontal_padding=16;theRel=e(this).attr(settings.hook);galleryRegExp=/\[(?:.*)\]/;isSet=galleryRegExp.exec(theRel)?true:false;pp_images=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).attr("href")}):e.makeArray(e(this).attr("href"));pp_titles=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).find("img").attr("alt")?e(t).find("img").attr("alt"):""}):e.makeArray(e(this).find("img").attr("alt"));pp_descriptions=isSet?jQuery.map(o,function(t,n){if(e(t).attr(settings.hook).indexOf(theRel)!=-1)return e(t).attr("title")?e(t).attr("title"):""}):e.makeArray(e(this).attr("title"));if(pp_images.length>settings.overlay_gallery_max)settings.overlay_gallery=false;set_position=jQuery.inArray(e(this).attr("href"),pp_images);rel_index=isSet?set_position:e("a["+settings.hook+"^='"+theRel+"']").index(e(this));k(this);if(settings.allow_resize)e(window).bind("scroll.prettyphoto",function(){x()});e.prettyPhoto.open();return false};e.prettyPhoto.open=function(t){if(typeof settings=="undefined"){settings=s;pp_images=e.makeArray(arguments[0]);pp_titles=arguments[1]?e.makeArray(arguments[1]):e.makeArray("");pp_descriptions=arguments[2]?e.makeArray(arguments[2]):e.makeArray("");isSet=pp_images.length>1?true:false;set_position=arguments[3]?arguments[3]:0;k(t.target)}if(settings.hideflash)e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden");b(e(pp_images).size());e(".pp_loaderIcon").show();if(settings.deeplinking)n();if(settings.social_tools){facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href));$pp_pic_holder.find(".pp_social").html(facebook_like_link)}if($ppt.is(":hidden"))$ppt.css("opacity",0).show();$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+e(pp_images).size());if(typeof pp_descriptions[set_position]!="undefined"&&pp_descriptions[set_position]!=""){$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position]))}else{$pp_pic_holder.find(".pp_description").hide()}movie_width=parseFloat(i("width",pp_images[set_position]))?i("width",pp_images[set_position]):settings.default_width.toString();movie_height=parseFloat(i("height",pp_images[set_position]))?i("height",pp_images[set_position]):settings.default_height.toString();u=false;if(movie_height.indexOf("%")!=-1){movie_height=parseFloat(e(window).height()*parseFloat(movie_height)/100-150);u=true}if(movie_width.indexOf("%")!=-1){movie_width=parseFloat(e(window).width()*parseFloat(movie_width)/100-150);u=true}$pp_pic_holder.fadeIn(function(){settings.show_title&&pp_titles[set_position]!=""&&typeof pp_titles[set_position]!="undefined"?$ppt.html(unescape(pp_titles[set_position])):$ppt.html(" ");imgPreloader="";skipInjection=false;switch(S(pp_images[set_position])){case"image":imgPreloader=new Image;nextImage=new Image;if(isSet&&set_position<e(pp_images).size()-1)nextImage.src=pp_images[set_position+1];prevImage=new Image;if(isSet&&pp_images[set_position-1])prevImage.src=pp_images[set_position-1];$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){a=w(imgPreloader.width,imgPreloader.height);g()};imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist.");e.prettyPhoto.close()};imgPreloader.src=pp_images[set_position];break;case"youtube":a=w(movie_width,movie_height);movie_id=i("v",pp_images[set_position]);if(movie_id==""){movie_id=pp_images[set_position].split("youtu.be/");movie_id=movie_id[1];if(movie_id.indexOf("?")>0)movie_id=movie_id.substr(0,movie_id.indexOf("?"));if(movie_id.indexOf("&")>0)movie_id=movie_id.substr(0,movie_id.indexOf("&"))}movie="http://www.youtube.com/embed/"+movie_id;i("rel",pp_images[set_position])?movie+="?rel="+i("rel",pp_images[set_position]):movie+="?rel=1";if(settings.autoplay)movie+="&autoplay=1";toInject=settings.iframe_markup.replace(/{width}/g,a["width"]).replace(/{height}/g,a["height"]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":a=w(movie_width,movie_height);movie_id=pp_images[set_position];var t=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/;var n=movie_id.match(t);movie="http://player.vimeo.com/video/"+n[3]+"?title=0&byline=0&portrait=0";if(settings.autoplay)movie+="&autoplay=1;";vimeo_width=a["width"]+"/embed/?moog_width="+a["width"];toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,a["height"]).replace(/{path}/g,movie);break;case"quicktime":a=w(movie_width,movie_height);a["height"]+=15;a["contentHeight"]+=15;a["containerHeight"]+=15;toInject=settings.quicktime_markup.replace(/{width}/g,a["width"]).replace(/{height}/g,a["height"]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":a=w(movie_width,movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf("?"));toInject=settings.flash_markup.replace(/{width}/g,a["width"]).replace(/{height}/g,a["height"]).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":a=w(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1);toInject=settings.iframe_markup.replace(/{width}/g,a["width"]).replace(/{height}/g,a["height"]).replace(/{path}/g,frame_url);break;case"ajax":doresize=false;a=w(movie_width,movie_height);doresize=true;skipInjection=true;e.get(pp_images[set_position],function(e){toInject=settings.inline_markup.replace(/{content}/g,e);$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;g()});break;case"custom":a=w(movie_width,movie_height);toInject=settings.custom_markup;break;case"inline":myClone=e(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(e("body")).show();doresize=false;a=w(e(myClone).width(),e(myClone).height());doresize=true;e(myClone).remove();toInject=settings.inline_markup.replace(/{content}/g,e(pp_images[set_position]).html());break}if(!imgPreloader&&!skipInjection){$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;g()}});return false};e.prettyPhoto.changePage=function(t){currentGalleryPage=0;if(t=="previous"){set_position--;if(set_position<0)set_position=e(pp_images).size()-1}else if(t=="next"){set_position++;if(set_position>e(pp_images).size()-1)set_position=0}else{set_position=t}rel_index=set_position;if(!doresize)doresize=true;if(settings.allow_expand){e(".pp_contract").removeClass("pp_contract").addClass("pp_expand")}y(function(){e.prettyPhoto.open()})};e.prettyPhoto.changeGalleryPage=function(e){if(e=="next"){currentGalleryPage++;if(currentGalleryPage>totalPage)currentGalleryPage=0}else if(e=="previous"){currentGalleryPage--;if(currentGalleryPage<0)currentGalleryPage=totalPage}else{currentGalleryPage=e}slide_speed=e=="next"||e=="previous"?settings.animation_speed:0;slide_to=currentGalleryPage*itemsPerPage*itemWidth;$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)};e.prettyPhoto.startSlideshow=function(){if(typeof m=="undefined"){$pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){e.prettyPhoto.stopSlideshow();return false});m=setInterval(e.prettyPhoto.startSlideshow,settings.slideshow)}else{e.prettyPhoto.changePage("next")}};e.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){e.prettyPhoto.startSlideshow();return false});clearInterval(m);m=undefined};e.prettyPhoto.close=function(){if($pp_overlay.is(":animated"))return;e.prettyPhoto.stopSlideshow();$pp_pic_holder.stop().find("object,embed").css("visibility","hidden");e("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){e(this).remove()});$pp_overlay.fadeOut(settings.animation_speed,function(){if(settings.hideflash)e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible");e(this).remove();e(window).unbind("scroll.prettyphoto");r();settings.callback();doresize=true;f=false;delete settings})};if(!pp_alreadyInitialized&&t()){pp_alreadyInitialized=true;hashIndex=t();hashRel=hashIndex;hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1);hashRel=hashRel.substring(0,hashRel.indexOf("/"));setTimeout(function(){e("a["+s.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)}return this.unbind("click.prettyphoto").bind("click.prettyphoto",e.prettyPhoto.initialize)};})(jQuery);var pp_alreadyInitialized=false